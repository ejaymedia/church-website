(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function dS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ip={exports:{}},Ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT;function TI(){if(rT)return Ou;rT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Ou.Fragment=e,Ou.jsx=n,Ou.jsxs=n,Ou}var aT;function mS(){return aT||(aT=1,Ip.exports=TI()),Ip.exports}var T=mS(),Np={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function EI(){if(oT)return Ne;oT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function R(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,N={};function U(L,te,he){this.props=L,this.context=te,this.refs=N,this.updater=he||O}U.prototype.isReactComponent={},U.prototype.setState=function(L,te){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,te,"setState")},U.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function H(){}H.prototype=U.prototype;function K(L,te,he){this.props=L,this.context=te,this.refs=N,this.updater=he||O}var le=K.prototype=new H;le.constructor=K,z(le,U.prototype),le.isPureReactComponent=!0;var ae=Array.isArray;function ce(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(L,te,he){var de=he.ref;return{$$typeof:t,type:L,key:te,ref:de!==void 0?de:null,props:he}}function k(L,te){return C(L.type,te,L.props)}function P(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function B(L){var te={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(he){return te[he]})}var D=/\/+/g;function je(L,te){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):te.toString(36)}function Ke(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ce,ce):(L.status="pending",L.then(function(te){L.status==="pending"&&(L.status="fulfilled",L.value=te)},function(te){L.status==="pending"&&(L.status="rejected",L.reason=te)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Z(L,te,he,de,be){var Re=typeof L;(Re==="undefined"||Re==="boolean")&&(L=null);var Me=!1;if(L===null)Me=!0;else switch(Re){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(L.$$typeof){case t:case e:Me=!0;break;case y:return Me=L._init,Z(Me(L._payload),te,he,de,be)}}if(Me)return be=be(L),Me=de===""?"."+je(L,0):de,ae(be)?(he="",Me!=null&&(he=Me.replace(D,"$&/")+"/"),Z(be,te,he,"",function(Qn){return Qn})):be!=null&&(P(be)&&(be=k(be,he+(be.key==null||L&&L.key===be.key?"":(""+be.key).replace(D,"$&/")+"/")+Me)),te.push(be)),1;Me=0;var yt=de===""?".":de+":";if(ae(L))for(var rt=0;rt<L.length;rt++)de=L[rt],Re=yt+je(de,rt),Me+=Z(de,te,he,Re,be);else if(rt=R(L),typeof rt=="function")for(L=rt.call(L),rt=0;!(de=L.next()).done;)de=de.value,Re=yt+je(de,rt++),Me+=Z(de,te,he,Re,be);else if(Re==="object"){if(typeof L.then=="function")return Z(Ke(L),te,he,de,be);throw te=String(L),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Me}function re(L,te,he){if(L==null)return L;var de=[],be=0;return Z(L,de,"","",function(Re){return te.call(he,Re,be++)}),de}function fe(L){if(L._status===-1){var te=L._result;te=te(),te.then(function(he){(L._status===0||L._status===-1)&&(L._status=1,L._result=he)},function(he){(L._status===0||L._status===-1)&&(L._status=2,L._result=he)}),L._status===-1&&(L._status=0,L._result=te)}if(L._status===1)return L._result.default;throw L._result}var ye=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ce={map:re,forEach:function(L,te,he){re(L,function(){te.apply(this,arguments)},he)},count:function(L){var te=0;return re(L,function(){te++}),te},toArray:function(L){return re(L,function(te){return te})||[]},only:function(L){if(!P(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ne.Activity=_,Ne.Children=Ce,Ne.Component=U,Ne.Fragment=n,Ne.Profiler=a,Ne.PureComponent=K,Ne.StrictMode=s,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(L){return I.H.useMemoCache(L)}},Ne.cache=function(L){return function(){return L.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(L,te,he){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var de=z({},L.props),be=L.key;if(te!=null)for(Re in te.key!==void 0&&(be=""+te.key),te)!A.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(de[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)de.children=he;else if(1<Re){for(var Me=Array(Re),yt=0;yt<Re;yt++)Me[yt]=arguments[yt+2];de.children=Me}return C(L.type,be,de)},Ne.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ne.createElement=function(L,te,he){var de,be={},Re=null;if(te!=null)for(de in te.key!==void 0&&(Re=""+te.key),te)A.call(te,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(be[de]=te[de]);var Me=arguments.length-2;if(Me===1)be.children=he;else if(1<Me){for(var yt=Array(Me),rt=0;rt<Me;rt++)yt[rt]=arguments[rt+2];be.children=yt}if(L&&L.defaultProps)for(de in Me=L.defaultProps,Me)be[de]===void 0&&(be[de]=Me[de]);return C(L,Re,be)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:d,render:L}},Ne.isValidElement=P,Ne.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:fe}},Ne.memo=function(L,te){return{$$typeof:p,type:L,compare:te===void 0?null:te}},Ne.startTransition=function(L){var te=I.T,he={};I.T=he;try{var de=L(),be=I.S;be!==null&&be(he,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ce,ye)}catch(Re){ye(Re)}finally{te!==null&&he.types!==null&&(te.types=he.types),I.T=te}},Ne.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ne.use=function(L){return I.H.use(L)},Ne.useActionState=function(L,te,he){return I.H.useActionState(L,te,he)},Ne.useCallback=function(L,te){return I.H.useCallback(L,te)},Ne.useContext=function(L){return I.H.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L,te){return I.H.useDeferredValue(L,te)},Ne.useEffect=function(L,te){return I.H.useEffect(L,te)},Ne.useEffectEvent=function(L){return I.H.useEffectEvent(L)},Ne.useId=function(){return I.H.useId()},Ne.useImperativeHandle=function(L,te,he){return I.H.useImperativeHandle(L,te,he)},Ne.useInsertionEffect=function(L,te){return I.H.useInsertionEffect(L,te)},Ne.useLayoutEffect=function(L,te){return I.H.useLayoutEffect(L,te)},Ne.useMemo=function(L,te){return I.H.useMemo(L,te)},Ne.useOptimistic=function(L,te){return I.H.useOptimistic(L,te)},Ne.useReducer=function(L,te,he){return I.H.useReducer(L,te,he)},Ne.useRef=function(L){return I.H.useRef(L)},Ne.useState=function(L){return I.H.useState(L)},Ne.useSyncExternalStore=function(L,te,he){return I.H.useSyncExternalStore(L,te,he)},Ne.useTransition=function(){return I.H.useTransition()},Ne.version="19.2.0",Ne}var lT;function rd(){return lT||(lT=1,Np.exports=EI()),Np.exports}var V=rd();const wI=dS(V);var Dp={exports:{}},Pu={},Mp={exports:{}},Vp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function SI(){return uT||(uT=1,(function(t){function e(Z,re){var fe=Z.length;Z.push(re);e:for(;0<fe;){var ye=fe-1>>>1,Ce=Z[ye];if(0<a(Ce,re))Z[ye]=re,Z[fe]=Ce,fe=ye;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var re=Z[0],fe=Z.pop();if(fe!==re){Z[0]=fe;e:for(var ye=0,Ce=Z.length,L=Ce>>>1;ye<L;){var te=2*(ye+1)-1,he=Z[te],de=te+1,be=Z[de];if(0>a(he,fe))de<Ce&&0>a(be,he)?(Z[ye]=be,Z[de]=fe,ye=de):(Z[ye]=he,Z[te]=fe,ye=te);else if(de<Ce&&0>a(be,fe))Z[ye]=be,Z[de]=fe,ye=de;else break e}}return re}function a(Z,re){var fe=Z.sortIndex-re.sortIndex;return fe!==0?fe:Z.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,w=3,R=!1,O=!1,z=!1,N=!1,U=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function le(Z){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=Z)s(p),re.sortIndex=re.expirationTime,e(m,re);else break;re=n(p)}}function ae(Z){if(z=!1,le(Z),!O)if(n(m)!==null)O=!0,ce||(ce=!0,B());else{var re=n(p);re!==null&&Ke(ae,re.startTime-Z)}}var ce=!1,I=-1,A=5,C=-1;function k(){return N?!0:!(t.unstable_now()-C<A)}function P(){if(N=!1,ce){var Z=t.unstable_now();C=Z;var re=!0;try{e:{O=!1,z&&(z=!1,H(I),I=-1),R=!0;var fe=w;try{t:{for(le(Z),_=n(m);_!==null&&!(_.expirationTime>Z&&k());){var ye=_.callback;if(typeof ye=="function"){_.callback=null,w=_.priorityLevel;var Ce=ye(_.expirationTime<=Z);if(Z=t.unstable_now(),typeof Ce=="function"){_.callback=Ce,le(Z),re=!0;break t}_===n(m)&&s(m),le(Z)}else s(m);_=n(m)}if(_!==null)re=!0;else{var L=n(p);L!==null&&Ke(ae,L.startTime-Z),re=!1}}break e}finally{_=null,w=fe,R=!1}re=void 0}}finally{re?B():ce=!1}}}var B;if(typeof K=="function")B=function(){K(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,je=D.port2;D.port1.onmessage=P,B=function(){je.postMessage(null)}}else B=function(){U(P,0)};function Ke(Z,re){I=U(function(){Z(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var fe=w;w=re;try{return Z()}finally{w=fe}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(Z,re){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var fe=w;w=Z;try{return re()}finally{w=fe}},t.unstable_scheduleCallback=function(Z,re,fe){var ye=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ye+fe:ye):fe=ye,Z){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=fe+Ce,Z={id:y++,callback:re,priorityLevel:Z,startTime:fe,expirationTime:Ce,sortIndex:-1},fe>ye?(Z.sortIndex=fe,e(p,Z),n(m)===null&&Z===n(p)&&(z?(H(I),I=-1):z=!0,Ke(ae,fe-ye))):(Z.sortIndex=Ce,e(m,Z),O||R||(O=!0,ce||(ce=!0,B()))),Z},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(Z){var re=w;return function(){var fe=w;w=re;try{return Z.apply(this,arguments)}finally{w=fe}}}})(Vp)),Vp}var cT;function xI(){return cT||(cT=1,Mp.exports=SI()),Mp.exports}var Op={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function AI(){if(hT)return dn;hT=1;var t=rd();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},dn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},dn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},dn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},dn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},dn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},dn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},dn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},dn.requestFormReset=function(m){s.d.r(m)},dn.unstable_batchedUpdates=function(m,p){return m(p)},dn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},dn.useFormStatus=function(){return c.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var fT;function RI(){if(fT)return Op.exports;fT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Op.exports=AI(),Op.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function CI(){if(dT)return Pu;dT=1;var t=xI(),e=rd(),n=RI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),i;if(g===u)return m(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var b=!1,S=f.child;S;){if(S===o){b=!0,o=f,u=g;break}if(S===u){b=!0,u=f,o=g;break}S=S.sibling}if(!b){for(S=g.child;S;){if(S===o){b=!0,o=g,u=f;break}if(S===u){b=!0,u=g,o=f;break}S=S.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),K=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function je(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case U:return"Profiler";case N:return"StrictMode";case ae:return"Suspense";case ce:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case K:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case le:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:je(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return je(i(r))}catch{}}return null}var Ke=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ye=[],Ce=-1;function L(i){return{current:i}}function te(i){0>Ce||(i.current=ye[Ce],ye[Ce]=null,Ce--)}function he(i,r){Ce++,ye[Ce]=i.current,i.current=r}var de=L(null),be=L(null),Re=L(null),Me=L(null);function yt(i,r){switch(he(Re,r),he(be,i),he(de,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Cb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Cb(r),i=Ib(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(de),he(de,i)}function rt(){te(de),te(be),te(Re)}function Qn(i){i.memoizedState!==null&&he(Me,i);var r=de.current,o=Ib(r,i.type);r!==o&&(he(be,i),he(de,o))}function Jt(i){be.current===i&&(te(de),te(be)),Me.current===i&&(te(Me),Nu._currentValue=fe)}var Xn,wn;function Sn(i){if(Xn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Xn=r&&r[1]||"",wn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xn+i+wn}var tr=!1;function Wn(i,r){if(!i||tr)return"";tr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var $=X}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(X){$=X}i.call(ne.prototype)}}else{try{throw Error()}catch(X){$=X}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],S=g[1];if(b&&S){var M=b.split(`
`),Y=S.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===Y.length)for(u=M.length-1,f=Y.length-1;1<=u&&0<=f&&M[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==Y[f]){var J=`
`+M[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=f);break}}}finally{tr=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Sn(o):""}function Bi(i,r){switch(i.tag){case 26:case 27:case 5:return Sn(i.type);case 16:return Sn("Lazy");case 13:return i.child!==r&&r!==null?Sn("Suspense Fallback"):Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return Wn(i.type,!1);case 11:return Wn(i.type.render,!1);case 1:return Wn(i.type,!0);case 31:return Sn("Activity");default:return""}}function xn(i){try{var r="",o=null;do r+=Bi(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Et=Object.prototype.hasOwnProperty,wt=t.unstable_scheduleCallback,Zn=t.unstable_cancelCallback,Ol=t.unstable_shouldYield,to=t.unstable_requestPaint,Ht=t.unstable_now,Es=t.unstable_getCurrentPriorityLevel,ra=t.unstable_ImmediatePriority,aa=t.unstable_UserBlockingPriority,_n=t.unstable_NormalPriority,Pl=t.unstable_LowPriority,no=t.unstable_IdlePriority,io=t.log,so=t.unstable_setDisableYieldValue,Ln=null,qt=null;function fn(i){if(typeof io=="function"&&so(i),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Ln,i)}catch{}}var vt=Math.clz32?Math.clz32:ao,ro=Math.log,nr=Math.LN2;function ao(i){return i>>>=0,i===0?32:31-(ro(i)/nr|0)|0}var Jn=256,Si=262144,St=4194304;function ei(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ti(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?f=ei(u):(b&=S,b!==0?f=ei(b):o||(o=S&~i,o!==0&&(f=ei(o))))):(S=u&~g,S!==0?f=ei(S):b!==0?f=ei(b):o||(o=u&~i,o!==0&&(f=ei(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function jn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function oa(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var i=St;return St<<=1,(St&62914560)===0&&(St=4194304),i}function ni(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ws(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function kl(i,r,o,u,f,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,M=i.expirationTimes,Y=i.hiddenUpdates;for(o=b&~o;0<o;){var J=31-vt(o),ne=1<<J;S[J]=0,M[J]=-1;var $=Y[J];if($!==null)for(Y[J]=null,J=0;J<$.length;J++){var X=$[J];X!==null&&(X.lane&=-536870913)}o&=~ne}u!==0&&Ss(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function Ss(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-vt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function W(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-vt(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function oe(i,r){var o=r&-r;return o=(o&42)!==0?1:pe(o),(o&(i.suspendedLanes|r))!==0?0:o}function pe(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function lt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zi(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:Zb(i.type))}function en(i,r){var o=re.p;try{return re.p=i,r()}finally{re.p=o}}var An=Math.random().toString(36).slice(2),_t="__reactFiber$"+An,$t="__reactProps$"+An,Fi="__reactContainer$"+An,lo="__reactEvents$"+An,Pd="__reactListeners$"+An,kc="__reactHandles$"+An,Lc="__reactResources$"+An,Hi="__reactMarker$"+An;function uo(i){delete i[_t],delete i[$t],delete i[lo],delete i[Pd],delete i[kc]}function qi(i){var r=i[_t];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Fi]||o[_t]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=kb(i);i!==null;){if(o=i[_t])return o;i=kb(i)}return r}i=o,o=i.parentNode}return null}function ii(i){if(i=i[_t]||i[Fi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Un(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Gi(i){var r=i[Lc];return r||(r=i[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Vt(i){i[Hi]=!0}var Ll=new Set,jl={};function Ki(i,r){Yi(i,r),Yi(i+"Capture",r)}function Yi(i,r){for(jl[i]=r,i=0;i<r.length;i++)Ll.add(r[i])}var Ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},zl={};function jc(i){return Et.call(zl,i)?!0:Et.call(Bl,i)?!1:Ul.test(i)?zl[i]=!0:(Bl[i]=!0,!1)}function co(i,r,o){if(jc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Bn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ot(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ir(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Fl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ze(i){if(!i._valueTracker){var r=ir(i)?"checked":"value";i._valueTracker=Fl(i,r,""+i[r])}}function la(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=ir(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function $i(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ua=/[\n"\\]/g;function Rn(i){return i.replace(ua,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ho(i,r,o,u,f,g,b,S){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Qt(r)):i.value!==""+Qt(r)&&(i.value=""+Qt(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Hl(i,b,Qt(r)):o!=null?Hl(i,b,Qt(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Qt(S):i.removeAttribute("name")}function Uc(i,r,o,u,f,g,b,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Ze(i);return}o=o!=null?""+Qt(o):"",r=r!=null?""+Qt(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),Ze(i)}function Hl(i,r,o){r==="number"&&$i(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function sr(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Qt(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Bc(i,r,o){if(r!=null&&(r=""+Qt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Qt(o):""}function rr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Ke(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Qt(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Ze(i)}function Cn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var zc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ql(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||zc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Gl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&ql(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&ql(i,g,r[g])}function fo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(i){return ar.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function xi(){}var Kl=null;function si(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var or=null,Qi=null;function ca(i){var r=ii(i);if(r&&(i=r.stateNode)){var o=i[$t]||null;e:switch(i=r.stateNode,r.type){case"input":if(ho(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[$t]||null;if(!f)throw Error(s(90));ho(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&la(u)}break e;case"textarea":Bc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&sr(i,!!o.multiple,r,!1)}}}var po=!1;function lr(i,r,o){if(po)return i(r,o);po=!0;try{var u=i(r);return u}finally{if(po=!1,(or!==null||Qi!==null)&&(Ph(),or&&(r=or,i=Qi,Qi=or=null,ca(r),i)))for(r=0;r<i.length;r++)ca(i[r])}}function Ai(i,r){var o=i.stateNode;if(o===null)return null;var u=o[$t]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(ri)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){ha=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{ha=!1}var Xi=null,Yl=null,fa=null;function $l(){if(fa)return fa;var i,r=Yl,o=r.length,u,f="value"in Xi?Xi.value:Xi.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===f[g-u];u++);return fa=f.slice(i,1<u?1-u:void 0)}function da(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function xs(){return!0}function Ri(){return!1}function tn(i){function r(o,u,f,g,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?xs:Ri,this.isPropagationStopped=Ri,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),r}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=tn(As),ur=_({},As,{view:0,detail:0}),Ql=tn(ur),cr,go,Zi,yo=_({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Zi&&(Zi&&i.type==="mousemove"?(cr=i.screenX-Zi.screenX,go=i.screenY-Zi.screenY):go=cr=0,Zi=i),cr)},movementY:function(i){return"movementY"in i?i.movementY:go}}),Xl=tn(yo),ma=_({},yo,{dataTransfer:0}),Hc=tn(ma),qc=_({},ur,{relatedTarget:0}),pa=tn(qc),Wl=_({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),Gc=tn(Wl),vo=_({},As,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Kc=tn(vo),Yc=_({},As,{data:0}),Ji=tn(Yc),$c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Xc[i])?!!r[i]:!1}function hr(){return Wc}var bn=_({},ur,{key:function(i){if(i.key){var r=$c[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=da(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(i){return i.type==="keypress"?da(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?da(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Zc=tn(bn),Jc=_({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rs=tn(Jc),h=_({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),v=tn(h),E=_({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=tn(E),q=_({},yo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=tn(q),ue=_({},As,{newState:0,oldState:0}),Ve=tn(ue),Ct=[9,13,27,32],Qe=ri&&"CompositionEvent"in window,dt=null;ri&&"documentMode"in document&&(dt=document.documentMode);var ai=ri&&"TextEvent"in window&&!dt,es=ri&&(!Qe||dt&&8<dt&&11>=dt),Ci=" ",Ii=!1;function ga(i,r){switch(i){case"keyup":return Ct.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var bo=!1;function GR(i,r){switch(i){case"compositionend":return _o(r);case"keypress":return r.which!==32?null:(Ii=!0,Ci);case"textInput":return i=r.data,i===Ci&&Ii?null:i;default:return null}}function KR(i,r){if(bo)return i==="compositionend"||!Qe&&ga(i,r)?(i=$l(),fa=Yl=Xi=null,bo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return es&&r.locale!=="ko"?null:r.data;default:return null}}var YR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!YR[i.type]:r==="textarea"}function Bv(i,r,o,u){or?Qi?Qi.push(u):Qi=[u]:or=u,r=Fh(r,"onChange"),0<r.length&&(o=new Wi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Zl=null,Jl=null;function $R(i){Eb(i,0)}function eh(i){var r=Un(i);if(la(r))return i}function zv(i,r){if(i==="change")return r}var Fv=!1;if(ri){var kd;if(ri){var Ld="oninput"in document;if(!Ld){var Hv=document.createElement("div");Hv.setAttribute("oninput","return;"),Ld=typeof Hv.oninput=="function"}kd=Ld}else kd=!1;Fv=kd&&(!document.documentMode||9<document.documentMode)}function qv(){Zl&&(Zl.detachEvent("onpropertychange",Gv),Jl=Zl=null)}function Gv(i){if(i.propertyName==="value"&&eh(Jl)){var r=[];Bv(r,Jl,i,si(i)),lr($R,r)}}function QR(i,r,o){i==="focusin"?(qv(),Zl=r,Jl=o,Zl.attachEvent("onpropertychange",Gv)):i==="focusout"&&qv()}function XR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return eh(Jl)}function WR(i,r){if(i==="click")return eh(r)}function ZR(i,r){if(i==="input"||i==="change")return eh(r)}function JR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var zn=typeof Object.is=="function"?Object.is:JR;function eu(i,r){if(zn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Et.call(r,f)||!zn(i[f],r[f]))return!1}return!0}function Kv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yv(i,r){var o=Kv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Kv(o)}}function $v(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?$v(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Qv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=$i(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=$i(i.document)}return r}function jd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var eC=ri&&"documentMode"in document&&11>=document.documentMode,To=null,Ud=null,tu=null,Bd=!1;function Xv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bd||To==null||To!==$i(u)||(u=To,"selectionStart"in u&&jd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),tu&&eu(tu,u)||(tu=u,u=Fh(Ud,"onSelect"),0<u.length&&(r=new Wi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=To)))}function ya(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Eo={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},zd={},Wv={};ri&&(Wv=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function va(i){if(zd[i])return zd[i];if(!Eo[i])return i;var r=Eo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Wv)return zd[i]=r[o];return i}var Zv=va("animationend"),Jv=va("animationiteration"),e0=va("animationstart"),tC=va("transitionrun"),nC=va("transitionstart"),iC=va("transitioncancel"),t0=va("transitionend"),n0=new Map,Fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fd.push("scrollEnd");function Ni(i,r){n0.set(i,r),Ki(r,[i])}var th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},oi=[],wo=0,Hd=0;function nh(){for(var i=wo,r=Hd=wo=0;r<i;){var o=oi[r];oi[r++]=null;var u=oi[r];oi[r++]=null;var f=oi[r];oi[r++]=null;var g=oi[r];if(oi[r++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&i0(o,f,g)}}function ih(i,r,o,u){oi[wo++]=i,oi[wo++]=r,oi[wo++]=o,oi[wo++]=u,Hd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function qd(i,r,o,u){return ih(i,r,o,u),sh(i)}function _a(i,r){return ih(i,null,null,r),sh(i)}function i0(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-vt(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function sh(i){if(50<wu)throw wu=0,Jm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var So={};function sC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(i,r,o,u){return new sC(i,r,o,u)}function Gd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Cs(i,r){var o=i.alternate;return o===null?(o=Fn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function s0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function rh(i,r,o,u,f,g){var b=0;if(u=i,typeof i=="function")Gd(i)&&(b=1);else if(typeof i=="string")b=uI(i,o,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Fn(31,o,r,f),i.elementType=C,i.lanes=g,i;case z:return ba(o.children,f,g,r);case N:b=8,f|=24;break;case U:return i=Fn(12,o,r,f|2),i.elementType=U,i.lanes=g,i;case ae:return i=Fn(13,o,r,f),i.elementType=ae,i.lanes=g,i;case ce:return i=Fn(19,o,r,f),i.elementType=ce,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:b=10;break e;case H:b=9;break e;case le:b=11;break e;case I:b=14;break e;case A:b=16,u=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Fn(b,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function ba(i,r,o,u){return i=Fn(7,i,u,r),i.lanes=o,i}function Kd(i,r,o){return i=Fn(6,i,null,r),i.lanes=o,i}function r0(i){var r=Fn(18,null,null,0);return r.stateNode=i,r}function Yd(i,r,o){return r=Fn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var a0=new WeakMap;function li(i,r){if(typeof i=="object"&&i!==null){var o=a0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:xn(r)},a0.set(i,r),r)}return{value:i,source:r,stack:xn(r)}}var xo=[],Ao=0,ah=null,nu=0,ui=[],ci=0,fr=null,ts=1,ns="";function Is(i,r){xo[Ao++]=nu,xo[Ao++]=ah,ah=i,nu=r}function o0(i,r,o){ui[ci++]=ts,ui[ci++]=ns,ui[ci++]=fr,fr=i;var u=ts;i=ns;var f=32-vt(u)-1;u&=~(1<<f),o+=1;var g=32-vt(r)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,ts=1<<32-vt(r)+f|o<<f|u,ns=g+i}else ts=1<<g|o<<f|u,ns=i}function $d(i){i.return!==null&&(Is(i,1),o0(i,1,0))}function Qd(i){for(;i===ah;)ah=xo[--Ao],xo[Ao]=null,nu=xo[--Ao],xo[Ao]=null;for(;i===fr;)fr=ui[--ci],ui[ci]=null,ns=ui[--ci],ui[ci]=null,ts=ui[--ci],ui[ci]=null}function l0(i,r){ui[ci++]=ts,ui[ci++]=ns,ui[ci++]=fr,ts=r.id,ns=r.overflow,fr=i}var nn=null,ut=null,qe=!1,dr=null,hi=!1,Xd=Error(s(519));function mr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw iu(li(r,i)),Xd}function u0(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[_t]=i,r[$t]=u,o){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(o=0;o<xu.length;o++)Le(xu[o],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),Uc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),rr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Ab(r.textContent,o)?(u.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),u.onScroll!=null&&Le("scroll",r),u.onScrollEnd!=null&&Le("scrollend",r),u.onClick!=null&&(r.onclick=xi),r=!0):r=!1,r||mr(i,!0)}function c0(i){for(nn=i.return;nn;)switch(nn.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:nn=nn.return}}function Ro(i){if(i!==nn)return!1;if(!qe)return c0(i),qe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||mp(i.type,i.memoizedProps)),o=!o),o&&ut&&mr(i),c0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ut=Pb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ut=Pb(i)}else r===27?(r=ut,Cr(i.type)?(i=_p,_p=null,ut=i):ut=r):ut=nn?di(i.stateNode.nextSibling):null;return!0}function Ta(){ut=nn=null,qe=!1}function Wd(){var i=dr;return i!==null&&(Mn===null?Mn=i:Mn.push.apply(Mn,i),dr=null),i}function iu(i){dr===null?dr=[i]:dr.push(i)}var Zd=L(null),Ea=null,Ns=null;function pr(i,r,o){he(Zd,r._currentValue),r._currentValue=o}function Ds(i){i._currentValue=Zd.current,te(Zd)}function Jd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function em(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var M=0;M<r.length;M++)if(S.context===r[M]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Jd(g.return,o,i),u||(b=null);break e}g=S.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Jd(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Co(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var S=f.type;zn(f.pendingProps.value,b.value)||(i!==null?i.push(S):i=[S])}}else if(f===Me.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Nu):i=[Nu])}f=f.return}i!==null&&em(r,i,o,u),r.flags|=262144}function oh(i){for(i=i.firstContext;i!==null;){if(!zn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function wa(i){Ea=i,Ns=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sn(i){return h0(Ea,i)}function lh(i,r){return Ea===null&&wa(i),h0(i,r)}function h0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ns===null){if(i===null)throw Error(s(308));Ns=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ns=Ns.next=r;return o}var rC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},aC=t.unstable_scheduleCallback,oC=t.unstable_NormalPriority,Pt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tm(){return{controller:new rC,data:new Map,refCount:0}}function su(i){i.refCount--,i.refCount===0&&aC(oC,function(){i.controller.abort()})}var ru=null,nm=0,Io=0,No=null;function lC(i,r){if(ru===null){var o=ru=[];nm=0,Io=rp(),No={status:"pending",value:void 0,then:function(u){o.push(u)}}}return nm++,r.then(f0,f0),r}function f0(){if(--nm===0&&ru!==null){No!==null&&(No.status="fulfilled");var i=ru;ru=null,Io=0,No=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function uC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var d0=Z.S;Z.S=function(i,r){X_=Ht(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&lC(i,r),d0!==null&&d0(i,r)};var Sa=L(null);function im(){var i=Sa.current;return i!==null?i:at.pooledCache}function uh(i,r){r===null?he(Sa,Sa.current):he(Sa,r.pool)}function m0(){var i=im();return i===null?null:{parent:Pt._currentValue,pool:i}}var Do=Error(s(460)),sm=Error(s(474)),ch=Error(s(542)),hh={then:function(){}};function p0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function g0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(xi,xi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,v0(i),i;default:if(typeof r.status=="string")r.then(xi,xi);else{if(i=at,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,v0(i),i}throw Aa=r,Do}}function xa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Aa=o,Do):o}}var Aa=null;function y0(){if(Aa===null)throw Error(s(459));var i=Aa;return Aa=null,i}function v0(i){if(i===Do||i===ch)throw Error(s(483))}var Mo=null,au=0;function fh(i){var r=au;return au+=1,Mo===null&&(Mo=[]),g0(Mo,i,r)}function ou(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function dh(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function _0(i){function r(F,j){if(i){var G=F.deletions;G===null?(F.deletions=[j],F.flags|=16):G.push(j)}}function o(F,j){if(!i)return null;for(;j!==null;)r(F,j),j=j.sibling;return null}function u(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function f(F,j){return F=Cs(F,j),F.index=0,F.sibling=null,F}function g(F,j,G){return F.index=G,i?(G=F.alternate,G!==null?(G=G.index,G<j?(F.flags|=67108866,j):G):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function b(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function S(F,j,G,ee){return j===null||j.tag!==6?(j=Kd(G,F.mode,ee),j.return=F,j):(j=f(j,G),j.return=F,j)}function M(F,j,G,ee){var Te=G.type;return Te===z?J(F,j,G.props.children,ee,G.key):j!==null&&(j.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&xa(Te)===j.type)?(j=f(j,G.props),ou(j,G),j.return=F,j):(j=rh(G.type,G.key,G.props,null,F.mode,ee),ou(j,G),j.return=F,j)}function Y(F,j,G,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=Yd(G,F.mode,ee),j.return=F,j):(j=f(j,G.children||[]),j.return=F,j)}function J(F,j,G,ee,Te){return j===null||j.tag!==7?(j=ba(G,F.mode,ee,Te),j.return=F,j):(j=f(j,G),j.return=F,j)}function ne(F,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Kd(""+j,F.mode,G),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case R:return G=rh(j.type,j.key,j.props,null,F.mode,G),ou(G,j),G.return=F,G;case O:return j=Yd(j,F.mode,G),j.return=F,j;case A:return j=xa(j),ne(F,j,G)}if(Ke(j)||B(j))return j=ba(j,F.mode,G,null),j.return=F,j;if(typeof j.then=="function")return ne(F,fh(j),G);if(j.$$typeof===K)return ne(F,lh(F,j),G);dh(F,j)}return null}function $(F,j,G,ee){var Te=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Te!==null?null:S(F,j,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case R:return G.key===Te?M(F,j,G,ee):null;case O:return G.key===Te?Y(F,j,G,ee):null;case A:return G=xa(G),$(F,j,G,ee)}if(Ke(G)||B(G))return Te!==null?null:J(F,j,G,ee,null);if(typeof G.then=="function")return $(F,j,fh(G),ee);if(G.$$typeof===K)return $(F,j,lh(F,G),ee);dh(F,G)}return null}function X(F,j,G,ee,Te){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get(G)||null,S(j,F,""+ee,Te);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case R:return F=F.get(ee.key===null?G:ee.key)||null,M(j,F,ee,Te);case O:return F=F.get(ee.key===null?G:ee.key)||null,Y(j,F,ee,Te);case A:return ee=xa(ee),X(F,j,G,ee,Te)}if(Ke(ee)||B(ee))return F=F.get(G)||null,J(j,F,ee,Te,null);if(typeof ee.then=="function")return X(F,j,G,fh(ee),Te);if(ee.$$typeof===K)return X(F,j,G,lh(j,ee),Te);dh(j,ee)}return null}function ge(F,j,G,ee){for(var Te=null,Ye=null,_e=j,Pe=j=0,Be=null;_e!==null&&Pe<G.length;Pe++){_e.index>Pe?(Be=_e,_e=null):Be=_e.sibling;var $e=$(F,_e,G[Pe],ee);if($e===null){_e===null&&(_e=Be);break}i&&_e&&$e.alternate===null&&r(F,_e),j=g($e,j,Pe),Ye===null?Te=$e:Ye.sibling=$e,Ye=$e,_e=Be}if(Pe===G.length)return o(F,_e),qe&&Is(F,Pe),Te;if(_e===null){for(;Pe<G.length;Pe++)_e=ne(F,G[Pe],ee),_e!==null&&(j=g(_e,j,Pe),Ye===null?Te=_e:Ye.sibling=_e,Ye=_e);return qe&&Is(F,Pe),Te}for(_e=u(_e);Pe<G.length;Pe++)Be=X(_e,F,Pe,G[Pe],ee),Be!==null&&(i&&Be.alternate!==null&&_e.delete(Be.key===null?Pe:Be.key),j=g(Be,j,Pe),Ye===null?Te=Be:Ye.sibling=Be,Ye=Be);return i&&_e.forEach(function(Vr){return r(F,Vr)}),qe&&Is(F,Pe),Te}function we(F,j,G,ee){if(G==null)throw Error(s(151));for(var Te=null,Ye=null,_e=j,Pe=j=0,Be=null,$e=G.next();_e!==null&&!$e.done;Pe++,$e=G.next()){_e.index>Pe?(Be=_e,_e=null):Be=_e.sibling;var Vr=$(F,_e,$e.value,ee);if(Vr===null){_e===null&&(_e=Be);break}i&&_e&&Vr.alternate===null&&r(F,_e),j=g(Vr,j,Pe),Ye===null?Te=Vr:Ye.sibling=Vr,Ye=Vr,_e=Be}if($e.done)return o(F,_e),qe&&Is(F,Pe),Te;if(_e===null){for(;!$e.done;Pe++,$e=G.next())$e=ne(F,$e.value,ee),$e!==null&&(j=g($e,j,Pe),Ye===null?Te=$e:Ye.sibling=$e,Ye=$e);return qe&&Is(F,Pe),Te}for(_e=u(_e);!$e.done;Pe++,$e=G.next())$e=X(_e,F,Pe,$e.value,ee),$e!==null&&(i&&$e.alternate!==null&&_e.delete($e.key===null?Pe:$e.key),j=g($e,j,Pe),Ye===null?Te=$e:Ye.sibling=$e,Ye=$e);return i&&_e.forEach(function(bI){return r(F,bI)}),qe&&Is(F,Pe),Te}function st(F,j,G,ee){if(typeof G=="object"&&G!==null&&G.type===z&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case R:e:{for(var Te=G.key;j!==null;){if(j.key===Te){if(Te=G.type,Te===z){if(j.tag===7){o(F,j.sibling),ee=f(j,G.props.children),ee.return=F,F=ee;break e}}else if(j.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&xa(Te)===j.type){o(F,j.sibling),ee=f(j,G.props),ou(ee,G),ee.return=F,F=ee;break e}o(F,j);break}else r(F,j);j=j.sibling}G.type===z?(ee=ba(G.props.children,F.mode,ee,G.key),ee.return=F,F=ee):(ee=rh(G.type,G.key,G.props,null,F.mode,ee),ou(ee,G),ee.return=F,F=ee)}return b(F);case O:e:{for(Te=G.key;j!==null;){if(j.key===Te)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){o(F,j.sibling),ee=f(j,G.children||[]),ee.return=F,F=ee;break e}else{o(F,j);break}else r(F,j);j=j.sibling}ee=Yd(G,F.mode,ee),ee.return=F,F=ee}return b(F);case A:return G=xa(G),st(F,j,G,ee)}if(Ke(G))return ge(F,j,G,ee);if(B(G)){if(Te=B(G),typeof Te!="function")throw Error(s(150));return G=Te.call(G),we(F,j,G,ee)}if(typeof G.then=="function")return st(F,j,fh(G),ee);if(G.$$typeof===K)return st(F,j,lh(F,G),ee);dh(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(o(F,j.sibling),ee=f(j,G),ee.return=F,F=ee):(o(F,j),ee=Kd(G,F.mode,ee),ee.return=F,F=ee),b(F)):o(F,j)}return function(F,j,G,ee){try{au=0;var Te=st(F,j,G,ee);return Mo=null,Te}catch(_e){if(_e===Do||_e===ch)throw _e;var Ye=Fn(29,_e,null,F.mode);return Ye.lanes=ee,Ye.return=F,Ye}finally{}}}var Ra=_0(!0),b0=_0(!1),gr=!1;function rm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function am(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function yr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function vr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=sh(i),i0(i,null,o),r}return ih(i,u,r,o),sh(i)}function lu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,W(i,o)}}function om(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var lm=!1;function uu(){if(lm){var i=No;if(i!==null)throw i}}function cu(i,r,o,u){lm=!1;var f=i.updateQueue;gr=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,Y=M.next;M.next=null,b===null?g=Y:b.next=Y,b=M;var J=i.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==b&&(S===null?J.firstBaseUpdate=Y:S.next=Y,J.lastBaseUpdate=M))}if(g!==null){var ne=f.baseState;b=0,J=Y=M=null,S=g;do{var $=S.lane&-536870913,X=$!==S.lane;if(X?(Ue&$)===$:(u&$)===$){$!==0&&$===Io&&(lm=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=i,we=S;$=r;var st=o;switch(we.tag){case 1:if(ge=we.payload,typeof ge=="function"){ne=ge.call(st,ne,$);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=we.payload,$=typeof ge=="function"?ge.call(st,ne,$):ge,$==null)break e;ne=_({},ne,$);break e;case 2:gr=!0}}$=S.callback,$!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(Y=J=X,M=ne):J=J.next=X,b|=$;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(M=ne),f.baseState=M,f.firstBaseUpdate=Y,f.lastBaseUpdate=J,g===null&&(f.shared.lanes=0),wr|=b,i.lanes=b,i.memoizedState=ne}}function T0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function E0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)T0(o[i],r)}var Vo=L(null),mh=L(0);function w0(i,r){i=Bs,he(mh,i),he(Vo,r),Bs=i|r.baseLanes}function um(){he(mh,Bs),he(Vo,Vo.current)}function cm(){Bs=mh.current,te(Vo),te(mh)}var Hn=L(null),fi=null;function _r(i){var r=i.alternate;he(It,It.current&1),he(Hn,i),fi===null&&(r===null||Vo.current!==null||r.memoizedState!==null)&&(fi=i)}function hm(i){he(It,It.current),he(Hn,i),fi===null&&(fi=i)}function S0(i){i.tag===22?(he(It,It.current),he(Hn,i),fi===null&&(fi=i)):br()}function br(){he(It,It.current),he(Hn,Hn.current)}function qn(i){te(Hn),fi===i&&(fi=null),te(It)}var It=L(0);function ph(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||yp(o)||vp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ms=0,Oe=null,nt=null,kt=null,gh=!1,Oo=!1,Ca=!1,yh=0,hu=0,Po=null,cC=0;function xt(){throw Error(s(321))}function fm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!zn(i[o],r[o]))return!1;return!0}function dm(i,r,o,u,f,g){return Ms=g,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?o_:Cm,Ca=!1,g=o(u,f),Ca=!1,Oo&&(g=A0(r,o,u,f)),x0(i),g}function x0(i){Z.H=mu;var r=nt!==null&&nt.next!==null;if(Ms=0,kt=nt=Oe=null,gh=!1,hu=0,Po=null,r)throw Error(s(300));i===null||Lt||(i=i.dependencies,i!==null&&oh(i)&&(Lt=!0))}function A0(i,r,o,u){Oe=i;var f=0;do{if(Oo&&(Po=null),hu=0,Oo=!1,25<=f)throw Error(s(301));if(f+=1,kt=nt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=l_,g=r(o,u)}while(Oo);return g}function hC(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?fu(r):r,i=i.useState()[0],(nt!==null?nt.memoizedState:null)!==i&&(Oe.flags|=1024),r}function mm(){var i=yh!==0;return yh=0,i}function pm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function gm(i){if(gh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}gh=!1}Ms=0,kt=nt=Oe=null,Oo=!1,hu=yh=0,Po=null}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Oe.memoizedState=kt=i:kt=kt.next=i,kt}function Nt(){if(nt===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=nt.next;var r=kt===null?Oe.memoizedState:kt.next;if(r!==null)kt=r,nt=i;else{if(i===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));nt=i,i={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},kt===null?Oe.memoizedState=kt=i:kt=kt.next=i}return kt}function vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fu(i){var r=hu;return hu+=1,Po===null&&(Po=[]),i=g0(Po,i,r),r=Oe,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?o_:Cm),i}function _h(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return fu(i);if(i.$$typeof===K)return sn(i)}throw Error(s(438,String(i)))}function ym(i){var r=null,o=Oe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=vh(),Oe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=k;return r.index++,o}function Vs(i,r){return typeof r=="function"?r(i):r}function bh(i){var r=Nt();return vm(r,nt,i)}function vm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var S=b=null,M=null,Y=r,J=!1;do{var ne=Y.lane&-536870913;if(ne!==Y.lane?(Ue&ne)===ne:(Ms&ne)===ne){var $=Y.revertLane;if($===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ne===Io&&(J=!0);else if((Ms&$)===$){Y=Y.next,$===Io&&(J=!0);continue}else ne={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=ne,b=g):M=M.next=ne,Oe.lanes|=$,wr|=$;ne=Y.action,Ca&&o(g,ne),g=Y.hasEagerState?Y.eagerState:o(g,ne)}else $={lane:ne,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=$,b=g):M=M.next=$,Oe.lanes|=ne,wr|=ne;Y=Y.next}while(Y!==null&&Y!==r);if(M===null?b=g:M.next=S,!zn(g,i.memoizedState)&&(Lt=!0,J&&(o=No,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=M,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function _m(i){var r=Nt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=i(g,b.action),b=b.next;while(b!==f);zn(g,r.memoizedState)||(Lt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function R0(i,r,o){var u=Oe,f=Nt(),g=qe;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!zn((nt||f).memoizedState,o);if(b&&(f.memoizedState=o,Lt=!0),f=f.queue,Em(N0.bind(null,u,f,i),[i]),f.getSnapshot!==r||b||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,ko(9,{destroy:void 0},I0.bind(null,u,f,o,r),null),at===null)throw Error(s(349));g||(Ms&127)!==0||C0(u,r,o)}return o}function C0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r=vh(),Oe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function I0(i,r,o,u){r.value=o,r.getSnapshot=u,D0(r)&&M0(i)}function N0(i,r,o){return o(function(){D0(r)&&M0(i)})}function D0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!zn(i,o)}catch{return!0}}function M0(i){var r=_a(i,2);r!==null&&Vn(r,i,2)}function bm(i){var r=Tn();if(typeof i=="function"){var o=i;if(i=o(),Ca){fn(!0);try{o()}finally{fn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:i},r}function V0(i,r,o,u){return i.baseState=o,vm(i,nt,typeof u=="function"?u:Vs)}function fC(i,r,o,u,f){if(wh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,O0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function O0(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=Z.T,b={};Z.T=b;try{var S=o(f,u),M=Z.S;M!==null&&M(b,S),P0(i,r,S)}catch(Y){Tm(i,r,Y)}finally{g!==null&&b.types!==null&&(g.types=b.types),Z.T=g}}else try{g=o(f,u),P0(i,r,g)}catch(Y){Tm(i,r,Y)}}function P0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){k0(i,r,u)},function(u){return Tm(i,r,u)}):k0(i,r,o)}function k0(i,r,o){r.status="fulfilled",r.value=o,L0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,O0(i,o)))}function Tm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,L0(r),r=r.next;while(r!==u)}i.action=null}function L0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function j0(i,r){return r}function U0(i,r){if(qe){var o=at.formState;if(o!==null){e:{var u=Oe;if(qe){if(ut){t:{for(var f=ut,g=hi;f.nodeType!==8;){if(!g){f=null;break t}if(f=di(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){ut=di(f.nextSibling),u=f.data==="F!";break e}}mr(u)}u=!1}u&&(r=o[0])}}return o=Tn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j0,lastRenderedState:r},o.queue=u,o=s_.bind(null,Oe,u),u.dispatch=o,u=bm(!1),g=Rm.bind(null,Oe,!1,u.queue),u=Tn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=fC.bind(null,Oe,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function B0(i){var r=Nt();return z0(r,nt,i)}function z0(i,r,o){if(r=vm(i,r,j0)[0],i=bh(Vs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=fu(r)}catch(b){throw b===Do?ch:b}else u=r;r=Nt();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Oe.flags|=2048,ko(9,{destroy:void 0},dC.bind(null,f,o),null)),[u,g,i]}function dC(i,r){i.action=r}function F0(i){var r=Nt(),o=nt;if(o!==null)return z0(r,o,i);Nt(),r=r.memoizedState,o=Nt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function ko(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=vh(),Oe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function H0(){return Nt().memoizedState}function Th(i,r,o,u){var f=Tn();Oe.flags|=i,f.memoizedState=ko(1|r,{destroy:void 0},o,u===void 0?null:u)}function Eh(i,r,o,u){var f=Nt();u=u===void 0?null:u;var g=f.memoizedState.inst;nt!==null&&u!==null&&fm(u,nt.memoizedState.deps)?f.memoizedState=ko(r,g,o,u):(Oe.flags|=i,f.memoizedState=ko(1|r,g,o,u))}function q0(i,r){Th(8390656,8,i,r)}function Em(i,r){Eh(2048,8,i,r)}function mC(i){Oe.flags|=4;var r=Oe.updateQueue;if(r===null)r=vh(),Oe.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function G0(i){var r=Nt().memoizedState;return mC({ref:r,nextImpl:i}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function K0(i,r){return Eh(4,2,i,r)}function Y0(i,r){return Eh(4,4,i,r)}function $0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Q0(i,r,o){o=o!=null?o.concat([i]):null,Eh(4,4,$0.bind(null,r,i),o)}function wm(){}function X0(i,r){var o=Nt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&fm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function W0(i,r){var o=Nt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&fm(r,u[1]))return u[0];if(u=i(),Ca){fn(!0);try{i()}finally{fn(!1)}}return o.memoizedState=[u,r],u}function Sm(i,r,o){return o===void 0||(Ms&1073741824)!==0&&(Ue&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Z_(),Oe.lanes|=i,wr|=i,o)}function Z0(i,r,o,u){return zn(o,r)?o:Vo.current!==null?(i=Sm(i,o,u),zn(i,r)||(Lt=!0),i):(Ms&42)===0||(Ms&1073741824)!==0&&(Ue&261930)===0?(Lt=!0,i.memoizedState=o):(i=Z_(),Oe.lanes|=i,wr|=i,r)}function J0(i,r,o,u,f){var g=re.p;re.p=g!==0&&8>g?g:8;var b=Z.T,S={};Z.T=S,Rm(i,!1,r,o);try{var M=f(),Y=Z.S;if(Y!==null&&Y(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=uC(M,u);du(i,r,J,Yn(i))}else du(i,r,u,Yn(i))}catch(ne){du(i,r,{then:function(){},status:"rejected",reason:ne},Yn())}finally{re.p=g,b!==null&&S.types!==null&&(b.types=S.types),Z.T=b}}function pC(){}function xm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=e_(i).queue;J0(i,f,r,fe,o===null?pC:function(){return t_(i),o(u)})}function e_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function t_(i){var r=e_(i);r.next===null&&(r=i.alternate.memoizedState),du(i,r.next.queue,{},Yn())}function Am(){return sn(Nu)}function n_(){return Nt().memoizedState}function i_(){return Nt().memoizedState}function gC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Yn();i=yr(o);var u=vr(r,i,o);u!==null&&(Vn(u,r,o),lu(u,r,o)),r={cache:tm()},i.payload=r;return}r=r.return}}function yC(i,r,o){var u=Yn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},wh(i)?r_(r,o):(o=qd(i,r,o,u),o!==null&&(Vn(o,i,u),a_(o,r,u)))}function s_(i,r,o){var u=Yn();du(i,r,o,u)}function du(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(wh(i))r_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,S=g(b,o);if(f.hasEagerState=!0,f.eagerState=S,zn(S,b))return ih(i,r,f,0),at===null&&nh(),!1}catch{}finally{}if(o=qd(i,r,f,u),o!==null)return Vn(o,i,u),a_(o,r,u),!0}return!1}function Rm(i,r,o,u){if(u={lane:2,revertLane:rp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},wh(i)){if(r)throw Error(s(479))}else r=qd(i,o,u,2),r!==null&&Vn(r,i,2)}function wh(i){var r=i.alternate;return i===Oe||r!==null&&r===Oe}function r_(i,r){Oo=gh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function a_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,W(i,o)}}var mu={readContext:sn,use:_h,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};mu.useEffectEvent=xt;var o_={readContext:sn,use:_h,useCallback:function(i,r){return Tn().memoizedState=[i,r===void 0?null:r],i},useContext:sn,useEffect:q0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Th(4194308,4,$0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Th(4194308,4,i,r)},useInsertionEffect:function(i,r){Th(4,2,i,r)},useMemo:function(i,r){var o=Tn();r=r===void 0?null:r;var u=i();if(Ca){fn(!0);try{i()}finally{fn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=Tn();if(o!==void 0){var f=o(r);if(Ca){fn(!0);try{o(r)}finally{fn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=yC.bind(null,Oe,i),[u.memoizedState,i]},useRef:function(i){var r=Tn();return i={current:i},r.memoizedState=i},useState:function(i){i=bm(i);var r=i.queue,o=s_.bind(null,Oe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:wm,useDeferredValue:function(i,r){var o=Tn();return Sm(o,i,r)},useTransition:function(){var i=bm(!1);return i=J0.bind(null,Oe,i.queue,!0,!1),Tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Oe,f=Tn();if(qe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),at===null)throw Error(s(349));(Ue&127)!==0||C0(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,q0(N0.bind(null,u,g,i),[i]),u.flags|=2048,ko(9,{destroy:void 0},I0.bind(null,u,g,o,r),null),o},useId:function(){var i=Tn(),r=at.identifierPrefix;if(qe){var o=ns,u=ts;o=(u&~(1<<32-vt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=yh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=cC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Am,useFormState:U0,useActionState:U0,useOptimistic:function(i){var r=Tn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Rm.bind(null,Oe,!0,o),o.dispatch=r,[i,r]},useMemoCache:ym,useCacheRefresh:function(){return Tn().memoizedState=gC.bind(null,Oe)},useEffectEvent:function(i){var r=Tn(),o={impl:i};return r.memoizedState=o,function(){if((Xe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Cm={readContext:sn,use:_h,useCallback:X0,useContext:sn,useEffect:Em,useImperativeHandle:Q0,useInsertionEffect:K0,useLayoutEffect:Y0,useMemo:W0,useReducer:bh,useRef:H0,useState:function(){return bh(Vs)},useDebugValue:wm,useDeferredValue:function(i,r){var o=Nt();return Z0(o,nt.memoizedState,i,r)},useTransition:function(){var i=bh(Vs)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:fu(i),r]},useSyncExternalStore:R0,useId:n_,useHostTransitionStatus:Am,useFormState:B0,useActionState:B0,useOptimistic:function(i,r){var o=Nt();return V0(o,nt,i,r)},useMemoCache:ym,useCacheRefresh:i_};Cm.useEffectEvent=G0;var l_={readContext:sn,use:_h,useCallback:X0,useContext:sn,useEffect:Em,useImperativeHandle:Q0,useInsertionEffect:K0,useLayoutEffect:Y0,useMemo:W0,useReducer:_m,useRef:H0,useState:function(){return _m(Vs)},useDebugValue:wm,useDeferredValue:function(i,r){var o=Nt();return nt===null?Sm(o,i,r):Z0(o,nt.memoizedState,i,r)},useTransition:function(){var i=_m(Vs)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:fu(i),r]},useSyncExternalStore:R0,useId:n_,useHostTransitionStatus:Am,useFormState:F0,useActionState:F0,useOptimistic:function(i,r){var o=Nt();return nt!==null?V0(o,nt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:ym,useCacheRefresh:i_};l_.useEffectEvent=G0;function Im(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Nm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Yn(),f=yr(u);f.payload=r,o!=null&&(f.callback=o),r=vr(i,f,u),r!==null&&(Vn(r,i,u),lu(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Yn(),f=yr(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=vr(i,f,u),r!==null&&(Vn(r,i,u),lu(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Yn(),u=yr(o);u.tag=2,r!=null&&(u.callback=r),r=vr(i,u,o),r!==null&&(Vn(r,i,o),lu(r,i,o))}};function u_(i,r,o,u,f,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!eu(o,u)||!eu(f,g):!0}function c_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Nm.enqueueReplaceState(r,r.state,null)}function Ia(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function h_(i){th(i)}function f_(i){console.error(i)}function d_(i){th(i)}function Sh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function m_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Dm(i,r,o){return o=yr(o),o.tag=3,o.payload={element:null},o.callback=function(){Sh(i,r)},o}function p_(i){return i=yr(i),i.tag=3,i}function g_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){m_(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){m_(r,o,u),typeof f!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function vC(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Co(r,o,f,!0),o=Hn.current,o!==null){switch(o.tag){case 31:case 13:return fi===null?kh():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===hh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),np(i,u,f)),!1;case 22:return o.flags|=65536,u===hh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),np(i,u,f)),!1}throw Error(s(435,o.tag))}return np(i,u,f),kh(),!1}if(qe)return r=Hn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Xd&&(i=Error(s(422),{cause:u}),iu(li(i,o)))):(u!==Xd&&(r=Error(s(423),{cause:u}),iu(li(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=li(u,o),f=Dm(i.stateNode,u,f),om(i,f),At!==4&&(At=2)),!1;var g=Error(s(520),{cause:u});if(g=li(g,o),Eu===null?Eu=[g]:Eu.push(g),At!==4&&(At=2),r===null)return!0;u=li(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Dm(o.stateNode,u,i),om(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Sr===null||!Sr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=p_(f),g_(f,i,o,u),om(o,f),!1}o=o.return}while(o!==null);return!1}var Mm=Error(s(461)),Lt=!1;function rn(i,r,o,u){r.child=i===null?b0(r,null,o,u):Ra(r,i.child,o,u)}function y_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return wa(r),u=dm(i,r,o,b,g,f),S=mm(),i!==null&&!Lt?(pm(i,r,f),Os(i,r,f)):(qe&&S&&$d(r),r.flags|=1,rn(i,r,u,f),r.child)}function v_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!Gd(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,__(i,r,g,u,f)):(i=rh(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Bm(i,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:eu,o(b,u)&&i.ref===r.ref)return Os(i,r,f)}return r.flags|=1,i=Cs(g,u),i.ref=r.ref,i.return=r,r.child=i}function __(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(eu(g,u)&&i.ref===r.ref)if(Lt=!1,r.pendingProps=u=g,Bm(i,f))(i.flags&131072)!==0&&(Lt=!0);else return r.lanes=i.lanes,Os(i,r,f)}return Vm(i,r,o,u,f)}function b_(i,r,o,u){var f=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,r.child=null;return T_(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&uh(r,g!==null?g.cachePool:null),g!==null?w0(r,g):um(),S0(r);else return u=r.lanes=536870912,T_(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(uh(r,g.cachePool),w0(r,g),br(),r.memoizedState=null):(i!==null&&uh(r,null),um(),br());return rn(i,r,f,o),r.child}function pu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function T_(i,r,o,u,f){var g=im();return g=g===null?null:{parent:Pt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&uh(r,null),um(),S0(r),i!==null&&Co(i,r,u,!0),r.childLanes=f,null}function xh(i,r){return r=Rh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function E_(i,r,o){return Ra(r,i.child,null,o),i=xh(r,r.pendingProps),i.flags|=2,qn(r),r.memoizedState=null,i}function _C(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(qe){if(u.mode==="hidden")return i=xh(r,u),r.lanes=536870912,pu(null,i);if(hm(r),(i=ut)?(i=Ob(i,hi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:fr!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},o=r0(i),o.return=r,r.child=o,nn=r,ut=null)):i=null,i===null)throw mr(r);return r.lanes=536870912,null}return xh(r,u)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(hm(r),f)if(r.flags&256)r.flags&=-257,r=E_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Lt||Co(i,r,o,!1),f=(o&i.childLanes)!==0,Lt||f){if(u=at,u!==null&&(b=oe(u,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,_a(i,b),Vn(u,i,b),Mm;kh(),r=E_(i,r,o)}else i=g.treeContext,ut=di(b.nextSibling),nn=r,qe=!0,dr=null,hi=!1,i!==null&&l0(r,i),r=xh(r,u),r.flags|=4096;return r}return i=Cs(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ah(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Vm(i,r,o,u,f){return wa(r),o=dm(i,r,o,u,void 0,f),u=mm(),i!==null&&!Lt?(pm(i,r,f),Os(i,r,f)):(qe&&u&&$d(r),r.flags|=1,rn(i,r,o,f),r.child)}function w_(i,r,o,u,f,g){return wa(r),r.updateQueue=null,o=A0(r,u,o,f),x0(i),u=mm(),i!==null&&!Lt?(pm(i,r,g),Os(i,r,g)):(qe&&u&&$d(r),r.flags|=1,rn(i,r,o,g),r.child)}function S_(i,r,o,u,f){if(wa(r),r.stateNode===null){var g=So,b=o.contextType;typeof b=="object"&&b!==null&&(g=sn(b)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Nm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},rm(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?sn(b):So,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Im(r,o,b,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Nm.enqueueReplaceState(g,g.state,null),cu(r,u,g,f),uu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,M=Ia(o,S);g.props=M;var Y=g.context,J=o.contextType;b=So,typeof J=="object"&&J!==null&&(b=sn(J));var ne=o.getDerivedStateFromProps;J=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||Y!==b)&&c_(r,g,u,b),gr=!1;var $=r.memoizedState;g.state=$,cu(r,u,g,f),uu(),Y=r.memoizedState,S||$!==Y||gr?(typeof ne=="function"&&(Im(r,o,ne,u),Y=r.memoizedState),(M=gr||u_(r,o,M,u,$,Y,b))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),g.props=u,g.state=Y,g.context=b,u=M):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,am(i,r),b=r.memoizedProps,J=Ia(o,b),g.props=J,ne=r.pendingProps,$=g.context,Y=o.contextType,M=So,typeof Y=="object"&&Y!==null&&(M=sn(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ne||$!==M)&&c_(r,g,u,M),gr=!1,$=r.memoizedState,g.state=$,cu(r,u,g,f),uu();var X=r.memoizedState;b!==ne||$!==X||gr||i!==null&&i.dependencies!==null&&oh(i.dependencies)?(typeof S=="function"&&(Im(r,o,S,u),X=r.memoizedState),(J=gr||u_(r,o,J,u,$,X,M)||i!==null&&i.dependencies!==null&&oh(i.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,M)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=M,u=J):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Ah(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Ra(r,i.child,null,f),r.child=Ra(r,null,o,f)):rn(i,r,o,f),r.memoizedState=g.state,i=r.child):i=Os(i,r,f),i}function x_(i,r,o,u){return Ta(),r.flags|=256,rn(i,r,o,u),r.child}var Om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pm(i){return{baseLanes:i,cachePool:m0()}}function km(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Kn),i}function A_(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(It.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(qe){if(f?_r(r):br(),(i=ut)?(i=Ob(i,hi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:fr!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},o=r0(i),o.return=r,r.child=o,nn=r,ut=null)):i=null,i===null)throw mr(r);return vp(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(br(),f=r.mode,S=Rh({mode:"hidden",children:S},f),u=ba(u,f,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Pm(o),u.childLanes=km(i,b,o),r.memoizedState=Om,pu(null,u)):(_r(r),Lm(r,S))}var M=i.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(g)r.flags&256?(_r(r),r.flags&=-257,r=jm(i,r,o)):r.memoizedState!==null?(br(),r.child=i.child,r.flags|=128,r=null):(br(),S=u.fallback,f=r.mode,u=Rh({mode:"visible",children:u.children},f),S=ba(S,f,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Ra(r,i.child,null,o),u=r.child,u.memoizedState=Pm(o),u.childLanes=km(i,b,o),r.memoizedState=Om,r=pu(null,u));else if(_r(r),vp(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var Y=b.dgst;b=Y,u=Error(s(419)),u.stack="",u.digest=b,iu({value:u,source:null,stack:null}),r=jm(i,r,o)}else if(Lt||Co(i,r,o,!1),b=(o&i.childLanes)!==0,Lt||b){if(b=at,b!==null&&(u=oe(b,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,_a(i,u),Vn(b,i,u),Mm;yp(S)||kh(),r=jm(i,r,o)}else yp(S)?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,ut=di(S.nextSibling),nn=r,qe=!0,dr=null,hi=!1,i!==null&&l0(r,i),r=Lm(r,u.children),r.flags|=4096);return r}return f?(br(),S=u.fallback,f=r.mode,M=i.child,Y=M.sibling,u=Cs(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,Y!==null?S=Cs(Y,S):(S=ba(S,f,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,pu(null,u),u=r.child,S=i.child.memoizedState,S===null?S=Pm(o):(f=S.cachePool,f!==null?(M=Pt._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=m0(),S={baseLanes:S.baseLanes|o,cachePool:f}),u.memoizedState=S,u.childLanes=km(i,b,o),r.memoizedState=Om,pu(i.child,u)):(_r(r),o=i.child,i=o.sibling,o=Cs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Lm(i,r){return r=Rh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Rh(i,r){return i=Fn(22,i,null,r),i.lanes=0,i}function jm(i,r,o){return Ra(r,i.child,null,o),i=Lm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function R_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Jd(i.return,r,o)}function Um(i,r,o,u,f,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:g}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=f,b.treeForkCount=g)}function C_(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var b=It.current,S=(b&2)!==0;if(S?(b=b&1|2,r.flags|=128):b&=1,he(It,b),rn(i,r,u,o),u=qe?nu:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&R_(i,o,r);else if(i.tag===19)R_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&ph(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Um(r,!1,f,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&ph(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Um(r,!0,o,null,g,u);break;case"together":Um(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Os(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),wr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Co(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Cs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Cs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Bm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&oh(i)))}function bC(i,r,o){switch(r.tag){case 3:yt(r,r.stateNode.containerInfo),pr(r,Pt,i.memoizedState.cache),Ta();break;case 27:case 5:Qn(r);break;case 4:yt(r,r.stateNode.containerInfo);break;case 10:pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,hm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(_r(r),r.flags|=128,null):(o&r.child.childLanes)!==0?A_(i,r,o):(_r(r),i=Os(i,r,o),i!==null?i.sibling:null);_r(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Co(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return C_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),he(It,It.current),u)break;return null;case 22:return r.lanes=0,b_(i,r,o,r.pendingProps);case 24:pr(r,Pt,i.memoizedState.cache)}return Os(i,r,o)}function I_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Lt=!0;else{if(!Bm(i,o)&&(r.flags&128)===0)return Lt=!1,bC(i,r,o);Lt=(i.flags&131072)!==0}else Lt=!1,qe&&(r.flags&1048576)!==0&&o0(r,nu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=xa(r.elementType),r.type=i,typeof i=="function")Gd(i)?(u=Ia(i,u),r.tag=1,r=S_(null,r,i,u,o)):(r.tag=0,r=Vm(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===le){r.tag=11,r=y_(null,r,i,u,o);break e}else if(f===I){r.tag=14,r=v_(null,r,i,u,o);break e}}throw r=je(i)||i,Error(s(306,r,""))}}return r;case 0:return Vm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Ia(u,r.pendingProps),S_(i,r,u,f,o);case 3:e:{if(yt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,am(i,r),cu(r,u,null,o);var b=r.memoizedState;if(u=b.cache,pr(r,Pt,u),u!==g.cache&&em(r,[Pt],o,!0),uu(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=x_(i,r,u,o);break e}else if(u!==f){f=li(Error(s(424)),r),iu(f),r=x_(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ut=di(i.firstChild),nn=r,qe=!0,dr=null,hi=!0,o=b0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ta(),u===f){r=Os(i,r,o);break e}rn(i,r,u,o)}r=r.child}return r;case 26:return Ah(i,r),i===null?(o=Bb(r.type,null,r.pendingProps,null))?r.memoizedState=o:qe||(o=r.type,i=r.pendingProps,u=Hh(Re.current).createElement(o),u[_t]=r,u[$t]=i,an(u,o,i),Vt(u),r.stateNode=u):r.memoizedState=Bb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Qn(r),i===null&&qe&&(u=r.stateNode=Lb(r.type,r.pendingProps,Re.current),nn=r,hi=!0,f=ut,Cr(r.type)?(_p=f,ut=di(u.firstChild)):ut=f),rn(i,r,r.pendingProps.children,o),Ah(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&qe&&((f=u=ut)&&(u=XC(u,r.type,r.pendingProps,hi),u!==null?(r.stateNode=u,nn=r,ut=di(u.firstChild),hi=!1,f=!0):f=!1),f||mr(r)),Qn(r),f=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,mp(f,g)?u=null:b!==null&&mp(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=dm(i,r,hC,null,null,o),Nu._currentValue=f),Ah(i,r),rn(i,r,u,o),r.child;case 6:return i===null&&qe&&((i=o=ut)&&(o=WC(o,r.pendingProps,hi),o!==null?(r.stateNode=o,nn=r,ut=null,i=!0):i=!1),i||mr(r)),null;case 13:return A_(i,r,o);case 4:return yt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ra(r,null,u,o):rn(i,r,u,o),r.child;case 11:return y_(i,r,r.type,r.pendingProps,o);case 7:return rn(i,r,r.pendingProps,o),r.child;case 8:return rn(i,r,r.pendingProps.children,o),r.child;case 12:return rn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,pr(r,r.type,u.value),rn(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,wa(r),f=sn(f),u=u(f),r.flags|=1,rn(i,r,u,o),r.child;case 14:return v_(i,r,r.type,r.pendingProps,o);case 15:return __(i,r,r.type,r.pendingProps,o);case 19:return C_(i,r,o);case 31:return _C(i,r,o);case 22:return b_(i,r,o,r.pendingProps);case 24:return wa(r),u=sn(Pt),i===null?(f=im(),f===null&&(f=at,g=tm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},rm(r),pr(r,Pt,f)):((i.lanes&o)!==0&&(am(i,r),cu(r,null,null,o),uu()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),pr(r,Pt,u)):(u=g.cache,pr(r,Pt,u),u!==f.cache&&em(r,[Pt],o,!0))),rn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ps(i){i.flags|=4}function zm(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(nb())i.flags|=8192;else throw Aa=hh,sm}else i.flags&=-16777217}function N_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Gb(r))if(nb())i.flags|=8192;else throw Aa=hh,sm}function Ch(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?oo():536870912,i.lanes|=r,Bo|=r)}function gu(i,r){if(!qe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ct(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function TC(i,r,o){var u=r.pendingProps;switch(Qd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ds(Pt),rt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ro(r)?Ps(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wd())),ct(r),null;case 26:var f=r.type,g=r.memoizedState;return i===null?(Ps(r),g!==null?(ct(r),N_(r,g)):(ct(r),zm(r,f,null,u,o))):g?g!==i.memoizedState?(Ps(r),ct(r),N_(r,g)):(ct(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Ps(r),ct(r),zm(r,f,i,u,o)),null;case 27:if(Jt(r),o=Re.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ps(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ct(r),null}i=de.current,Ro(r)?u0(r):(i=Lb(f,u,o),r.stateNode=i,Ps(r))}return ct(r),null;case 5:if(Jt(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ps(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(g=de.current,Ro(r))u0(r);else{var b=Hh(Re.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?b.createElement(f,{is:u.is}):b.createElement(f)}}g[_t]=r,g[$t]=u;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=g;e:switch(an(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ps(r)}}return ct(r),zm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Ps(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Re.current,Ro(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=nn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[_t]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Ab(i.nodeValue,o)),i||mr(r,!0)}else i=Hh(i).createTextNode(u),i[_t]=r,r.stateNode=i}return ct(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=Ro(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[_t]=r}else Ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),i=!1}else o=Wd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(qn(r),r):(qn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ct(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Ro(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[_t]=r}else Ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),f=!1}else f=Wd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(qn(r),r):(qn(r),null)}return qn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Ch(r,r.updateQueue),ct(r),null);case 4:return rt(),i===null&&up(r.stateNode.containerInfo),ct(r),null;case 10:return Ds(r.type),ct(r),null;case 19:if(te(It),u=r.memoizedState,u===null)return ct(r),null;if(f=(r.flags&128)!==0,g=u.rendering,g===null)if(f)gu(u,!1);else{if(At!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=ph(i),g!==null){for(r.flags|=128,gu(u,!1),i=g.updateQueue,r.updateQueue=i,Ch(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)s0(o,i),o=o.sibling;return he(It,It.current&1|2),qe&&Is(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&Ht()>Vh&&(r.flags|=128,f=!0,gu(u,!1),r.lanes=4194304)}else{if(!f)if(i=ph(g),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Ch(r,i),gu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!qe)return ct(r),null}else 2*Ht()-u.renderingStartTime>Vh&&o!==536870912&&(r.flags|=128,f=!0,gu(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Ht(),i.sibling=null,o=It.current,he(It,f?o&1|2:o&1),qe&&Is(r,u.treeForkCount),i):(ct(r),null);case 22:case 23:return qn(r),cm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),o=r.updateQueue,o!==null&&Ch(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&te(Sa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ds(Pt),ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function EC(i,r){switch(Qd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ds(Pt),rt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Jt(r),null;case 31:if(r.memoizedState!==null){if(qn(r),r.alternate===null)throw Error(s(340));Ta()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(qn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ta()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return te(It),null;case 4:return rt(),null;case 10:return Ds(r.type),null;case 22:case 23:return qn(r),cm(),i!==null&&te(Sa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ds(Pt),null;case 25:return null;default:return null}}function D_(i,r){switch(Qd(r),r.tag){case 3:Ds(Pt),rt();break;case 26:case 27:case 5:Jt(r);break;case 4:rt();break;case 31:r.memoizedState!==null&&qn(r);break;case 13:qn(r);break;case 19:te(It);break;case 10:Ds(r.type);break;case 22:case 23:qn(r),cm(),i!==null&&te(Sa);break;case 24:Ds(Pt)}}function yu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==f)}}catch(S){et(r,r.return,S)}}function Tr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,f=r;var M=o,Y=S;try{Y()}catch(J){et(f,M,J)}}}u=u.next}while(u!==g)}}catch(J){et(r,r.return,J)}}function M_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{E0(r,o)}catch(u){et(i,i.return,u)}}}function V_(i,r,o){o.props=Ia(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){et(i,r,u)}}function vu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){et(i,r,f)}}function is(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){et(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){et(i,r,f)}else o.current=null}function O_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){et(i,i.return,f)}}function Fm(i,r,o){try{var u=i.stateNode;qC(u,i.type,o,r),u[$t]=r}catch(f){et(i,i.return,f)}}function P_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Cr(i.type)||i.tag===4}function Hm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||P_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Cr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=xi));else if(u!==4&&(u===27&&Cr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(qm(i,r,o),i=i.sibling;i!==null;)qm(i,r,o),i=i.sibling}function Ih(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Cr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ih(i,r,o),i=i.sibling;i!==null;)Ih(i,r,o),i=i.sibling}function k_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);an(r,u,o),r[_t]=i,r[$t]=o}catch(g){et(i,i.return,g)}}var ks=!1,jt=!1,Gm=!1,L_=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function wC(i,r){if(i=i.containerInfo,fp=Xh,i=Qv(i),jd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,S=-1,M=-1,Y=0,J=0,ne=i,$=null;t:for(;;){for(var X;ne!==o||f!==0&&ne.nodeType!==3||(S=b+f),ne!==g||u!==0&&ne.nodeType!==3||(M=b+u),ne.nodeType===3&&(b+=ne.nodeValue.length),(X=ne.firstChild)!==null;)$=ne,ne=X;for(;;){if(ne===i)break t;if($===o&&++Y===f&&(S=b),$===g&&++J===u&&(M=b),(X=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=X}o=S===-1||M===-1?null:{start:S,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(dp={focusedElem:i,selectionRange:o},Xh=!1,Xt=r;Xt!==null;)if(r=Xt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Xt=i;else for(;Xt!==null;){switch(r=Xt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ge=Ia(o.type,f);i=u.getSnapshotBeforeUpdate(ge,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(we){et(o,o.return,we)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)gp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":gp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Xt=i;break}Xt=r.return}}function j_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:js(i,o),u&4&&yu(5,o);break;case 1:if(js(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){et(o,o.return,b)}else{var f=Ia(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){et(o,o.return,b)}}u&64&&M_(o),u&512&&vu(o,o.return);break;case 3:if(js(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{E0(i,r)}catch(b){et(o,o.return,b)}}break;case 27:r===null&&u&4&&k_(o);case 26:case 5:js(i,o),r===null&&u&4&&O_(o),u&512&&vu(o,o.return);break;case 12:js(i,o);break;case 31:js(i,o),u&4&&z_(i,o);break;case 13:js(i,o),u&4&&F_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=MC.bind(null,o),ZC(i,o))));break;case 22:if(u=o.memoizedState!==null||ks,!u){r=r!==null&&r.memoizedState!==null||jt,f=ks;var g=jt;ks=u,(jt=r)&&!g?Us(i,o,(o.subtreeFlags&8772)!==0):js(i,o),ks=f,jt=g}break;case 30:break;default:js(i,o)}}function U_(i){var r=i.alternate;r!==null&&(i.alternate=null,U_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&uo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var mt=null,In=!1;function Ls(i,r,o){for(o=o.child;o!==null;)B_(i,r,o),o=o.sibling}function B_(i,r,o){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Ln,o)}catch{}switch(o.tag){case 26:jt||is(o,r),Ls(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:jt||is(o,r);var u=mt,f=In;Cr(o.type)&&(mt=o.stateNode,In=!1),Ls(i,r,o),Ru(o.stateNode),mt=u,In=f;break;case 5:jt||is(o,r);case 6:if(u=mt,f=In,mt=null,Ls(i,r,o),mt=u,In=f,mt!==null)if(In)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(g){et(o,r,g)}else try{mt.removeChild(o.stateNode)}catch(g){et(o,r,g)}break;case 18:mt!==null&&(In?(i=mt,Mb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),$o(i)):Mb(mt,o.stateNode));break;case 4:u=mt,f=In,mt=o.stateNode.containerInfo,In=!0,Ls(i,r,o),mt=u,In=f;break;case 0:case 11:case 14:case 15:Tr(2,o,r),jt||Tr(4,o,r),Ls(i,r,o);break;case 1:jt||(is(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&V_(o,r,u)),Ls(i,r,o);break;case 21:Ls(i,r,o);break;case 22:jt=(u=jt)||o.memoizedState!==null,Ls(i,r,o),jt=u;break;default:Ls(i,r,o)}}function z_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{$o(i)}catch(o){et(r,r.return,o)}}}function F_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{$o(i)}catch(o){et(r,r.return,o)}}function SC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new L_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new L_),r;default:throw Error(s(435,i.tag))}}function Nh(i,r){var o=SC(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=VC.bind(null,i,u);u.then(f,f)}})}function Nn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,b=r,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(Cr(S.type)){mt=S.stateNode,In=!1;break e}break;case 5:mt=S.stateNode,In=!1;break e;case 3:case 4:mt=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(mt===null)throw Error(s(160));B_(g,b,f),mt=null,In=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)H_(r,i),r=r.sibling}var Di=null;function H_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Nn(r,i),Dn(i),u&4&&(Tr(3,i,i.return),yu(3,i),Tr(5,i,i.return));break;case 1:Nn(r,i),Dn(i),u&512&&(jt||o===null||is(o,o.return)),u&64&&ks&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Di;if(Nn(r,i),Dn(i),u&512&&(jt||o===null||is(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Hi]||g[_t]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),an(g,u,o),g[_t]=i,Vt(g),u=g;break e;case"link":var b=Hb("link","href",f).get(u+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(g=b[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break t}}g=f.createElement(u),an(g,u,o),f.head.appendChild(g);break;case"meta":if(b=Hb("meta","content",f).get(u+(o.content||""))){for(S=0;S<b.length;S++)if(g=b[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break t}}g=f.createElement(u),an(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[_t]=i,Vt(g),u=g}i.stateNode=u}else qb(f,i.type,i.stateNode);else i.stateNode=Fb(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?qb(f,i.type,i.stateNode):Fb(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Fm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Nn(r,i),Dn(i),u&512&&(jt||o===null||is(o,o.return)),o!==null&&u&4&&Fm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Nn(r,i),Dn(i),u&512&&(jt||o===null||is(o,o.return)),i.flags&32){f=i.stateNode;try{Cn(f,"")}catch(ge){et(i,i.return,ge)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Fm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Gm=!0);break;case 6:if(Nn(r,i),Dn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ge){et(i,i.return,ge)}}break;case 3:if(Kh=null,f=Di,Di=qh(r.containerInfo),Nn(r,i),Di=f,Dn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{$o(r.containerInfo)}catch(ge){et(i,i.return,ge)}Gm&&(Gm=!1,q_(i));break;case 4:u=Di,Di=qh(i.stateNode.containerInfo),Nn(r,i),Dn(i),Di=u;break;case 12:Nn(r,i),Dn(i);break;case 31:Nn(r,i),Dn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nh(i,u)));break;case 13:Nn(r,i),Dn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Mh=Ht()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nh(i,u)));break;case 22:f=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,Y=ks,J=jt;if(ks=Y||f,jt=J||M,Nn(r,i),jt=J,ks=Y,Dn(i),u&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||M||ks||jt||Na(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(g=M.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=M.stateNode;var ne=M.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ge){et(M,M.return,ge)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(ge){et(M,M.return,ge)}}}else if(r.tag===18){if(o===null){M=r;try{var X=M.stateNode;f?Vb(X,!0):Vb(M.stateNode,!1)}catch(ge){et(M,M.return,ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Nh(i,o))));break;case 19:Nn(r,i),Dn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nh(i,u)));break;case 30:break;case 21:break;default:Nn(r,i),Dn(i)}}function Dn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(P_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Hm(i);Ih(i,g,f);break;case 5:var b=o.stateNode;o.flags&32&&(Cn(b,""),o.flags&=-33);var S=Hm(i);Ih(i,S,b);break;case 3:case 4:var M=o.stateNode.containerInfo,Y=Hm(i);qm(i,Y,M);break;default:throw Error(s(161))}}catch(J){et(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function q_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;q_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function js(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)j_(i,r.alternate,r),r=r.sibling}function Na(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Tr(4,r,r.return),Na(r);break;case 1:is(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&V_(r,r.return,o),Na(r);break;case 27:Ru(r.stateNode);case 26:case 5:is(r,r.return),Na(r);break;case 22:r.memoizedState===null&&Na(r);break;case 30:Na(r);break;default:Na(r)}i=i.sibling}}function Us(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:Us(f,g,o),yu(4,g);break;case 1:if(Us(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){et(u,u.return,Y)}if(u=g,f=u.updateQueue,f!==null){var S=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)T0(M[f],S)}catch(Y){et(u,u.return,Y)}}o&&b&64&&M_(g),vu(g,g.return);break;case 27:k_(g);case 26:case 5:Us(f,g,o),o&&u===null&&b&4&&O_(g),vu(g,g.return);break;case 12:Us(f,g,o);break;case 31:Us(f,g,o),o&&b&4&&z_(f,g);break;case 13:Us(f,g,o),o&&b&4&&F_(f,g);break;case 22:g.memoizedState===null&&Us(f,g,o),vu(g,g.return);break;case 30:break;default:Us(f,g,o)}r=r.sibling}}function Km(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&su(o))}function Ym(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&su(i))}function Mi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)G_(i,r,o,u),r=r.sibling}function G_(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Mi(i,r,o,u),f&2048&&yu(9,r);break;case 1:Mi(i,r,o,u);break;case 3:Mi(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&su(i)));break;case 12:if(f&2048){Mi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,S=g.onPostCommit;typeof S=="function"&&S(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){et(r,r.return,M)}}else Mi(i,r,o,u);break;case 31:Mi(i,r,o,u);break;case 13:Mi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Mi(i,r,o,u):_u(i,r):g._visibility&2?Mi(i,r,o,u):(g._visibility|=2,Lo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Km(b,r);break;case 24:Mi(i,r,o,u),f&2048&&Ym(r.alternate,r);break;default:Mi(i,r,o,u)}}function Lo(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,b=r,S=o,M=u,Y=b.flags;switch(b.tag){case 0:case 11:case 15:Lo(g,b,S,M,f),yu(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?Lo(g,b,S,M,f):_u(g,b):(J._visibility|=2,Lo(g,b,S,M,f)),f&&Y&2048&&Km(b.alternate,b);break;case 24:Lo(g,b,S,M,f),f&&Y&2048&&Ym(b.alternate,b);break;default:Lo(g,b,S,M,f)}r=r.sibling}}function _u(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:_u(o,u),f&2048&&Km(u.alternate,u);break;case 24:_u(o,u),f&2048&&Ym(u.alternate,u);break;default:_u(o,u)}r=r.sibling}}var bu=8192;function jo(i,r,o){if(i.subtreeFlags&bu)for(i=i.child;i!==null;)K_(i,r,o),i=i.sibling}function K_(i,r,o){switch(i.tag){case 26:jo(i,r,o),i.flags&bu&&i.memoizedState!==null&&cI(o,Di,i.memoizedState,i.memoizedProps);break;case 5:jo(i,r,o);break;case 3:case 4:var u=Di;Di=qh(i.stateNode.containerInfo),jo(i,r,o),Di=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=bu,bu=16777216,jo(i,r,o),bu=u):jo(i,r,o));break;default:jo(i,r,o)}}function Y_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Tu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Xt=u,Q_(u,i)}Y_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$_(i),i=i.sibling}function $_(i){switch(i.tag){case 0:case 11:case 15:Tu(i),i.flags&2048&&Tr(9,i,i.return);break;case 3:Tu(i);break;case 12:Tu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Dh(i)):Tu(i);break;default:Tu(i)}}function Dh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Xt=u,Q_(u,i)}Y_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Tr(8,r,r.return),Dh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Dh(r));break;default:Dh(r)}i=i.sibling}}function Q_(i,r){for(;Xt!==null;){var o=Xt;switch(o.tag){case 0:case 11:case 15:Tr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:su(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Xt=u;else e:for(o=i;Xt!==null;){u=Xt;var f=u.sibling,g=u.return;if(U_(u),u===o){Xt=null;break e}if(f!==null){f.return=g,Xt=f;break e}Xt=g}}}var xC={getCacheForType:function(i){var r=sn(Pt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return sn(Pt).controller.signal}},AC=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,ke=null,Ue=0,Je=0,Gn=null,Er=!1,Uo=!1,$m=!1,Bs=0,At=0,wr=0,Da=0,Qm=0,Kn=0,Bo=0,Eu=null,Mn=null,Xm=!1,Mh=0,X_=0,Vh=1/0,Oh=null,Sr=null,Gt=0,xr=null,zo=null,zs=0,Wm=0,Zm=null,W_=null,wu=0,Jm=null;function Yn(){return(Xe&2)!==0&&Ue!==0?Ue&-Ue:Z.T!==null?rp():zi()}function Z_(){if(Kn===0)if((Ue&536870912)===0||qe){var i=Si;Si<<=1,(Si&3932160)===0&&(Si=262144),Kn=i}else Kn=536870912;return i=Hn.current,i!==null&&(i.flags|=32),Kn}function Vn(i,r,o){(i===at&&(Je===2||Je===9)||i.cancelPendingCommit!==null)&&(Fo(i,0),Ar(i,Ue,Kn,!1)),ws(i,o),((Xe&2)===0||i!==at)&&(i===at&&((Xe&2)===0&&(Da|=o),At===4&&Ar(i,Ue,Kn,!1)),ss(i))}function J_(i,r,o){if((Xe&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||jn(i,r),f=u?IC(i,r):tp(i,r,!0),g=u;do{if(f===0){Uo&&!u&&Ar(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!RC(o)){f=tp(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var S=i;f=Eu;var M=S.current.memoizedState.isDehydrated;if(M&&(Fo(S,b).flags|=256),b=tp(S,b,!1),b!==2){if($m&&!M){S.errorRecoveryDisabledLanes|=g,Da|=g,f=4;break e}g=Mn,Mn=f,g!==null&&(Mn===null?Mn=g:Mn.push.apply(Mn,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){Fo(i,0),Ar(i,r,0,!0);break}e:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ar(u,r,Kn,!Er);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Mh+300-Ht(),10<f)){if(Ar(u,r,Kn,!Er),ti(u,0,!0)!==0)break e;zs=r,u.timeoutHandle=Nb(eb.bind(null,u,o,Mn,Oh,Xm,r,Kn,Da,Bo,Er,g,"Throttled",-0,0),f);break e}eb(u,o,Mn,Oh,Xm,r,Kn,Da,Bo,Er,g,null,-0,0)}}break}while(!0);ss(i)}function eb(i,r,o,u,f,g,b,S,M,Y,J,ne,$,X){if(i.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},K_(r,g,ne);var ge=(g&62914560)===g?Mh-Ht():(g&4194048)===g?X_-Ht():0;if(ge=hI(ne,ge),ge!==null){zs=g,i.cancelPendingCommit=ge(lb.bind(null,i,r,g,o,u,f,b,S,M,J,ne,null,$,X)),Ar(i,g,b,!Y);return}}lb(i,r,g,o,u,f,b,S,M)}function RC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!zn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ar(i,r,o,u){r&=~Qm,r&=~Da,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-vt(f),b=1<<g;u[g]=-1,f&=~b}o!==0&&Ss(i,o,r)}function Ph(){return(Xe&6)===0?(Su(0),!1):!0}function ep(){if(ke!==null){if(Je===0)var i=ke.return;else i=ke,Ns=Ea=null,gm(i),Mo=null,au=0,i=ke;for(;i!==null;)D_(i.alternate,i),i=i.return;ke=null}}function Fo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,YC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),zs=0,ep(),at=i,ke=o=Cs(i.current,null),Ue=r,Je=0,Gn=null,Er=!1,Uo=jn(i,r),$m=!1,Bo=Kn=Qm=Da=wr=At=0,Mn=Eu=null,Xm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-vt(u),g=1<<f;r|=i[f],u&=~g}return Bs=r,nh(),o}function tb(i,r){Oe=null,Z.H=mu,r===Do||r===ch?(r=y0(),Je=3):r===sm?(r=y0(),Je=4):Je=r===Mm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Gn=r,ke===null&&(At=1,Sh(i,li(r,i.current)))}function nb(){var i=Hn.current;return i===null?!0:(Ue&4194048)===Ue?fi===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?i===fi:!1}function ib(){var i=Z.H;return Z.H=mu,i===null?mu:i}function sb(){var i=Z.A;return Z.A=xC,i}function kh(){At=4,Er||(Ue&4194048)!==Ue&&Hn.current!==null||(Uo=!0),(wr&134217727)===0&&(Da&134217727)===0||at===null||Ar(at,Ue,Kn,!1)}function tp(i,r,o){var u=Xe;Xe|=2;var f=ib(),g=sb();(at!==i||Ue!==r)&&(Oh=null,Fo(i,r)),r=!1;var b=At;e:do try{if(Je!==0&&ke!==null){var S=ke,M=Gn;switch(Je){case 8:ep(),b=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(r=!0);var Y=Je;if(Je=0,Gn=null,Ho(i,S,M,Y),o&&Uo){b=0;break e}break;default:Y=Je,Je=0,Gn=null,Ho(i,S,M,Y)}}CC(),b=At;break}catch(J){tb(i,J)}while(!0);return r&&i.shellSuspendCounter++,Ns=Ea=null,Xe=u,Z.H=f,Z.A=g,ke===null&&(at=null,Ue=0,nh()),b}function CC(){for(;ke!==null;)rb(ke)}function IC(i,r){var o=Xe;Xe|=2;var u=ib(),f=sb();at!==i||Ue!==r?(Oh=null,Vh=Ht()+500,Fo(i,r)):Uo=jn(i,r);e:do try{if(Je!==0&&ke!==null){r=ke;var g=Gn;t:switch(Je){case 1:Je=0,Gn=null,Ho(i,r,g,1);break;case 2:case 9:if(p0(g)){Je=0,Gn=null,ab(r);break}r=function(){Je!==2&&Je!==9||at!==i||(Je=7),ss(i)},g.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:p0(g)?(Je=0,Gn=null,ab(r)):(Je=0,Gn=null,Ho(i,r,g,7));break;case 5:var b=null;switch(ke.tag){case 26:b=ke.memoizedState;case 5:case 27:var S=ke;if(b?Gb(b):S.stateNode.complete){Je=0,Gn=null;var M=S.sibling;if(M!==null)ke=M;else{var Y=S.return;Y!==null?(ke=Y,Lh(Y)):ke=null}break t}}Je=0,Gn=null,Ho(i,r,g,5);break;case 6:Je=0,Gn=null,Ho(i,r,g,6);break;case 8:ep(),At=6;break e;default:throw Error(s(462))}}NC();break}catch(J){tb(i,J)}while(!0);return Ns=Ea=null,Z.H=u,Z.A=f,Xe=o,ke!==null?0:(at=null,Ue=0,nh(),At)}function NC(){for(;ke!==null&&!Ol();)rb(ke)}function rb(i){var r=I_(i.alternate,i,Bs);i.memoizedProps=i.pendingProps,r===null?Lh(i):ke=r}function ab(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=w_(o,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=w_(o,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:gm(r);default:D_(o,r),r=ke=s0(r,Bs),r=I_(o,r,Bs)}i.memoizedProps=i.pendingProps,r===null?Lh(i):ke=r}function Ho(i,r,o,u){Ns=Ea=null,gm(r),Mo=null,au=0;var f=r.return;try{if(vC(i,f,r,o,Ue)){At=1,Sh(i,li(o,i.current)),ke=null;return}}catch(g){if(f!==null)throw ke=f,g;At=1,Sh(i,li(o,i.current)),ke=null;return}r.flags&32768?(qe||u===1?i=!0:Uo||(Ue&536870912)!==0?i=!1:(Er=i=!0,(u===2||u===9||u===3||u===6)&&(u=Hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),ob(r,i)):Lh(r)}function Lh(i){var r=i;do{if((r.flags&32768)!==0){ob(r,Er);return}i=r.return;var o=TC(r.alternate,r,Bs);if(o!==null){ke=o;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=i}while(r!==null);At===0&&(At=5)}function ob(i,r){do{var o=EC(i.alternate,i);if(o!==null){o.flags&=32767,ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){ke=i;return}ke=i=o}while(i!==null);At=6,ke=null}function lb(i,r,o,u,f,g,b,S,M){i.cancelPendingCommit=null;do jh();while(Gt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Hd,kl(i,o,g,b,S,M),i===at&&(ke=at=null,Ue=0),zo=r,xr=i,zs=o,Wm=g,Zm=f,W_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,OC(_n,function(){return db(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=re.p,re.p=2,b=Xe,Xe|=4;try{wC(i,r,o)}finally{Xe=b,re.p=f,Z.T=u}}Gt=1,ub(),cb(),hb()}}function ub(){if(Gt===1){Gt=0;var i=xr,r=zo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=re.p;re.p=2;var f=Xe;Xe|=4;try{H_(r,i);var g=dp,b=Qv(i.containerInfo),S=g.focusedElem,M=g.selectionRange;if(b!==S&&S&&S.ownerDocument&&$v(S.ownerDocument.documentElement,S)){if(M!==null&&jd(S)){var Y=M.start,J=M.end;if(J===void 0&&(J=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(J,S.value.length);else{var ne=S.ownerDocument||document,$=ne&&ne.defaultView||window;if($.getSelection){var X=$.getSelection(),ge=S.textContent.length,we=Math.min(M.start,ge),st=M.end===void 0?we:Math.min(M.end,ge);!X.extend&&we>st&&(b=st,st=we,we=b);var F=Yv(S,we),j=Yv(S,st);if(F&&j&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var G=ne.createRange();G.setStart(F.node,F.offset),X.removeAllRanges(),we>st?(X.addRange(G),X.extend(j.node,j.offset)):(G.setEnd(j.node,j.offset),X.addRange(G))}}}}for(ne=[],X=S;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var ee=ne[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Xh=!!fp,dp=fp=null}finally{Xe=f,re.p=u,Z.T=o}}i.current=r,Gt=2}}function cb(){if(Gt===2){Gt=0;var i=xr,r=zo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=re.p;re.p=2;var f=Xe;Xe|=4;try{j_(i,r.alternate,r)}finally{Xe=f,re.p=u,Z.T=o}}Gt=3}}function hb(){if(Gt===4||Gt===3){Gt=0,to();var i=xr,r=zo,o=zs,u=W_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,zo=xr=null,fb(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Sr=null),lt(o),r=r.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Ln,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,f=re.p,re.p=2,Z.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var S=u[b];g(S.value,{componentStack:S.stack})}}finally{Z.T=r,re.p=f}}(zs&3)!==0&&jh(),ss(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Jm?wu++:(wu=0,Jm=i):wu=0,Su(0)}}function fb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,su(r)))}function jh(){return ub(),cb(),hb(),db()}function db(){if(Gt!==5)return!1;var i=xr,r=Wm;Wm=0;var o=lt(zs),u=Z.T,f=re.p;try{re.p=32>o?32:o,Z.T=null,o=Zm,Zm=null;var g=xr,b=zs;if(Gt=0,zo=xr=null,zs=0,(Xe&6)!==0)throw Error(s(331));var S=Xe;if(Xe|=4,$_(g.current),G_(g,g.current,b,o),Xe=S,Su(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Ln,g)}catch{}return!0}finally{re.p=f,Z.T=u,fb(i,r)}}function mb(i,r,o){r=li(o,r),r=Dm(i.stateNode,r,2),i=vr(i,r,2),i!==null&&(ws(i,2),ss(i))}function et(i,r,o){if(i.tag===3)mb(i,i,o);else for(;r!==null;){if(r.tag===3){mb(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Sr===null||!Sr.has(u))){i=li(o,i),o=p_(2),u=vr(r,o,2),u!==null&&(g_(o,u,r,i),ws(u,2),ss(u));break}}r=r.return}}function np(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new AC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||($m=!0,f.add(o),i=DC.bind(null,i,r,o),r.then(i,i))}function DC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,at===i&&(Ue&o)===o&&(At===4||At===3&&(Ue&62914560)===Ue&&300>Ht()-Mh?(Xe&2)===0&&Fo(i,0):Qm|=o,Bo===Ue&&(Bo=0)),ss(i)}function pb(i,r){r===0&&(r=oo()),i=_a(i,r),i!==null&&(ws(i,r),ss(i))}function MC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),pb(i,o)}function VC(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),pb(i,o)}function OC(i,r){return wt(i,r)}var Uh=null,qo=null,ip=!1,Bh=!1,sp=!1,Rr=0;function ss(i){i!==qo&&i.next===null&&(qo===null?Uh=qo=i:qo=qo.next=i),Bh=!0,ip||(ip=!0,kC())}function Su(i,r){if(!sp&&Bh){sp=!0;do for(var o=!1,u=Uh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-vt(42|i)+1)-1,g&=f&~(b&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,_b(u,g))}else g=Ue,g=ti(u,u===at?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||jn(u,g)||(o=!0,_b(u,g));u=u.next}while(o);sp=!1}}function PC(){gb()}function gb(){Bh=ip=!1;var i=0;Rr!==0&&KC()&&(i=Rr);for(var r=Ht(),o=null,u=Uh;u!==null;){var f=u.next,g=yb(u,r);g===0?(u.next=null,o===null?Uh=f:o.next=f,f===null&&(qo=o)):(o=u,(i!==0||(g&3)!==0)&&(Bh=!0)),u=f}Gt!==0&&Gt!==5||Su(i),Rr!==0&&(Rr=0)}function yb(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-vt(g),S=1<<b,M=f[b];M===-1?((S&o)===0||(S&u)!==0)&&(f[b]=oa(S,r)):M<=r&&(i.expiredLanes|=S),g&=~S}if(r=at,o=Ue,o=ti(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Je===2||Je===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Zn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||jn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Zn(u),lt(o)){case 2:case 8:o=aa;break;case 32:o=_n;break;case 268435456:o=no;break;default:o=_n}return u=vb.bind(null,i),o=wt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Zn(u),i.callbackPriority=2,i.callbackNode=null,2}function vb(i,r){if(Gt!==0&&Gt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(jh()&&i.callbackNode!==o)return null;var u=Ue;return u=ti(i,i===at?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(J_(i,u,r),yb(i,Ht()),i.callbackNode!=null&&i.callbackNode===o?vb.bind(null,i):null)}function _b(i,r){if(jh())return null;J_(i,r,!0)}function kC(){$C(function(){(Xe&6)!==0?wt(ra,PC):gb()})}function rp(){if(Rr===0){var i=Io;i===0&&(i=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Rr=i}return Rr}function bb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:mo(""+i)}function Tb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function LC(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=bb((f[$t]||null).action),b=u.submitter;b&&(r=(r=b[$t]||null)?bb(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var S=new Wi("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Rr!==0){var M=b?Tb(f,b):new FormData(f);xm(o,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(S.preventDefault(),M=b?Tb(f,b):new FormData(f),xm(o,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var ap=0;ap<Fd.length;ap++){var op=Fd[ap],jC=op.toLowerCase(),UC=op[0].toUpperCase()+op.slice(1);Ni(jC,"on"+UC)}Ni(Zv,"onAnimationEnd"),Ni(Jv,"onAnimationIteration"),Ni(e0,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(tC,"onTransitionRun"),Ni(nC,"onTransitionStart"),Ni(iC,"onTransitionCancel"),Ni(t0,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function Eb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var S=u[b],M=S.instance,Y=S.currentTarget;if(S=S.listener,M!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=Y;try{g(f)}catch(J){th(J)}f.currentTarget=null,g=M}else for(b=0;b<u.length;b++){if(S=u[b],M=S.instance,Y=S.currentTarget,S=S.listener,M!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=Y;try{g(f)}catch(J){th(J)}f.currentTarget=null,g=M}}}}function Le(i,r){var o=r[lo];o===void 0&&(o=r[lo]=new Set);var u=i+"__bubble";o.has(u)||(wb(r,i,2,!1),o.add(u))}function lp(i,r,o){var u=0;r&&(u|=4),wb(o,i,u,r)}var zh="_reactListening"+Math.random().toString(36).slice(2);function up(i){if(!i[zh]){i[zh]=!0,Ll.forEach(function(o){o!=="selectionchange"&&(BC.has(o)||lp(o,!1,i),lp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[zh]||(r[zh]=!0,lp("selectionchange",!1,r))}}function wb(i,r,o,u){switch(Zb(r)){case 2:var f=mI;break;case 8:f=pI;break;default:f=Sp}o=f.bind(null,r,o,i),f=void 0,!ha||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function cp(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===f)break;if(b===4)for(b=u.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;S!==null;){if(b=qi(S),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){u=g=b;continue e}S=S.parentNode}}u=u.return}lr(function(){var Y=g,J=si(o),ne=[];e:{var $=n0.get(i);if($!==void 0){var X=Wi,ge=i;switch(i){case"keypress":if(da(o)===0)break e;case"keydown":case"keyup":X=Zc;break;case"focusin":ge="focus",X=pa;break;case"focusout":ge="blur",X=pa;break;case"beforeblur":case"afterblur":X=pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case Zv:case Jv:case e0:X=Gc;break;case t0:X=x;break;case"scroll":case"scrollend":X=Ql;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Rs;break;case"toggle":case"beforetoggle":X=Ve}var we=(r&4)!==0,st=!we&&(i==="scroll"||i==="scrollend"),F=we?$!==null?$+"Capture":null:$;we=[];for(var j=Y,G;j!==null;){var ee=j;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||F===null||(ee=Ai(j,F),ee!=null&&we.push(Au(j,ee,G))),st)break;j=j.return}0<we.length&&($=new X($,ge,null,o,J),ne.push({event:$,listeners:we}))}}if((r&7)===0){e:{if($=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",$&&o!==Kl&&(ge=o.relatedTarget||o.fromElement)&&(qi(ge)||ge[Fi]))break e;if((X||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,X?(ge=o.relatedTarget||o.toElement,X=Y,ge=ge?qi(ge):null,ge!==null&&(st=l(ge),we=ge.tag,ge!==st||we!==5&&we!==27&&we!==6)&&(ge=null)):(X=null,ge=Y),X!==ge)){if(we=Xl,ee="onMouseLeave",F="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(we=Rs,ee="onPointerLeave",F="onPointerEnter",j="pointer"),st=X==null?$:Un(X),G=ge==null?$:Un(ge),$=new we(ee,j+"leave",X,o,J),$.target=st,$.relatedTarget=G,ee=null,qi(J)===Y&&(we=new we(F,j+"enter",ge,o,J),we.target=G,we.relatedTarget=st,ee=we),st=ee,X&&ge)t:{for(we=zC,F=X,j=ge,G=0,ee=F;ee;ee=we(ee))G++;ee=0;for(var Te=j;Te;Te=we(Te))ee++;for(;0<G-ee;)F=we(F),G--;for(;0<ee-G;)j=we(j),ee--;for(;G--;){if(F===j||j!==null&&F===j.alternate){we=F;break t}F=we(F),j=we(j)}we=null}else we=null;X!==null&&Sb(ne,$,X,we,!1),ge!==null&&st!==null&&Sb(ne,st,ge,we,!0)}}e:{if($=Y?Un(Y):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var Ye=zv;else if(Uv($))if(Fv)Ye=ZR;else{Ye=XR;var _e=QR}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&fo(Y.elementType)&&(Ye=zv):Ye=WR;if(Ye&&(Ye=Ye(i,Y))){Bv(ne,Ye,o,J);break e}_e&&_e(i,$,Y),i==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&Hl($,"number",$.value)}switch(_e=Y?Un(Y):window,i){case"focusin":(Uv(_e)||_e.contentEditable==="true")&&(To=_e,Ud=Y,tu=null);break;case"focusout":tu=Ud=To=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,Xv(ne,o,J);break;case"selectionchange":if(eC)break;case"keydown":case"keyup":Xv(ne,o,J)}var Pe;if(Qe)e:{switch(i){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else bo?ga(i,o)&&(Be="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Be="onCompositionStart");Be&&(es&&o.locale!=="ko"&&(bo||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&bo&&(Pe=$l()):(Xi=J,Yl="value"in Xi?Xi.value:Xi.textContent,bo=!0)),_e=Fh(Y,Be),0<_e.length&&(Be=new Ji(Be,i,null,o,J),ne.push({event:Be,listeners:_e}),Pe?Be.data=Pe:(Pe=_o(o),Pe!==null&&(Be.data=Pe)))),(Pe=ai?GR(i,o):KR(i,o))&&(Be=Fh(Y,"onBeforeInput"),0<Be.length&&(_e=new Ji("onBeforeInput","beforeinput",null,o,J),ne.push({event:_e,listeners:Be}),_e.data=Pe)),LC(ne,i,Y,o,J)}Eb(ne,r)})}function Au(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Fh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ai(i,o),f!=null&&u.unshift(Au(i,f,g)),f=Ai(i,r),f!=null&&u.push(Au(i,f,g))),i.tag===3)return u;i=i.return}return[]}function zC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Sb(i,r,o,u,f){for(var g=r._reactName,b=[];o!==null&&o!==u;){var S=o,M=S.alternate,Y=S.stateNode;if(S=S.tag,M!==null&&M===u)break;S!==5&&S!==26&&S!==27||Y===null||(M=Y,f?(Y=Ai(o,g),Y!=null&&b.unshift(Au(o,Y,M))):f||(Y=Ai(o,g),Y!=null&&b.push(Au(o,Y,M)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var FC=/\r\n?/g,HC=/\u0000|\uFFFD/g;function xb(i){return(typeof i=="string"?i:""+i).replace(FC,`
`).replace(HC,"")}function Ab(i,r){return r=xb(r),xb(i)===r}function it(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Cn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Cn(i,""+u);break;case"className":Bn(i,"class",u);break;case"tabIndex":Bn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(i,o,u);break;case"style":Gl(i,u,g);break;case"data":if(r!=="object"){Bn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=mo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&it(i,r,"name",f.name,f,null),it(i,r,"formEncType",f.formEncType,f,null),it(i,r,"formMethod",f.formMethod,f,null),it(i,r,"formTarget",f.formTarget,f,null)):(it(i,r,"encType",f.encType,f,null),it(i,r,"method",f.method,f,null),it(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=mo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=xi);break;case"onScroll":u!=null&&Le("scroll",i);break;case"onScrollEnd":u!=null&&Le("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=mo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Le("beforetoggle",i),Le("toggle",i),co(i,"popover",u);break;case"xlinkActuate":Ot(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ot(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ot(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ot(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ot(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ot(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ot(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ot(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ot(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":co(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Fc.get(o)||o,co(i,o,u))}}function hp(i,r,o,u,f,g){switch(o){case"style":Gl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Cn(i,u):(typeof u=="number"||typeof u=="bigint")&&Cn(i,""+u);break;case"onScroll":u!=null&&Le("scroll",i);break;case"onScrollEnd":u!=null&&Le("scrollend",i);break;case"onClick":u!=null&&(i.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[$t]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):co(i,o,u)}}}function an(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",i),Le("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(i,r,g,b,o,null)}}f&&it(i,r,"srcSet",o.srcSet,o,null),u&&it(i,r,"src",o.src,o,null);return;case"input":Le("invalid",i);var S=g=b=f=null,M=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":f=J;break;case"type":b=J;break;case"checked":M=J;break;case"defaultChecked":Y=J;break;case"value":g=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:it(i,r,u,J,o,null)}}Uc(i,g,S,M,Y,b,f,!1);return;case"select":Le("invalid",i),u=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:it(i,r,f,S,o,null)}r=g,o=b,i.multiple=!!u,r!=null?sr(i,!!u,r,!1):o!=null&&sr(i,!!u,o,!0);return;case"textarea":Le("invalid",i),g=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:it(i,r,b,S,o,null)}rr(i,u,f,g);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(i,r,M,u,o,null)}return;case"dialog":Le("beforetoggle",i),Le("toggle",i),Le("cancel",i),Le("close",i);break;case"iframe":case"object":Le("load",i);break;case"video":case"audio":for(u=0;u<xu.length;u++)Le(xu[u],i);break;case"image":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"embed":case"source":case"link":Le("error",i),Le("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(i,r,Y,u,o,null)}return;default:if(fo(r)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&hp(i,r,J,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&it(i,r,S,u,o,null))}function qC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,S=null,M=null,Y=null,J=null;for(X in o){var ne=o[X];if(o.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=ne;default:u.hasOwnProperty(X)||it(i,r,X,null,u,ne)}}for(var $ in u){var X=u[$];if(ne=o[$],u.hasOwnProperty($)&&(X!=null||ne!=null))switch($){case"type":g=X;break;case"name":f=X;break;case"checked":Y=X;break;case"defaultChecked":J=X;break;case"value":b=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ne&&it(i,r,$,X,u,ne)}}ho(i,b,S,M,Y,J,g,f);return;case"select":X=b=S=$=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":X=M;default:u.hasOwnProperty(g)||it(i,r,g,null,u,M)}for(f in u)if(g=u[f],M=o[f],u.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":$=g;break;case"defaultValue":S=g;break;case"multiple":b=g;default:g!==M&&it(i,r,f,g,u,M)}r=S,o=b,u=X,$!=null?sr(i,!!o,$,!1):!!u!=!!o&&(r!=null?sr(i,!!o,r,!0):sr(i,!!o,o?[]:"",!1));return;case"textarea":X=$=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(i,r,S,null,u,f)}for(b in u)if(f=u[b],g=o[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&it(i,r,b,f,u,g)}Bc(i,$,X);return;case"option":for(var ge in o)if($=o[ge],o.hasOwnProperty(ge)&&$!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":i.selected=!1;break;default:it(i,r,ge,null,u,$)}for(M in u)if($=u[M],X=o[M],u.hasOwnProperty(M)&&$!==X&&($!=null||X!=null))switch(M){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:it(i,r,M,$,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)$=o[we],o.hasOwnProperty(we)&&$!=null&&!u.hasOwnProperty(we)&&it(i,r,we,null,u,$);for(Y in u)if($=u[Y],X=o[Y],u.hasOwnProperty(Y)&&$!==X&&($!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:it(i,r,Y,$,u,X)}return;default:if(fo(r)){for(var st in o)$=o[st],o.hasOwnProperty(st)&&$!==void 0&&!u.hasOwnProperty(st)&&hp(i,r,st,void 0,u,$);for(J in u)$=u[J],X=o[J],!u.hasOwnProperty(J)||$===X||$===void 0&&X===void 0||hp(i,r,J,$,u,X);return}}for(var F in o)$=o[F],o.hasOwnProperty(F)&&$!=null&&!u.hasOwnProperty(F)&&it(i,r,F,null,u,$);for(ne in u)$=u[ne],X=o[ne],!u.hasOwnProperty(ne)||$===X||$==null&&X==null||it(i,r,ne,$,u,X)}function Rb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],g=f.transferSize,b=f.initiatorType,S=f.duration;if(g&&S&&Rb(b)){for(b=0,S=f.responseEnd,u+=1;u<o.length;u++){var M=o[u],Y=M.startTime;if(Y>S)break;var J=M.transferSize,ne=M.initiatorType;J&&Rb(ne)&&(M=M.responseEnd,b+=J*(M<S?1:(S-Y)/(M-Y)))}if(--u,r+=8*(g+b)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var fp=null,dp=null;function Hh(i){return i.nodeType===9?i:i.ownerDocument}function Cb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ib(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function mp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pp=null;function KC(){var i=window.event;return i&&i.type==="popstate"?i===pp?!1:(pp=i,!0):(pp=null,!1)}var Nb=typeof setTimeout=="function"?setTimeout:void 0,YC=typeof clearTimeout=="function"?clearTimeout:void 0,Db=typeof Promise=="function"?Promise:void 0,$C=typeof queueMicrotask=="function"?queueMicrotask:typeof Db<"u"?function(i){return Db.resolve(null).then(i).catch(QC)}:Nb;function QC(i){setTimeout(function(){throw i})}function Cr(i){return i==="head"}function Mb(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),$o(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Ru(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Ru(o);for(var g=o.firstChild;g;){var b=g.nextSibling,S=g.nodeName;g[Hi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&Ru(i.ownerDocument.body);o=f}while(o);$o(r)}function Vb(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function gp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gp(o),uo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function XC(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Hi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=di(i.nextSibling),i===null)break}return null}function WC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=di(i.nextSibling),i===null))return null;return i}function Ob(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=di(i.nextSibling),i===null))return null;return i}function yp(i){return i.data==="$?"||i.data==="$~"}function vp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function ZC(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function di(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var _p=null;function Pb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return di(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function kb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Lb(i,r,o){switch(r=Hh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Ru(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);uo(i)}var mi=new Map,jb=new Set;function qh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fs=re.d;re.d={f:JC,r:eI,D:tI,C:nI,L:iI,m:sI,X:aI,S:rI,M:oI};function JC(){var i=Fs.f(),r=Ph();return i||r}function eI(i){var r=ii(i);r!==null&&r.tag===5&&r.type==="form"?t_(r):Fs.r(i)}var Go=typeof document>"u"?null:document;function Ub(i,r,o){var u=Go;if(u&&typeof r=="string"&&r){var f=Rn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),jb.has(f)||(jb.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),an(r,"link",i),Vt(r),u.head.appendChild(r)))}}function tI(i){Fs.D(i),Ub("dns-prefetch",i,null)}function nI(i,r){Fs.C(i,r),Ub("preconnect",i,r)}function iI(i,r,o){Fs.L(i,r,o);var u=Go;if(u&&i&&r){var f='link[rel="preload"][as="'+Rn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Rn(o.imageSizes)+'"]')):f+='[href="'+Rn(i)+'"]';var g=f;switch(r){case"style":g=Ko(i);break;case"script":g=Yo(i)}mi.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),mi.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(Cu(g))||r==="script"&&u.querySelector(Iu(g))||(r=u.createElement("link"),an(r,"link",i),Vt(r),u.head.appendChild(r)))}}function sI(i,r){Fs.m(i,r);var o=Go;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Rn(u)+'"][href="'+Rn(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Yo(i)}if(!mi.has(g)&&(i=_({rel:"modulepreload",href:i},r),mi.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Iu(g)))return}u=o.createElement("link"),an(u,"link",i),Vt(u),o.head.appendChild(u)}}}function rI(i,r,o){Fs.S(i,r,o);var u=Go;if(u&&i){var f=Gi(u).hoistableStyles,g=Ko(i);r=r||"default";var b=f.get(g);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(Cu(g)))S.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=mi.get(g))&&bp(i,o);var M=b=u.createElement("link");Vt(M),an(M,"link",i),M._p=new Promise(function(Y,J){M.onload=Y,M.onerror=J}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Gh(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:S},f.set(g,b)}}}function aI(i,r){Fs.X(i,r);var o=Go;if(o&&i){var u=Gi(o).hoistableScripts,f=Yo(i),g=u.get(f);g||(g=o.querySelector(Iu(f)),g||(i=_({src:i,async:!0},r),(r=mi.get(f))&&Tp(i,r),g=o.createElement("script"),Vt(g),an(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function oI(i,r){Fs.M(i,r);var o=Go;if(o&&i){var u=Gi(o).hoistableScripts,f=Yo(i),g=u.get(f);g||(g=o.querySelector(Iu(f)),g||(i=_({src:i,async:!0,type:"module"},r),(r=mi.get(f))&&Tp(i,r),g=o.createElement("script"),Vt(g),an(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Bb(i,r,o,u){var f=(f=Re.current)?qh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ko(o.href),o=Gi(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ko(o.href);var g=Gi(f).hoistableStyles,b=g.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=f.querySelector(Cu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),mi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},mi.set(i,o),g||lI(f,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Yo(o),o=Gi(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ko(i){return'href="'+Rn(i)+'"'}function Cu(i){return'link[rel="stylesheet"]['+i+"]"}function zb(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function lI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),an(r,"link",o),Vt(r),i.head.appendChild(r))}function Yo(i){return'[src="'+Rn(i)+'"]'}function Iu(i){return"script[async]"+i}function Fb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Rn(o.href)+'"]');if(u)return r.instance=u,Vt(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Vt(u),an(u,"style",f),Gh(u,o.precedence,i),r.instance=u;case"stylesheet":f=Ko(o.href);var g=i.querySelector(Cu(f));if(g)return r.state.loading|=4,r.instance=g,Vt(g),g;u=zb(o),(f=mi.get(f))&&bp(u,f),g=(i.ownerDocument||i).createElement("link"),Vt(g);var b=g;return b._p=new Promise(function(S,M){b.onload=S,b.onerror=M}),an(g,"link",u),r.state.loading|=4,Gh(g,o.precedence,i),r.instance=g;case"script":return g=Yo(o.src),(f=i.querySelector(Iu(g)))?(r.instance=f,Vt(f),f):(u=o,(f=mi.get(g))&&(u=_({},o),Tp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Vt(f),an(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Gh(u,o.precedence,i));return r.instance}function Gh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===r)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function bp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Tp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Kh=null;function Hb(i,r,o){if(Kh===null){var u=new Map,f=Kh=new Map;f.set(o,u)}else f=Kh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Hi]||g[_t]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var S=u.get(b);S?S.push(g):u.set(b,[g])}}return u}function qb(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function uI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Gb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function cI(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Ko(u.href),g=r.querySelector(Cu(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Yh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Vt(g);return}g=r.ownerDocument||r,u=zb(u),(f=mi.get(f))&&bp(u,f),g=g.createElement("link"),Vt(g);var b=g;b._p=new Promise(function(S,M){b.onload=S,b.onerror=M}),an(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Yh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Ep=0;function hI(i,r){return i.stylesheets&&i.count===0&&Qh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Qh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Ep===0&&(Ep=62500*GC());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Qh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Ep?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Yh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var $h=null;function Qh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,$h=new Map,r.forEach(fI,i),$h=null,Yh.call(i))}function fI(i,r){if(!(r.state.loading&4)){var o=$h.get(i);if(o)var u=o.get(null);else{o=new Map,$h.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=r.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,f),o.set(b,f),this.count++,u=Yh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Nu={$$typeof:K,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function dI(i,r,o,u,f,g,b,S,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Kb(i,r,o,u,f,g,b,S,M,Y,J,ne){return i=new dI(i,r,o,b,M,Y,J,ne,S),r=1,g===!0&&(r|=24),g=Fn(3,null,null,r),i.current=g,g.stateNode=i,r=tm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},rm(g),i}function Yb(i){return i?(i=So,i):So}function $b(i,r,o,u,f,g){f=Yb(f),u.context===null?u.context=f:u.pendingContext=f,u=yr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=vr(i,u,r),o!==null&&(Vn(o,i,r),lu(o,i,r))}function Qb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function wp(i,r){Qb(i,r),(i=i.alternate)&&Qb(i,r)}function Xb(i){if(i.tag===13||i.tag===31){var r=_a(i,67108864);r!==null&&Vn(r,i,67108864),wp(i,67108864)}}function Wb(i){if(i.tag===13||i.tag===31){var r=Yn();r=pe(r);var o=_a(i,r);o!==null&&Vn(o,i,r),wp(i,r)}}var Xh=!0;function mI(i,r,o,u){var f=Z.T;Z.T=null;var g=re.p;try{re.p=2,Sp(i,r,o,u)}finally{re.p=g,Z.T=f}}function pI(i,r,o,u){var f=Z.T;Z.T=null;var g=re.p;try{re.p=8,Sp(i,r,o,u)}finally{re.p=g,Z.T=f}}function Sp(i,r,o,u){if(Xh){var f=xp(u);if(f===null)cp(i,r,u,Wh,o),Jb(i,u);else if(yI(f,i,r,o,u))u.stopPropagation();else if(Jb(i,u),r&4&&-1<gI.indexOf(i)){for(;f!==null;){var g=ii(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=ei(g.pendingLanes);if(b!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var M=1<<31-vt(b);S.entanglements[1]|=M,b&=~M}ss(g),(Xe&6)===0&&(Vh=Ht()+500,Su(0))}}break;case 31:case 13:S=_a(g,2),S!==null&&Vn(S,g,2),Ph(),wp(g,2)}if(g=xp(u),g===null&&cp(i,r,u,Wh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else cp(i,r,u,null,o)}}function xp(i){return i=si(i),Ap(i)}var Wh=null;function Ap(i){if(Wh=null,i=qi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Wh=i,null}function Zb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case ra:return 2;case aa:return 8;case _n:case Pl:return 32;case no:return 268435456;default:return 32}default:return 32}}var Rp=!1,Ir=null,Nr=null,Dr=null,Du=new Map,Mu=new Map,Mr=[],gI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jb(i,r){switch(i){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Du.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(r.pointerId)}}function Vu(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=ii(r),r!==null&&Xb(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function yI(i,r,o,u,f){switch(r){case"focusin":return Ir=Vu(Ir,i,r,o,u,f),!0;case"dragenter":return Nr=Vu(Nr,i,r,o,u,f),!0;case"mouseover":return Dr=Vu(Dr,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return Du.set(g,Vu(Du.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Mu.set(g,Vu(Mu.get(g)||null,i,r,o,u,f)),!0}return!1}function eT(i){var r=qi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,en(i.priority,function(){Wb(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,en(i.priority,function(){Wb(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=xp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Kl=u,o.target.dispatchEvent(u),Kl=null}else return r=ii(o),r!==null&&Xb(r),i.blockedOn=o,!1;r.shift()}return!0}function tT(i,r,o){Zh(i)&&o.delete(r)}function vI(){Rp=!1,Ir!==null&&Zh(Ir)&&(Ir=null),Nr!==null&&Zh(Nr)&&(Nr=null),Dr!==null&&Zh(Dr)&&(Dr=null),Du.forEach(tT),Mu.forEach(tT)}function Jh(i,r){i.blockedOn===r&&(i.blockedOn=null,Rp||(Rp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vI)))}var ef=null;function nT(i){ef!==i&&(ef=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ef===i&&(ef=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Ap(u||o)===null)continue;break}var g=ii(o);g!==null&&(i.splice(r,3),r-=3,xm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function $o(i){function r(M){return Jh(M,i)}Ir!==null&&Jh(Ir,i),Nr!==null&&Jh(Nr,i),Dr!==null&&Jh(Dr,i),Du.forEach(r),Mu.forEach(r);for(var o=0;o<Mr.length;o++){var u=Mr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Mr.length&&(o=Mr[0],o.blockedOn===null);)eT(o),o.blockedOn===null&&Mr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],b=f[$t]||null;if(typeof g=="function")b||nT(o);else if(b){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[$t]||null)S=b.formAction;else if(Ap(f)!==null)continue}else S=b.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),nT(o)}}}function iT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Cp(i){this._internalRoot=i}tf.prototype.render=Cp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Yn();$b(o,u,i,r,null,null)},tf.prototype.unmount=Cp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;$b(i.current,2,null,i,null,null),Ph(),r[Fi]=null}};function tf(i){this._internalRoot=i}tf.prototype.unstable_scheduleHydration=function(i){if(i){var r=zi();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Mr.length&&r!==0&&r<Mr[o].priority;o++);Mr.splice(o,0,i),o===0&&eT(i)}};var sT=e.version;if(sT!=="19.2.0")throw Error(s(527,sT,"19.2.0"));re.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var _I={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{Ln=nf.inject(_I),qt=nf}catch{}}return Pu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=h_,g=f_,b=d_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=Kb(i,1,!1,null,null,o,u,null,f,g,b,iT),i[Fi]=r.current,up(i),new Cp(r)},Pu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=h_,b=f_,S=d_,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=Kb(i,1,!0,r,o??null,u,f,M,g,b,S,iT),r.context=Yb(null),o=r.current,u=Yn(),u=pe(u),f=yr(u),f.callback=null,vr(o,f,u),o=u,r.current.lanes=o,ws(r,o),ss(r),i[Fi]=r.current,up(i),new tf(r)},Pu.version="19.2.0",Pu}var mT;function II(){if(mT)return Dp.exports;mT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dp.exports=CI(),Dp.exports}var NI=II();const DI=dS(NI);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pT="popstate";function MI(t={}){function e(a,l){let{pathname:c="/",search:d="",hash:m=""}=$a(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),hg("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");d=p===-1?m:m.slice(0,p)}return d+"#"+(typeof l=="string"?l:nc(l))}function s(a,l){Ei(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return OI(e,n,s,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ei(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VI(){return Math.random().toString(36).substring(2,10)}function gT(t,e){return{usr:t.state,key:t.key,idx:e}}function hg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$a(e):e,state:n,key:e&&e.key||s||VI()}}function nc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function OI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let N=y(),U=N==null?null:N-p;p=N,m&&m({action:d,location:z.location,delta:U})}function w(N,U){d="PUSH";let H=hg(z.location,N,U);n&&n(H,N),p=y()+1;let K=gT(H,p),le=z.createHref(H);try{c.pushState(K,"",le)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(le)}l&&m&&m({action:d,location:z.location,delta:1})}function R(N,U){d="REPLACE";let H=hg(z.location,N,U);n&&n(H,N),p=y();let K=gT(H,p),le=z.createHref(H);c.replaceState(K,"",le),l&&m&&m({action:d,location:z.location,delta:0})}function O(N){return PI(N)}let z={get action(){return d},get location(){return t(a,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(pT,_),m=N,()=>{a.removeEventListener(pT,_),m=null}},createHref(N){return e(a,N)},createURL:O,encodeLocation(N){let U=O(N);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:w,replace:R,go(N){return c.go(N)}};return z}function PI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:nc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function pS(t,e,n="/"){return kI(t,e,n,!1)}function kI(t,e,n,s){let a=typeof e=="string"?$a(e):e,l=Ys(a.pathname||"/",n);if(l==null)return null;let c=gS(t);LI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=$I(l);d=KI(c[m],p,s)}return d}function gS(t,e=[],n=[],s="",a=!1){let l=(c,d,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;gt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Gs([s,y.relativePath]),w=n.concat(y);c.children&&c.children.length>0&&(gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),gS(c.children,e,w,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:qI(_,c.index),routesMeta:w})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of yS(c.path))l(c,d,!0,m)}),e}function yS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=yS(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function LI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var jI=/^:[\w-]+$/,UI=3,BI=2,zI=1,FI=10,HI=-2,yT=t=>t==="*";function qI(t,e){let n=t.split("/"),s=n.length;return n.some(yT)&&(s+=HI),e&&(s+=BI),n.filter(a=>!yT(a)).reduce((a,l)=>a+(jI.test(l)?UI:l===""?zI:FI),s)}function GI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function KI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Df({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),w=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Df({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Gs([l,_.pathname]),pathnameBase:ZI(Gs([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=Gs([l,_.pathnameBase]))}return c}function Df(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=YI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},w)=>{if(y==="*"){let O=d[w]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const R=d[w];return _&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function YI(t,e=!1,n=!0){Ei(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function $I(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ei(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ys(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function QI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?$a(t):t;return{pathname:n?n.startsWith("/")?n:XI(n,e):e,search:JI(s),hash:e2(a)}}function XI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Pp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ay(t){let e=WI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function oy(t,e,n,s=!1){let a;typeof t=="string"?a=$a(t):(a={...t},gt(!a.pathname||!a.pathname.includes("?"),Pp("?","pathname","search",a)),gt(!a.pathname||!a.pathname.includes("#"),Pp("#","pathname","hash",a)),gt(!a.search||!a.search.includes("#"),Pp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}d=_>=0?e[_]:"/"}let m=QI(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Gs=t=>t.join("/").replace(/\/\/+/g,"/"),ZI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,e2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function t2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var vS=["POST","PUT","PATCH","DELETE"];new Set(vS);var n2=["GET",...vS];new Set(n2);var Tl=V.createContext(null);Tl.displayName="DataRouter";var ad=V.createContext(null);ad.displayName="DataRouterState";V.createContext(!1);var _S=V.createContext({isTransitioning:!1});_S.displayName="ViewTransition";var i2=V.createContext(new Map);i2.displayName="Fetchers";var s2=V.createContext(null);s2.displayName="Await";var ji=V.createContext(null);ji.displayName="Navigation";var vc=V.createContext(null);vc.displayName="Location";var vs=V.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var ly=V.createContext(null);ly.displayName="RouteError";function r2(t,{relative:e}={}){gt(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(ji),{hash:a,pathname:l,search:c}=_c(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Gs([n,l])),s.createHref({pathname:d,search:c,hash:a})}function El(){return V.useContext(vc)!=null}function er(){return gt(El(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(vc).location}var bS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TS(t){V.useContext(ji).static||V.useLayoutEffect(t)}function _s(){let{isDataRoute:t}=V.useContext(vs);return t?v2():a2()}function a2(){gt(El(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(Tl),{basename:e,navigator:n}=V.useContext(ji),{matches:s}=V.useContext(vs),{pathname:a}=er(),l=JSON.stringify(ay(s)),c=V.useRef(!1);return TS(()=>{c.current=!0}),V.useCallback((m,p={})=>{if(Ei(c.current,bS),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=oy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Gs([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}V.createContext(null);function _c(t,{relative:e}={}){let{matches:n}=V.useContext(vs),{pathname:s}=er(),a=JSON.stringify(ay(n));return V.useMemo(()=>oy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function o2(t,e){return ES(t,e)}function ES(t,e,n,s,a){gt(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext(ji),{matches:c}=V.useContext(vs),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let H=_&&_.path||"";wS(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=er(),R;if(e){let H=typeof e=="string"?$a(e):e;gt(y==="/"||H.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),R=H}else R=w;let O=R.pathname||"/",z=O;if(y!=="/"){let H=y.replace(/^\//,"").split("/");z="/"+O.replace(/^\//,"").split("/").slice(H.length).join("/")}let N=pS(t,{pathname:z});Ei(_||N!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Ei(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=f2(N&&N.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:Gs([y,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Gs([y,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,s,a);return e&&U?V.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},U):U}function l2(){let t=y2(),e=t2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,c)}var u2=V.createElement(l2,null),c2=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?V.createElement(vs.Provider,{value:this.props.routeContext},V.createElement(ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function h2({routeContext:t,match:e,children:n}){let s=V.useContext(Tl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(vs.Provider,{value:t},n)}function f2(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);gt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:_,errors:w}=n,R=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||R){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,_)=>{let w,R=!1,O=null,z=null;n&&(w=c&&y.route.id?c[y.route.id]:void 0,O=y.route.errorElement||u2,d&&(m<0&&_===0?(wS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,z=null):m===_&&(R=!0,z=y.route.hydrateFallbackElement||null)));let N=e.concat(l.slice(0,_+1)),U=()=>{let H;return w?H=O:R?H=z:y.route.Component?H=V.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=p,V.createElement(h2,{match:y,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:H})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?V.createElement(c2,{location:n.location,revalidation:n.revalidation,component:O,error:w,children:U(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:s}):U()},null)}function uy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d2(t){let e=V.useContext(Tl);return gt(e,uy(t)),e}function m2(t){let e=V.useContext(ad);return gt(e,uy(t)),e}function p2(t){let e=V.useContext(vs);return gt(e,uy(t)),e}function cy(t){let e=p2(t),n=e.matches[e.matches.length-1];return gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function g2(){return cy("useRouteId")}function y2(){let t=V.useContext(ly),e=m2("useRouteError"),n=cy("useRouteError");return t!==void 0?t:e.errors?.[n]}function v2(){let{router:t}=d2("useNavigate"),e=cy("useNavigate"),n=V.useRef(!1);return TS(()=>{n.current=!0}),V.useCallback(async(a,l={})=>{Ei(n.current,bS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var vT={};function wS(t,e,n){!e&&!vT[t]&&(vT[t]=!0,Ei(!1,n))}V.memo(_2);function _2({routes:t,future:e,state:n,unstable_onError:s}){return ES(t,void 0,n,s,e)}function b2({to:t,replace:e,state:n,relative:s}){gt(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=V.useContext(ji);Ei(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=V.useContext(vs),{pathname:c}=er(),d=_s(),m=oy(t,ay(l),c,s==="path"),p=JSON.stringify(m);return V.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:s})},[d,p,s,e,n]),null}function Va(t){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T2({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){gt(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=$a(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:w="default"}=n,R=V.useMemo(()=>{let O=Ys(m,c);return O==null?null:{location:{pathname:O,search:p,hash:y,state:_,key:w},navigationType:s}},[c,m,p,y,_,w,s]);return Ei(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:V.createElement(ji.Provider,{value:d},V.createElement(vc.Provider,{children:e,value:R}))}function E2({children:t,location:e}){return o2(fg(t),e)}function fg(t,e=[]){let n=[];return V.Children.forEach(t,(s,a)=>{if(!V.isValidElement(s))return;let l=[...e,a];if(s.type===V.Fragment){n.push.apply(n,fg(s.props.children,l));return}gt(s.type===Va,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=fg(s.props.children,l)),n.push(c)}),n}var pf="get",gf="application/x-www-form-urlencoded";function od(t){return t!=null&&typeof t.tagName=="string"}function w2(t){return od(t)&&t.tagName.toLowerCase()==="button"}function S2(t){return od(t)&&t.tagName.toLowerCase()==="form"}function x2(t){return od(t)&&t.tagName.toLowerCase()==="input"}function A2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R2(t,e){return t.button===0&&(!e||e==="_self")&&!A2(t)}var sf=null;function C2(){if(sf===null)try{new FormData(document.createElement("form"),0),sf=!1}catch{sf=!0}return sf}var I2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kp(t){return t!=null&&!I2.has(t)?(Ei(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gf}"`),null):t}function N2(t,e){let n,s,a,l,c;if(S2(t)){let d=t.getAttribute("action");s=d?Ys(d,e):null,n=t.getAttribute("method")||pf,a=kp(t.getAttribute("enctype"))||gf,l=new FormData(t)}else if(w2(t)||x2(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Ys(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||pf,a=kp(t.getAttribute("formenctype"))||kp(d.getAttribute("enctype"))||gf,l=new FormData(d,t),!C2()){let{name:p,type:y,value:_}=t;if(y==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,_)}}else{if(od(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pf,s=null,a=gf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function D2(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ys(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function M2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function O2(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await M2(l,n);return c.links?c.links():[]}return[]}));return j2(s.flat(1).filter(V2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _T(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function P2(t,e,{includeHydrateFallback:n}={}){return k2(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function k2(t){return[...new Set(t)]}function L2(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function j2(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(L2(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function SS(){let t=V.useContext(Tl);return hy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function U2(){let t=V.useContext(ad);return hy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fy=V.createContext(void 0);fy.displayName="FrameworkContext";function xS(){let t=V.useContext(fy);return hy(t,"You must render this element inside a <HydratedRouter> element"),t}function B2(t,e){let n=V.useContext(fy),[s,a]=V.useState(!1),[l,c]=V.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,w=V.useRef(null);V.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let z=U=>{U.forEach(H=>{c(H.isIntersecting)})},N=new IntersectionObserver(z,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[t]),V.useEffect(()=>{if(s){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[s]);let R=()=>{a(!0)},O=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:ku(d,R),onBlur:ku(m,O),onMouseEnter:ku(p,R),onMouseLeave:ku(y,O),onTouchStart:ku(_,R)}]:[!1,w,{}]}function ku(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function z2({page:t,...e}){let{router:n}=SS(),s=V.useMemo(()=>pS(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?V.createElement(H2,{page:t,matches:s,...e}):null}function F2(t){let{manifest:e,routeModules:n}=xS(),[s,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return O2(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function H2({page:t,matches:e,...n}){let s=er(),{manifest:a,routeModules:l}=xS(),{basename:c}=SS(),{loaderData:d,matches:m}=U2(),p=V.useMemo(()=>_T(t,e,m,a,s,"data"),[t,e,m,a,s]),y=V.useMemo(()=>_T(t,e,m,a,s,"assets"),[t,e,m,a,s]),_=V.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let O=new Set,z=!1;if(e.forEach(U=>{let H=a.routes[U.route.id];!H||!H.hasLoader||(!p.some(K=>K.route.id===U.route.id)&&U.route.id in d&&l[U.route.id]?.shouldRevalidate||H.hasClientLoader?z=!0:O.add(U.route.id))}),O.size===0)return[];let N=D2(t,c,"data");return z&&O.size>0&&N.searchParams.set("_routes",e.filter(U=>O.has(U.route.id)).map(U=>U.route.id).join(",")),[N.pathname+N.search]},[c,d,s,a,p,e,t,l]),w=V.useMemo(()=>P2(y,a),[y,a]),R=F2(y);return V.createElement(V.Fragment,null,_.map(O=>V.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),w.map(O=>V.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),R.map(({key:O,link:z})=>V.createElement("link",{key:O,nonce:n.nonce,...z})))}function q2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AS&&(window.__reactRouterVersion="7.9.4")}catch{}function G2({basename:t,children:e,window:n}){let s=V.useRef();s.current==null&&(s.current=MI({window:n,v5Compat:!0}));let a=s.current,[l,c]=V.useState({action:a.action,location:a.location}),d=V.useCallback(m=>{V.startTransition(()=>c(m))},[c]);return V.useLayoutEffect(()=>a.listen(d),[a,d]),V.createElement(T2,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var RS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CS=V.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,...w},R){let{basename:O}=V.useContext(ji),z=typeof p=="string"&&RS.test(p),N,U=!1;if(typeof p=="string"&&z&&(N=p,AS))try{let C=new URL(window.location.href),k=p.startsWith("//")?new URL(C.protocol+p):new URL(p),P=Ys(k.pathname,O);k.origin===C.origin&&P!=null?p=P+k.search+k.hash:U=!0}catch{Ei(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=r2(p,{relative:a}),[K,le,ae]=B2(s,w),ce=Q2(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_});function I(C){e&&e(C),C.defaultPrevented||ce(C)}let A=V.createElement("a",{...w,...ae,href:N||H,onClick:U||l?e:I,ref:q2(R,le),target:m,"data-discover":!z&&n==="render"?"true":void 0});return K&&!z?V.createElement(V.Fragment,null,A,V.createElement(z2,{page:H})):A});CS.displayName="Link";var K2=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let _=_c(c,{relative:p.relative}),w=er(),R=V.useContext(ad),{navigator:O,basename:z}=V.useContext(ji),N=R!=null&&eN(_)&&d===!0,U=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,H=w.pathname,K=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(H=H.toLowerCase(),K=K?K.toLowerCase():null,U=U.toLowerCase()),K&&z&&(K=Ys(K,z)||K);const le=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ae=H===U||!a&&H.startsWith(U)&&H.charAt(le)==="/",ce=K!=null&&(K===U||!a&&K.startsWith(U)&&K.charAt(U.length)==="/"),I={isActive:ae,isPending:ce,isTransitioning:N},A=ae?e:void 0,C;typeof s=="function"?C=s(I):C=[s,ae?"active":null,ce?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(I):l;return V.createElement(CS,{...p,"aria-current":A,className:C,ref:y,style:k,to:c,viewTransition:d},typeof m=="function"?m(I):m)});K2.displayName="NavLink";var Y2=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=pf,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...w},R)=>{let O=Z2(),z=J2(d,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&RS.test(d),H=K=>{if(m&&m(K),K.defaultPrevented)return;K.preventDefault();let le=K.nativeEvent.submitter,ae=le?.getAttribute("formmethod")||c;O(le||K.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return V.createElement("form",{ref:R,method:N,action:z,onSubmit:s?m:H,...w,"data-discover":!U&&t==="render"?"true":void 0})});Y2.displayName="Form";function $2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IS(t){let e=V.useContext(Tl);return gt(e,$2(t)),e}function Q2(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=_s(),m=er(),p=_c(t,{relative:l});return V.useCallback(y=>{if(R2(y,e)){y.preventDefault();let _=n!==void 0?n:nc(m)===nc(p);d(t,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,s,e,t,a,l,c])}var X2=0,W2=()=>`__${String(++X2)}__`;function Z2(){let{router:t}=IS("useSubmit"),{basename:e}=V.useContext(ji),n=g2();return V.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=N2(s,e);if(a.navigate===!1){let y=a.fetcherKey||W2();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function J2(t,{relative:e}={}){let{basename:n}=V.useContext(ji),s=V.useContext(vs);gt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={..._c(t||".",{relative:e})},c=er();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Gs([n,l.pathname])),nc(l)}function eN(t,{relative:e}={}){let n=V.useContext(_S);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=IS("useViewTransitionState"),a=_c(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ys(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ys(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Df(a.pathname,c)!=null||Df(a.pathname,l)!=null}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),bT=t=>{const e=nN(t);return e.charAt(0).toUpperCase()+e.slice(1)},NS=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),iN=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>V.createElement("svg",{ref:m,...sN,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:NS("lucide",a),...!l&&!iN(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>V.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=(t,e)=>{const n=V.forwardRef(({className:s,...a},l)=>V.createElement(rN,{ref:l,iconNode:e,className:NS(`lucide-${tN(bT(t))}`,`lucide-${t}`,s),...a}));return n.displayName=bT(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oN=wi("chevron-left",aN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uN=wi("chevron-right",lN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],hN=wi("copy",cN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],dN=wi("facebook",fN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],pN=wi("instagram",mN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yN=wi("mail",gN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_N=wi("map-pin",vN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],TN=wi("menu",bN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],wN=wi("message-circle",EN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],xN=wi("phone",SN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],RN=wi("twitter",AN);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DS=wi("x",CN),IN=()=>{};var TT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},NN=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},VS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,R=p&63;m||(R=64,c||(w=64)),s.push(n[y],n[_],n[w],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new DN;const w=l<<2|d>>4;if(s.push(w),p!==64){const R=d<<4&240|p>>2;if(s.push(R),_!==64){const O=p<<6&192|_;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MN=function(t){const e=MS(t);return VS.encodeByteArray(e,!0)},Mf=function(t){return MN(t).replace(/\./g,"")},OS=function(t){try{return VS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=()=>VN().__FIREBASE_DEFAULTS__,PN=()=>{if(typeof process>"u"||typeof TT>"u")return;const t=TT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OS(t[1]);return e&&JSON.parse(e)},ld=()=>{try{return IN()||ON()||PN()||kN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PS=t=>ld()?.emulatorHosts?.[t],kS=t=>{const e=PS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},LS=()=>ld()?.config,jS=t=>ld()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mf(JSON.stringify(n)),Mf(JSON.stringify(c)),""].join(".")}const Gu={};function jN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gu))Gu[e]?t.emulator.push(e):t.prod.push(e);return t}function UN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ET=!1;function my(t,e){if(typeof window>"u"||typeof document>"u"||!Qa(window.location.host)||Gu[t]===e||Gu[t]||ET)return;Gu[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=jN().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,R){w.setAttribute("width","24"),w.setAttribute("id",R),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{ET=!0,c()},w}function y(w,R){w.setAttribute("id",R),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=UN(s),R=n("text"),O=document.getElementById(R)||document.createElement("span"),z=n("learnmore"),N=document.getElementById(z)||document.createElement("a"),U=n("preprendIcon"),H=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const K=w.element;d(K),y(N,z);const le=p();m(H,U),K.append(H,O,N,le),document.body.appendChild(K)}l?(O.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function zN(){const t=ld()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GN(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KN(){return!zN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YN(){try{return typeof indexedDB=="object"}catch{return!1}}function $N(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="FirebaseError";class bs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=QN,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?XN(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new bs(a,d,s)}}function XN(t,e){return t.replace(WN,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const WN=/\{\$([^}]+)}/g;function ZN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ha(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(wT(l)&&wT(c)){if(!Ha(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function wT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ju(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Uu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JN(t,e){const n=new eD(t,e);return n.subscribe.bind(n)}class eD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");tD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Lp),a.error===void 0&&(a.error=Lp),a.complete===void 0&&(a.complete=Lp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}class Kr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new LN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sD(e))try{this.getOrInitializeService({instanceIdentifier:Oa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oa){return this.instances.has(e)}getOptions(e=Oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Oa){return this.component?this.component.multipleInstances?e:Oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iD(t){return t===Oa?void 0:t}function sD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const aD={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},oD=ze.INFO,lD={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},uD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=lD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class py{constructor(e){this.name=e,this._logLevel=oD,this._logHandler=uD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const cD=(t,e)=>e.some(n=>t instanceof n);let ST,xT;function hD(){return ST||(ST=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fD(){return xT||(xT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BS=new WeakMap,dg=new WeakMap,zS=new WeakMap,jp=new WeakMap,gy=new WeakMap;function dD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(zr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&BS.set(n,t)}).catch(()=>{}),gy.set(e,t),e}function mD(t){if(dg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});dg.set(t,e)}let mg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pD(t){mg=t(mg)}function gD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Up(this),e,...n);return zS.set(s,e.sort?e.sort():[e]),zr(s)}:fD().includes(t)?function(...e){return t.apply(Up(this),e),zr(BS.get(this))}:function(...e){return zr(t.apply(Up(this),e))}}function yD(t){return typeof t=="function"?gD(t):(t instanceof IDBTransaction&&mD(t),cD(t,hD())?new Proxy(t,mg):t)}function zr(t){if(t instanceof IDBRequest)return dD(t);if(jp.has(t))return jp.get(t);const e=yD(t);return e!==t&&(jp.set(t,e),gy.set(e,t)),e}const Up=t=>gy.get(t);function vD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=zr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(zr(c.result),m.oldVersion,m.newVersion,zr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const _D=["get","getKey","getAll","getAllKeys","count"],bD=["put","add","delete","clear"],Bp=new Map;function AT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bp.get(e))return Bp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=bD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||_D.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Bp.set(e,l),l}pD(t=>({...t,get:(e,n,s)=>AT(e,n)||t.get(e,n,s),has:(e,n)=>!!AT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ED(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ED(t){return t.getComponent()?.type==="VERSION"}const pg="@firebase/app",RT="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new py("@firebase/app"),wD="@firebase/app-compat",SD="@firebase/analytics-compat",xD="@firebase/analytics",AD="@firebase/app-check-compat",RD="@firebase/app-check",CD="@firebase/auth",ID="@firebase/auth-compat",ND="@firebase/database",DD="@firebase/data-connect",MD="@firebase/database-compat",VD="@firebase/functions",OD="@firebase/functions-compat",PD="@firebase/installations",kD="@firebase/installations-compat",LD="@firebase/messaging",jD="@firebase/messaging-compat",UD="@firebase/performance",BD="@firebase/performance-compat",zD="@firebase/remote-config",FD="@firebase/remote-config-compat",HD="@firebase/storage",qD="@firebase/storage-compat",GD="@firebase/firestore",KD="@firebase/ai",YD="@firebase/firestore-compat",$D="firebase",QD="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="[DEFAULT]",XD={[pg]:"fire-core",[wD]:"fire-core-compat",[xD]:"fire-analytics",[SD]:"fire-analytics-compat",[RD]:"fire-app-check",[AD]:"fire-app-check-compat",[CD]:"fire-auth",[ID]:"fire-auth-compat",[ND]:"fire-rtdb",[DD]:"fire-data-connect",[MD]:"fire-rtdb-compat",[VD]:"fire-fn",[OD]:"fire-fn-compat",[PD]:"fire-iid",[kD]:"fire-iid-compat",[LD]:"fire-fcm",[jD]:"fire-fcm-compat",[UD]:"fire-perf",[BD]:"fire-perf-compat",[zD]:"fire-rc",[FD]:"fire-rc-compat",[HD]:"fire-gcs",[qD]:"fire-gcs-compat",[GD]:"fire-fst",[YD]:"fire-fst-compat",[KD]:"fire-vertex","fire-js":"fire-js",[$D]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new Map,WD=new Map,yg=new Map;function CT(t,e){try{t.container.addComponent(e)}catch(n){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qa(t){const e=t.name;if(yg.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;yg.set(e,t);for(const n of Vf.values())CT(n,t);for(const n of WD.values())CT(n,t);return!0}function ud(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new bc("app","Firebase",ZD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=QD;function FS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:gg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Fr.create("bad-app-name",{appName:String(a)});if(n||(n=LS()),!n)throw Fr.create("no-options");const l=Vf.get(a);if(l){if(Ha(n,l.options)&&Ha(s,l.config))return l;throw Fr.create("duplicate-app",{appName:a})}const c=new rD(a);for(const m of yg.values())c.addComponent(m);const d=new JD(n,s,c);return Vf.set(a,d),d}function yy(t=gg){const e=Vf.get(t);if(!e&&t===gg&&LS())return FS();if(!e)throw Fr.create("no-app",{appName:t});return e}function as(t,e,n){let s=XD[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(c.join(" "));return}qa(new Kr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="firebase-heartbeat-database",tM=1,ic="firebase-heartbeat-store";let zp=null;function HS(){return zp||(zp=vD(eM,tM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ic)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),zp}async function nM(t){try{const n=(await HS()).transaction(ic),s=await n.objectStore(ic).get(qS(t));return await n.done,s}catch(e){if(e instanceof bs)$s.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e?.message});$s.warn(n.message)}}}async function IT(t,e){try{const s=(await HS()).transaction(ic,"readwrite");await s.objectStore(ic).put(e,qS(t)),await s.done}catch(n){if(n instanceof bs)$s.warn(n.message);else{const s=Fr.create("idb-set",{originalErrorMessage:n?.message});$s.warn(s.message)}}}function qS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=1024,sM=30;class rM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=NT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>sM){const a=lM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=NT(),{heartbeatsToSend:n,unsentEntries:s}=aM(this._heartbeatsCache.heartbeats),a=Mf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return $s.warn(e),""}}}function NT(){return new Date().toISOString().substring(0,10)}function aM(t,e=iM){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),DT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),DT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class oM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YN()?$N().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return IT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return IT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function DT(t){return Mf(JSON.stringify({version:2,heartbeats:t})).length}function lM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){qa(new Kr("platform-logger",e=>new TD(e),"PRIVATE")),qa(new Kr("heartbeat",e=>new rM(e),"PRIVATE")),as(pg,RT,t),as(pg,RT,"esm2020"),as("fire-js","")}uM("");var cM="firebase",hM="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(cM,hM,"app");function GS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fM=GS,KS=new bc("auth","Firebase",GS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new py("@firebase/auth");function dM(t,...e){Of.logLevel<=ze.WARN&&Of.warn(`Auth (${Xa}): ${t}`,...e)}function yf(t,...e){Of.logLevel<=ze.ERROR&&Of.error(`Auth (${Xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,...e){throw vy(t,...e)}function os(t,...e){return vy(t,...e)}function YS(t,e,n){const s={...fM(),[e]:n};return new bc("auth","Firebase",s).create(e,{appName:t.name})}function Hr(t){return YS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return KS.create(t,...e)}function Se(t,e,...n){if(!t)throw vy(e,...n)}function Hs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yf(e),new Error(e)}function Qs(t,e){t||Hs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){return typeof self<"u"&&self.location?.href||""}function mM(){return MT()==="http:"||MT()==="https:"}function MT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mM()||HN()||"connection"in navigator)?navigator.onLine:!0}function gM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qs(n>e,"Short delay should be less than long delay!"),this.isMobile=BN()||qN()}get(){return pM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t,e){Qs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_M=new Ec(3e4,6e4);function Wa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ta(t,e,n,s,a={}){return QS(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=Tc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return FN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Qa(t.emulatorConfig.host)&&(p.credentials="include"),$S.fetch()(await XS(t,t.config.apiHost,n,d),p)})}async function QS(t,e,n){t._canInitEmulator=!1;const s={...yM,...e};try{const a=new TM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw rf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw rf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw rf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw rf(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw YS(t,y,p);ki(t,y)}}catch(a){if(a instanceof bs)throw a;ki(t,"network-request-failed",{message:String(a)})}}async function cd(t,e,n,s,a={}){const l=await ta(t,e,n,s,a);return"mfaPendingCredential"in l&&ki(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function XS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?_y(t.config,a):`${t.config.apiScheme}://${a}`;return vM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function bM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(os(this.auth,"network-request-failed")),_M.get())})}}function rf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=os(t,e,s);return a.customData._tokenResponse=n,a}function VT(t){return t!==void 0&&t.enterprise!==void 0}class EM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wM(t,e){return ta(t,"GET","/v2/recaptchaConfig",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(t,e){return ta(t,"POST","/v1/accounts:delete",e)}async function Pf(t,e){return ta(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xM(t,e=!1){const n=Zt(t),s=await n.getIdToken(e),a=by(s);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Ku(Fp(a.auth_time)),issuedAtTime:Ku(Fp(a.iat)),expirationTime:Ku(Fp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Fp(t){return Number(t)*1e3}function by(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const a=OS(n);return a?JSON.parse(a):(yf("Failed to decode base64 JWT payload"),null)}catch(a){return yf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function OT(t){const e=by(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof bs&&AM(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function AM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t){const e=t.auth,n=await t.getIdToken(),s=await sc(t,Pf(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?WS(a.providerUserInfo):[],c=IM(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new _g(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function CM(t){const e=Zt(t);await kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IM(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function WS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM(t,e){const n=await QS(t,{},async()=>{const s=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await XS(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&Qa(t.emulatorConfig.host)&&(m.credentials="include"),$S.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DM(t,e){return ta(t,"POST","/v2/accounts:revokeToken",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=OT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await NM(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new al;return s&&(Se(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Se(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return Hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new RM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new _g(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await sc(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xM(this,e)}reload(){return CM(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await kf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await sc(this,SM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:R,providerData:O,stsTokenManager:z}=n;Se(_&&z,e,"internal-error");const N=al.fromJSON(this.name,z);Se(typeof _=="string",e,"internal-error"),Or(s,e.name),Or(a,e.name),Se(typeof w=="boolean",e,"internal-error"),Se(typeof R=="boolean",e,"internal-error"),Or(l,e.name),Or(c,e.name),Or(d,e.name),Or(m,e.name),Or(p,e.name),Or(y,e.name);const U=new Oi({uid:_,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:N,createdAt:p,lastLoginAt:y});return O&&Array.isArray(O)&&(U.providerData=O.map(H=>({...H}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,s=!1){const a=new al;a.updateFromServerResponse(n);const l=new Oi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await kf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?WS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new al;d.updateFromIdToken(s);const m=new Oi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new _g(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new Map;function qs(t){Qs(t instanceof Function,"Expected a class definition");let e=PT.get(t);return e?(Qs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZS.type="NONE";const kT=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t,e,n){return`firebase:${t}:${e}:${n}`}class ol{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=vf(this.userKey,a.apiKey,l),this.fullPersistenceKey=vf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Pf(this.auth,{idToken:e}).catch(()=>{});return n?Oi._fromGetAccountInfoResponse(this.auth,n,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ol(qs(kT),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||qs(kT);const c=vf(s,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const w=await Pf(e,{idToken:y}).catch(()=>{});if(!w)break;_=await Oi._fromGetAccountInfoResponse(e,w,y)}else _=Oi._fromJSON(e,y);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ol(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new ol(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sx(e))return"Blackberry";if(rx(e))return"Webos";if(ex(e))return"Safari";if((e.includes("chrome/")||tx(e))&&!e.includes("edge/"))return"Chrome";if(ix(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function JS(t=vn()){return/firefox\//i.test(t)}function ex(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tx(t=vn()){return/crios\//i.test(t)}function nx(t=vn()){return/iemobile/i.test(t)}function ix(t=vn()){return/android/i.test(t)}function sx(t=vn()){return/blackberry/i.test(t)}function rx(t=vn()){return/webos/i.test(t)}function Ty(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MM(t=vn()){return Ty(t)&&!!window.navigator?.standalone}function VM(){return GN()&&document.documentMode===10}function ax(t=vn()){return Ty(t)||ix(t)||rx(t)||sx(t)||/windows phone/i.test(t)||nx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e=[]){let n;switch(t){case"Browser":n=LT(vn());break;case"Worker":n=`${LT(vn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t,e={}){return ta(t,"GET","/v2/passwordPolicy",Wa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=6;class LM{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??kM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jT(this),this.idTokenSubscription=new jT(this),this.beforeStateQueue=new OM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pf(this,{idToken:e}),s=await Oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(yi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(Hr(this));const n=e?Zt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PM(this),n=new LM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await DM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qs(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ox(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wl(t){return Zt(t)}class jT{constructor(e){this.auth=e,this.observer=null,this.addObserver=JN(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UM(t){hd=t}function lx(t){return hd.loadJS(t)}function BM(){return hd.recaptchaEnterpriseScript}function zM(){return hd.gapiScript}function FM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HM{constructor(){this.enterprise=new qM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GM="recaptcha-enterprise",ux="NO_RECAPTCHA";class KM{constructor(e){this.type=GM,this.auth=wl(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{wM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new EM(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;VT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(ux)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&VT(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=BM();m.length!==0&&(m+=d),lx(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function UT(t,e,n,s=!1,a=!1){const l=new KM(t);let c;if(a)c=ux;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function BT(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await UT(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await UT(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t,e){const n=ud(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ha(l,e??{}))return a;ki(a,"already-initialized")}return n.initialize({options:e})}function $M(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(qs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function QM(t,e,n){const s=wl(t);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=cx(e),{host:c,port:d}=XM(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Ha(p,s.config.emulator)&&Ha(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Qa(c)?(dy(`${l}//${c}${m}`),my("Auth",!0)):WM()}function cx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XM(t){const e=cx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:zT(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:zT(c)}}}function zT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hs("not implemented")}_getIdTokenResponse(e){return Hs("not implemented")}_linkToIdToken(e,n){return Hs("not implemented")}_getReauthenticationResolver(e){return Hs("not implemented")}}async function ZM(t,e){return ta(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,e){return cd(t,"POST","/v1/accounts:signInWithPassword",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,e))}async function tV(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Ey{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new rc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new rc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BT(e,n,"signInWithPassword",JM);case"emailLink":return eV(e,{email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BT(e,s,"signUpPassword",ZM);case"emailLink":return tV(e,{idToken:n,email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t,e){return cd(t,"POST","/v1/accounts:signInWithIdp",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="http://localhost";class Ga extends Ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ga(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ll(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ll(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ll(e,n)}buildRequest(){const e={requestUri:nV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sV(t){const e=ju(Uu(t)).link,n=e?ju(Uu(e)).deep_link_id:null,s=ju(Uu(t)).deep_link_id;return(s?ju(Uu(s)).link:null)||s||n||e||t}class wy{constructor(e){const n=ju(Uu(e)),s=n.apiKey??null,a=n.oobCode??null,l=iV(n.mode??null);Se(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=sV(e);try{return new wy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.providerId=Sl.PROVIDER_ID}static credential(e,n){return rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=wy.parseLink(n);return Se(s,"argument-error"),rc._fromEmailAndCode(e,s.code,s.tenantId)}}Sl.PROVIDER_ID="password";Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends hx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends wc{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends wc{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends wc{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Oi._fromIdTokenResponse(e,s,a),c=FT(s);return new fl({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=FT(s);return new fl({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function FT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends bs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Lf(e,n,s,a)}}function fx(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(t,l,e,s):l})}async function rV(t,e,n=!1){const s=await sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fl._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e,n=!1){const{auth:s}=t;if(yi(s.app))return Promise.reject(Hr(s));const a="reauthenticate";try{const l=await sc(t,fx(s,a,e,t),n);Se(l.idToken,s,"internal-error");const c=by(l.idToken);Se(c,s,"internal-error");const{sub:d}=c;return Se(t.uid===d,s,"user-mismatch"),fl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ki(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(t,e,n=!1){if(yi(t.app))return Promise.reject(Hr(t));const s="signIn",a=await fx(t,s,e),l=await fl._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function oV(t,e){return dx(wl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(t){const e=wl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function uV(t,e,n){return yi(t.app)?Promise.reject(Hr(t)):oV(Zt(t),Sl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&lV(t),s})}function cV(t,e,n,s){return Zt(t).onIdTokenChanged(e,n,s)}function hV(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}function fV(t,e,n,s){return Zt(t).onAuthStateChanged(e,n,s)}function dV(t){return Zt(t).signOut()}const jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=1e3,pV=10;class px extends mx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ax(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);VM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,pV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},mV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}px.type="LOCAL";const gV=px;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends mx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gx.type="SESSION";const yx=gx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new fd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await yV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Sy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(){return window}function _V(t){ls().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){return typeof ls().WorkerGlobalScope<"u"&&typeof ls().importScripts=="function"}async function bV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TV(){return navigator?.serviceWorker?.controller||null}function EV(){return vx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firebaseLocalStorageDb",wV=1,Uf="firebaseLocalStorage",bx="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dd(t,e){return t.transaction([Uf],e?"readwrite":"readonly").objectStore(Uf)}function SV(){const t=indexedDB.deleteDatabase(_x);return new Sc(t).toPromise()}function bg(){const t=indexedDB.open(_x,wV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Uf,{keyPath:bx})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Uf)?e(s):(s.close(),await SV(),e(await bg()))})})}async function HT(t,e,n){const s=dd(t,!0).put({[bx]:e,value:n});return new Sc(s).toPromise()}async function xV(t,e){const n=dd(t,!1).get(e),s=await new Sc(n).toPromise();return s===void 0?null:s.value}function qT(t,e){const n=dd(t,!0).delete(e);return new Sc(n).toPromise()}const AV=800,RV=3;class Tx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>RV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(EV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bV(),!this.activeServiceWorker)return;this.sender=new vV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bg();return await HT(e,jf,"1"),await qT(e,jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>HT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>xV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=dd(a,!1).getAll();return new Sc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tx.type="LOCAL";const CV=Tx;new Ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t,e){return e?qs(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends Ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NV(t){return dx(t.auth,new xy(t),t.bypassAuthState)}function DV(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),aV(n,new xy(t),t.bypassAuthState)}async function MV(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),rV(n,new xy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NV;case"linkViaPopup":case"linkViaRedirect":return MV;case"reauthViaPopup":case"reauthViaRedirect":return DV;default:ki(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=new Ec(2e3,1e4);class el extends Ex{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,el.currentPopupAction&&el.currentPopupAction.cancel(),el.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Qs(this.filter.length===1,"Popup operations only handle one event");const e=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,el.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VV.get())};e()}}el.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="pendingRedirect",_f=new Map;class PV extends Ex{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=_f.get(this.auth._key());if(!e){try{const s=await kV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}_f.set(this.auth._key(),e)}return this.bypassAuthState||_f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kV(t,e){const n=UV(e),s=jV(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function LV(t,e){_f.set(t._key(),e)}function jV(t){return qs(t._redirectPersistence)}function UV(t){return vf(OV,t.config.apiKey,t.name)}async function BV(t,e,n=!1){if(yi(t.app))return Promise.reject(Hr(t));const s=wl(t),a=IV(s,e),c=await new PV(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=600*1e3;class FV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!wx(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(os(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zV&&this.cachedEventUids.clear(),this.cachedEventUids.has(GT(e))}saveEventToCache(e){this.cachedEventUids.add(GT(e)),this.lastProcessedEventTime=Date.now()}}function GT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function HV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e={}){return ta(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KV=/^https?/;async function YV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qV(t);for(const n of e)try{if($V(n))return}catch{}ki(t,"unauthorized-domain")}function $V(t){const e=vg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!KV.test(n))return!1;if(GV.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=new Ec(3e4,6e4);function KT(){const t=ls().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XV(t){return new Promise((e,n)=>{function s(){KT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KT(),n(os(t,"network-request-failed"))},timeout:QV.get()})}if(ls().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ls().gapi?.load)s();else{const a=FM("iframefcb");return ls()[a]=()=>{gapi.load?s():n(os(t,"network-request-failed"))},lx(`${zM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bf=null,e})}let bf=null;function WV(t){return bf=bf||XV(t),bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=new Ec(5e3,15e3),JV="__/auth/iframe",eO="emulator/auth/iframe",tO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iO(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_y(e,eO):`https://${t.config.authDomain}/${JV}`,s={apiKey:e.apiKey,appName:t.name,v:Xa},a=nO.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Tc(s).slice(1)}`}async function sO(t){const e=await WV(t),n=ls().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:iO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tO,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=os(t,"network-request-failed"),d=ls().setTimeout(()=>{l(c)},ZV.get());function m(){ls().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aO=500,oO=600,lO="_blank",uO="http://localhost";class YT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cO(t,e,n,s=aO,a=oO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...rO,width:s.toString(),height:a.toString(),top:l,left:c},p=vn().toLowerCase();n&&(d=tx(p)?lO:n),JS(p)&&(e=e||uO,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[R,O])=>`${w}${R}=${O},`,"");if(MM(p)&&d!=="_self")return hO(e||"",d),new YT(null);const _=window.open(e||"",d,y);Se(_,t,"popup-blocked");try{_.focus()}catch{}return new YT(_)}function hO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="__/auth/handler",dO="emulator/auth/handler",mO=encodeURIComponent("fac");async function $T(t,e,n,s,a,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Xa,eventId:a};if(e instanceof hx){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",ZN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof wc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),p=m?`#${mO}=${encodeURIComponent(m)}`:"";return`${pO(t)}?${Tc(d).slice(1)}${p}`}function pO({config:t}){return t.emulator?_y(t,dO):`https://${t.authDomain}/${fO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="webStorageSupport";class gO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yx,this._completeRedirectFn=BV,this._overrideRedirectResult=LV}async _openPopup(e,n,s,a){Qs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await $T(e,n,s,vg(),a);return cO(e,l,Sy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await $T(e,n,s,vg(),a);return _V(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Qs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await sO(e),s=new FV(e);return n.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hp,{type:Hp},a=>{const l=a?.[0]?.[Hp];l!==void 0&&n(!!l),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ax()||ex()||Ty()}}const yO=gO;var QT="@firebase/auth",XT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bO(t){qa(new Kr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ox(t)},p=new jM(s,a,l,m);return $M(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),qa(new Kr("auth-internal",e=>{const n=wl(e.getProvider("auth").getImmediate());return(s=>new vO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(QT,XT,_O(t)),as(QT,XT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=300,EO=jS("authIdTokenMaxAge")||TO;let WT=null;const wO=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>EO)return;const a=n?.token;WT!==a&&(WT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Sx(t=yy()){const e=ud(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YM(t,{popupRedirectResolver:yO,persistence:[CV,gV,yx]}),s=jS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=wO(l.toString());hV(n,c,()=>c(n.currentUser)),cV(n,d=>c(d))}}const a=PS("auth");return a&&QM(n,`http://${a}`),n}function SO(){return document.getElementsByTagName("head")?.[0]??document}UM({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=os("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",SO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bO("Browser");var ZT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,xx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(k,P,B){for(var D=Array(arguments.length-2),je=2;je<arguments.length;je++)D[je-2]=arguments[je];return A.prototype[P].apply(k,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,A,C){C||(C=0);const k=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)k[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;P<16;++P)k[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],P=I.g[2];let B=I.g[3],D;D=A+(B^C&(P^B))+k[0]+3614090360&4294967295,A=C+(D<<7&4294967295|D>>>25),D=B+(P^A&(C^P))+k[1]+3905402710&4294967295,B=A+(D<<12&4294967295|D>>>20),D=P+(C^B&(A^C))+k[2]+606105819&4294967295,P=B+(D<<17&4294967295|D>>>15),D=C+(A^P&(B^A))+k[3]+3250441966&4294967295,C=P+(D<<22&4294967295|D>>>10),D=A+(B^C&(P^B))+k[4]+4118548399&4294967295,A=C+(D<<7&4294967295|D>>>25),D=B+(P^A&(C^P))+k[5]+1200080426&4294967295,B=A+(D<<12&4294967295|D>>>20),D=P+(C^B&(A^C))+k[6]+2821735955&4294967295,P=B+(D<<17&4294967295|D>>>15),D=C+(A^P&(B^A))+k[7]+4249261313&4294967295,C=P+(D<<22&4294967295|D>>>10),D=A+(B^C&(P^B))+k[8]+1770035416&4294967295,A=C+(D<<7&4294967295|D>>>25),D=B+(P^A&(C^P))+k[9]+2336552879&4294967295,B=A+(D<<12&4294967295|D>>>20),D=P+(C^B&(A^C))+k[10]+4294925233&4294967295,P=B+(D<<17&4294967295|D>>>15),D=C+(A^P&(B^A))+k[11]+2304563134&4294967295,C=P+(D<<22&4294967295|D>>>10),D=A+(B^C&(P^B))+k[12]+1804603682&4294967295,A=C+(D<<7&4294967295|D>>>25),D=B+(P^A&(C^P))+k[13]+4254626195&4294967295,B=A+(D<<12&4294967295|D>>>20),D=P+(C^B&(A^C))+k[14]+2792965006&4294967295,P=B+(D<<17&4294967295|D>>>15),D=C+(A^P&(B^A))+k[15]+1236535329&4294967295,C=P+(D<<22&4294967295|D>>>10),D=A+(P^B&(C^P))+k[1]+4129170786&4294967295,A=C+(D<<5&4294967295|D>>>27),D=B+(C^P&(A^C))+k[6]+3225465664&4294967295,B=A+(D<<9&4294967295|D>>>23),D=P+(A^C&(B^A))+k[11]+643717713&4294967295,P=B+(D<<14&4294967295|D>>>18),D=C+(B^A&(P^B))+k[0]+3921069994&4294967295,C=P+(D<<20&4294967295|D>>>12),D=A+(P^B&(C^P))+k[5]+3593408605&4294967295,A=C+(D<<5&4294967295|D>>>27),D=B+(C^P&(A^C))+k[10]+38016083&4294967295,B=A+(D<<9&4294967295|D>>>23),D=P+(A^C&(B^A))+k[15]+3634488961&4294967295,P=B+(D<<14&4294967295|D>>>18),D=C+(B^A&(P^B))+k[4]+3889429448&4294967295,C=P+(D<<20&4294967295|D>>>12),D=A+(P^B&(C^P))+k[9]+568446438&4294967295,A=C+(D<<5&4294967295|D>>>27),D=B+(C^P&(A^C))+k[14]+3275163606&4294967295,B=A+(D<<9&4294967295|D>>>23),D=P+(A^C&(B^A))+k[3]+4107603335&4294967295,P=B+(D<<14&4294967295|D>>>18),D=C+(B^A&(P^B))+k[8]+1163531501&4294967295,C=P+(D<<20&4294967295|D>>>12),D=A+(P^B&(C^P))+k[13]+2850285829&4294967295,A=C+(D<<5&4294967295|D>>>27),D=B+(C^P&(A^C))+k[2]+4243563512&4294967295,B=A+(D<<9&4294967295|D>>>23),D=P+(A^C&(B^A))+k[7]+1735328473&4294967295,P=B+(D<<14&4294967295|D>>>18),D=C+(B^A&(P^B))+k[12]+2368359562&4294967295,C=P+(D<<20&4294967295|D>>>12),D=A+(C^P^B)+k[5]+4294588738&4294967295,A=C+(D<<4&4294967295|D>>>28),D=B+(A^C^P)+k[8]+2272392833&4294967295,B=A+(D<<11&4294967295|D>>>21),D=P+(B^A^C)+k[11]+1839030562&4294967295,P=B+(D<<16&4294967295|D>>>16),D=C+(P^B^A)+k[14]+4259657740&4294967295,C=P+(D<<23&4294967295|D>>>9),D=A+(C^P^B)+k[1]+2763975236&4294967295,A=C+(D<<4&4294967295|D>>>28),D=B+(A^C^P)+k[4]+1272893353&4294967295,B=A+(D<<11&4294967295|D>>>21),D=P+(B^A^C)+k[7]+4139469664&4294967295,P=B+(D<<16&4294967295|D>>>16),D=C+(P^B^A)+k[10]+3200236656&4294967295,C=P+(D<<23&4294967295|D>>>9),D=A+(C^P^B)+k[13]+681279174&4294967295,A=C+(D<<4&4294967295|D>>>28),D=B+(A^C^P)+k[0]+3936430074&4294967295,B=A+(D<<11&4294967295|D>>>21),D=P+(B^A^C)+k[3]+3572445317&4294967295,P=B+(D<<16&4294967295|D>>>16),D=C+(P^B^A)+k[6]+76029189&4294967295,C=P+(D<<23&4294967295|D>>>9),D=A+(C^P^B)+k[9]+3654602809&4294967295,A=C+(D<<4&4294967295|D>>>28),D=B+(A^C^P)+k[12]+3873151461&4294967295,B=A+(D<<11&4294967295|D>>>21),D=P+(B^A^C)+k[15]+530742520&4294967295,P=B+(D<<16&4294967295|D>>>16),D=C+(P^B^A)+k[2]+3299628645&4294967295,C=P+(D<<23&4294967295|D>>>9),D=A+(P^(C|~B))+k[0]+4096336452&4294967295,A=C+(D<<6&4294967295|D>>>26),D=B+(C^(A|~P))+k[7]+1126891415&4294967295,B=A+(D<<10&4294967295|D>>>22),D=P+(A^(B|~C))+k[14]+2878612391&4294967295,P=B+(D<<15&4294967295|D>>>17),D=C+(B^(P|~A))+k[5]+4237533241&4294967295,C=P+(D<<21&4294967295|D>>>11),D=A+(P^(C|~B))+k[12]+1700485571&4294967295,A=C+(D<<6&4294967295|D>>>26),D=B+(C^(A|~P))+k[3]+2399980690&4294967295,B=A+(D<<10&4294967295|D>>>22),D=P+(A^(B|~C))+k[10]+4293915773&4294967295,P=B+(D<<15&4294967295|D>>>17),D=C+(B^(P|~A))+k[1]+2240044497&4294967295,C=P+(D<<21&4294967295|D>>>11),D=A+(P^(C|~B))+k[8]+1873313359&4294967295,A=C+(D<<6&4294967295|D>>>26),D=B+(C^(A|~P))+k[15]+4264355552&4294967295,B=A+(D<<10&4294967295|D>>>22),D=P+(A^(B|~C))+k[6]+2734768916&4294967295,P=B+(D<<15&4294967295|D>>>17),D=C+(B^(P|~A))+k[13]+1309151649&4294967295,C=P+(D<<21&4294967295|D>>>11),D=A+(P^(C|~B))+k[4]+4149444226&4294967295,A=C+(D<<6&4294967295|D>>>26),D=B+(C^(A|~P))+k[11]+3174756917&4294967295,B=A+(D<<10&4294967295|D>>>22),D=P+(A^(B|~C))+k[2]+718787259&4294967295,P=B+(D<<15&4294967295|D>>>17),D=C+(B^(P|~A))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+B&4294967295}s.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,k=this.C;let P=this.h,B=0;for(;B<A;){if(P==0)for(;B<=C;)a(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<A;)if(k[P++]=I.charCodeAt(B++),P==this.blockSize){a(this,k),P=0;break}}else for(;B<A;)if(k[P++]=I[B++],P==this.blockSize){a(this,k),P=0;break}}this.h=P,this.o+=A},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)I[A++]=this.g[C]>>>k&255;return I};function l(I,A){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function c(I,A){this.h=A;const C=[];let k=!0;for(let P=I.length-1;P>=0;P--){const B=I[P]|0;k&&B==A||(C[P]=B,k=!1)}this.g=C}var d={};function m(I){return-128<=I&&I<128?l(I,function(A){return new c([A|0],A<0?-1:0)}):new c([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return _;if(I<0)return N(p(-I));const A=[];let C=1;for(let k=0;I>=C;k++)A[k]=I/C|0,C*=4294967296;return new c(A,0)}function y(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return N(y(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(A,8));let k=_;for(let B=0;B<I.length;B+=8){var P=Math.min(8,I.length-B);const D=parseInt(I.substring(B,B+P),A);P<8?(P=p(Math.pow(A,P)),k=k.j(P).add(p(D))):(k=k.j(C),k=k.add(p(D)))}return k}var _=m(0),w=m(1),R=m(16777216);t=c.prototype,t.m=function(){if(z(this))return-N(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);I+=(k>=0?k:4294967296+k)*A,A*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(O(this))return"0";if(z(this))return"-"+N(this).toString(I);const A=p(Math.pow(I,6));var C=this;let k="";for(;;){const P=le(C,A).g;C=U(C,P.j(A));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=P,O(C))return B+k;for(;B.length<6;)B="0"+B;k=B+k}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function O(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function z(I){return I.h==-1}t.l=function(I){return I=U(this,I),z(I)?-1:O(I)?0:1};function N(I){const A=I.g.length,C=[];for(let k=0;k<A;k++)C[k]=~I.g[k];return new c(C,~I.h).add(w)}t.abs=function(){return z(this)?N(this):this},t.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let k=0;for(let P=0;P<=A;P++){let B=k+(this.i(P)&65535)+(I.i(P)&65535),D=(B>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);k=D>>>16,B&=65535,D&=65535,C[P]=D<<16|B}return new c(C,C[C.length-1]&-2147483648?-1:0)};function U(I,A){return I.add(N(A))}t.j=function(I){if(O(this)||O(I))return _;if(z(this))return z(I)?N(this).j(N(I)):N(N(this).j(I));if(z(I))return N(this.j(N(I)));if(this.l(R)<0&&I.l(R)<0)return p(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var k=0;k<2*A;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let P=0;P<I.g.length;P++){const B=this.i(k)>>>16,D=this.i(k)&65535,je=I.i(P)>>>16,Ke=I.i(P)&65535;C[2*k+2*P]+=D*Ke,H(C,2*k+2*P),C[2*k+2*P+1]+=B*Ke,H(C,2*k+2*P+1),C[2*k+2*P+1]+=D*je,H(C,2*k+2*P+1),C[2*k+2*P+2]+=B*je,H(C,2*k+2*P+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new c(C,0)};function H(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function K(I,A){this.g=I,this.h=A}function le(I,A){if(O(A))throw Error("division by zero");if(O(I))return new K(_,_);if(z(I))return A=le(N(I),A),new K(N(A.g),N(A.h));if(z(A))return A=le(I,N(A)),new K(N(A.g),A.h);if(I.g.length>30){if(z(I)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,k=A;k.l(I)<=0;)C=ae(C),k=ae(k);var P=ce(C,1),B=ce(k,1);for(k=ce(k,2),C=ce(C,2);!O(k);){var D=B.add(k);D.l(I)<=0&&(P=P.add(C),B=D),k=ce(k,1),C=ce(C,1)}return A=U(I,P.j(A)),new K(P,A)}for(P=_;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),B=p(C),D=B.j(A);z(D)||D.l(I)>0;)C-=k,B=p(C),D=B.j(A);O(B)&&(B=w),P=P.add(B),I=U(I,D)}return new K(P,I)}t.B=function(I){return le(this,I).h},t.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<A;k++)C[k]=this.i(k)&I.i(k);return new c(C,this.h&I.h)},t.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<A;k++)C[k]=this.i(k)|I.i(k);return new c(C,this.h|I.h)},t.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<A;k++)C[k]=this.i(k)^I.i(k);return new c(C,this.h^I.h)};function ae(I){const A=I.g.length+1,C=[];for(let k=0;k<A;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new c(C,I.h)}function ce(I,A){const C=A>>5;A%=32;const k=I.g.length-C,P=[];for(let B=0;B<k;B++)P[B]=A>0?I.i(B+C)>>>A|I.i(B+C+1)<<32-A:I.i(B+C);return new c(P,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,xx=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,qr=c}).apply(typeof ZT<"u"?ZT:typeof self<"u"?self:typeof window<"u"?window:{});var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ax,Bu,Rx,Tf,Tg,Cx,Ix,Nx;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof af=="object"&&af];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var E=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var q=h[x];if(!(q in E))break e;E=E[q]}h=h[h.length-1],x=E[h],v=v(x),v!=x&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],x;for(x in v)Object.prototype.hasOwnProperty.call(v,x)&&E.push([x,v[x]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function p(h,v,E){return p=m,p.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(x,q,Q){for(var ue=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ue[Ve-2]=arguments[Ve];return v.prototype[q].apply(x,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const E=Array(v);for(let x=0;x<v;x++)E[x]=h[x];return E}return[]}function O(h,v){for(let x=1;x<arguments.length;x++){const q=arguments[x];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const Q=q.length||0;h.length=E+Q;for(let ue=0;ue<Q;ue++)h[E+ue]=q[ue]}else h.push(q)}}class z{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function N(h){c.setTimeout(()=>{throw h},0)}function U(){var h=I;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class H{constructor(){this.h=this.g=null}add(v,E){const x=K.get();x.set(v,E),this.h?this.h.next=x:this.g=x,this.h=x}}var K=new z(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ce=!1,I=new H,A=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(C)}};function C(){for(var h;h=U();){try{h.h.call(h.g)}catch(E){N(E)}var v=K;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ce=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function je(h,v){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(je,P),je.prototype.init=function(h,v){const E=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),Z=0;function re(h,v,E,x,q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!x,this.ha=q,this.key=++Z,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h,v,E){for(const x in h)v.call(E,h[x],x,h)}function Ce(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function L(h){const v={};for(const E in h)v[E]=h[E];return v}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,v){let E,x;for(let q=1;q<arguments.length;q++){x=arguments[q];for(E in x)h[E]=x[E];for(let Q=0;Q<te.length;Q++)E=te[Q],Object.prototype.hasOwnProperty.call(x,E)&&(h[E]=x[E])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,v,E,x,q){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ue=Re(h,v,x,q);return ue>-1?(v=h[ue],E||(v.fa=!1)):(v=new re(v,this.src,Q,!!x,q),v.fa=E,h.push(v)),v};function be(h,v){const E=v.type;if(E in h.g){var x=h.g[E],q=Array.prototype.indexOf.call(x,v,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(x,q,1),Q&&(fe(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Re(h,v,E,x){for(let q=0;q<h.length;++q){const Q=h[q];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==x)return q}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),yt={};function rt(h,v,E,x,q){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)rt(h,v[Q],E,x,q);return null}return E=xn(E),h&&h[Ke]?h.J(v,E,d(x)?!!x.capture:!1,q):Qn(h,v,E,!1,x,q)}function Qn(h,v,E,x,q,Q){if(!v)throw Error("Invalid event type");const ue=d(q)?!!q.capture:!!q;let Ve=Wn(h);if(Ve||(h[Me]=Ve=new de(h)),E=Ve.add(v,E,x,ue,Q),E.proxy)return E;if(x=Jt(),E.proxy=x,x.src=h,x.listener=E,h.addEventListener)B||(q=ue),q===void 0&&(q=!1),h.addEventListener(v.toString(),x,q);else if(h.attachEvent)h.attachEvent(Sn(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Jt(){function h(E){return v.call(h.src,h.listener,E)}const v=tr;return h}function Xn(h,v,E,x,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Xn(h,v[Q],E,x,q);else x=d(x)?!!x.capture:!!x,E=xn(E),h&&h[Ke]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],E=Re(v,E,x,q),E>-1&&(fe(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Wn(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Re(v,E,x,q)),(E=h>-1?v[h]:null)&&wn(E))}function wn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ke])be(v.i,h);else{var E=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(E,x,h.capture):v.detachEvent?v.detachEvent(Sn(E),x):v.addListener&&v.removeListener&&v.removeListener(x),(E=Wn(v))?(be(E,h),E.h==0&&(E.src=null,v[Me]=null)):fe(h)}}}function Sn(h){return h in yt?yt[h]:yt[h]="on"+h}function tr(h,v){if(h.da)h=!0;else{v=new je(v,this);const E=h.listener,x=h.ha||h.src;h.fa&&wn(h),h=E.call(x,v)}return h}function Wn(h){return h=h[Me],h instanceof de?h:null}var Bi="__closure_events_fn_"+(Math.random()*1e9>>>0);function xn(h){return typeof h=="function"?h:(h[Bi]||(h[Bi]=function(v){return h.handleEvent(v)}),h[Bi])}function Et(){k.call(this),this.i=new de(this),this.M=this,this.G=null}_(Et,k),Et.prototype[Ke]=!0,Et.prototype.removeEventListener=function(h,v,E,x){Xn(this,h,v,E,x)};function wt(h,v){var E,x=h.G;if(x)for(E=[];x;x=x.G)E.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new P(v,h);else if(v instanceof P)v.target=v.target||h;else{var q=v;v=new P(x,h),he(v,q)}q=!0;let Q,ue;if(E)for(ue=E.length-1;ue>=0;ue--)Q=v.g=E[ue],q=Zn(Q,x,!0,v)&&q;if(Q=v.g=h,q=Zn(Q,x,!0,v)&&q,q=Zn(Q,x,!1,v)&&q,E)for(ue=0;ue<E.length;ue++)Q=v.g=E[ue],q=Zn(Q,x,!1,v)&&q}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let x=0;x<E.length;x++)fe(E[x]);delete h.g[v],h.h--}}this.G=null},Et.prototype.J=function(h,v,E,x){return this.i.add(String(h),v,!1,E,x)},Et.prototype.K=function(h,v,E,x){return this.i.add(String(h),v,!0,E,x)};function Zn(h,v,E,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Q=0;Q<v.length;++Q){const ue=v[Q];if(ue&&!ue.da&&ue.capture==E){const Ve=ue.listener,Ct=ue.ha||ue.src;ue.fa&&be(h.i,ue),q=Ve.call(Ct,x)!==!1&&q}}return q&&!x.defaultPrevented}function Ol(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function to(h){h.g=Ol(()=>{h.g=null,h.i&&(h.i=!1,to(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Ht extends k{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:to(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(h){k.call(this),this.h=h,this.g={}}_(Es,k);var ra=[];function aa(h){ye(h.g,function(v,E){this.g.hasOwnProperty(E)&&wn(v)},h),h.g={}}Es.prototype.N=function(){Es.Z.N.call(this),aa(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=c.JSON.stringify,Pl=c.JSON.parse,no=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function io(){}function so(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){P.call(this,"d")}_(qt,P);function fn(){P.call(this,"c")}_(fn,P);var vt={},ro=null;function nr(){return ro=ro||new Et}vt.Ia="serverreachability";function ao(h){P.call(this,vt.Ia,h)}_(ao,P);function Jn(h){const v=nr();wt(v,new ao(v))}vt.STAT_EVENT="statevent";function Si(h,v){P.call(this,vt.STAT_EVENT,h),this.stat=v}_(Si,P);function St(h){const v=nr();wt(v,new Si(v,h))}vt.Ja="timingevent";function ei(h,v){P.call(this,vt.Ja,h),this.size=v}_(ei,P);function ti(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function oa(h,v,E,x,q,Q){h.info(function(){if(h.g)if(Q){var ue="",Ve=Q.split("&");for(let Qe=0;Qe<Ve.length;Qe++){var Ct=Ve[Qe].split("=");if(Ct.length>1){const dt=Ct[0];Ct=Ct[1];const ai=dt.split("_");ue=ai.length>=2&&ai[1]=="type"?ue+(dt+"="+Ct+"&"):ue+(dt+"=redacted&")}}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+x+") [attempt "+q+"]: "+v+`
`+E+`
`+ue})}function oo(h,v,E,x,q,Q,ue){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+q+"]: "+v+`
`+E+`
`+Q+" "+ue})}function ni(h,v,E,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+kl(h,E)+(x?" "+x:"")})}function ws(h,v){h.info(function(){return"TIMEOUT: "+v})}jn.prototype.info=function(){};function kl(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var x=E[1];if(Array.isArray(x)&&!(x.length<1)){var q=x[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ue=1;ue<x.length;ue++)x[ue]=""}}}}return _n(Q)}catch{return v}}var Ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},W={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},oe;function pe(){}_(pe,io),pe.prototype.g=function(){return new XMLHttpRequest},oe=new pe;function lt(h){return encodeURIComponent(String(h))}function zi(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function en(h,v,E,x){this.j=h,this.i=v,this.l=E,this.S=x||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new An}function An(){this.i=null,this.g="",this.h=!1}var _t={},$t={};function Fi(h,v,E){h.M=1,h.A=la(Ot(v)),h.u=E,h.R=!0,lo(h,null)}function lo(h,v){h.F=Date.now(),Hi(h),h.B=Ot(h.A);var E=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),fo(E.i,"t",x),h.C=0,E=h.j.L,h.h=new An,h.g=Xc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new Ht(p(h.Y,h,h.g),h.P)),v=h.V,E=h.g,x=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(ra[0]=q.toString()),q=ra);for(let Q=0;Q<q.length;Q++){const ue=rt(E,q[Q],x||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Jn(),oa(h.i,h.v,h.B,h.l,h.S,h.u)}en.prototype.ba=function(h){h=h.target;const v=this.O;v&&Ri(h)==3?v.j():this.Y(h)},en.prototype.Y=function(h){try{if(h==this.g)e:{const Ve=Ri(this.g),Ct=this.g.ya(),Qe=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ve!=4||Ct==7||(Ct==8||Qe<=0?Jn(3):Jn(2)),qi(this);var v=this.g.ca();this.X=v;var E=Pd(this);if(this.o=v==200,oo(this.i,this.v,this.B,this.l,this.S,Ve,v),this.o){if(this.U&&!this.L){t:{if(this.g){var x,q=this.g;if((x=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(x)){var Q=x;break t}}Q=null}if(h=Q)ni(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Gi(this,h);else{this.o=!1,this.m=3,St(12),Un(this),ii(this);break e}}if(this.R){h=!0;let dt;for(;!this.K&&this.C<E.length;)if(dt=Lc(this,E),dt==$t){Ve==4&&(this.m=4,St(14),h=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==_t){this.m=4,St(15),ni(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else ni(this.i,this.l,dt,null),Gi(this,dt);if(kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||E.length!=0||this.h.h||(this.m=1,St(16),h=!1),this.o=this.o&&h,!h)ni(this.i,this.l,E,"[Invalid Chunked Response]"),Un(this),ii(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Wl(ue),ue.P=!0,St(11))}}else ni(this.i,this.l,E,null),Gi(this,E);Ve==4&&Un(this),this.o&&!this.K&&(Ve==4?Kc(this.j,this):(this.o=!1,Hi(this)))}else As(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Un(this),ii(this)}}}catch{}finally{}};function Pd(h){if(!kc(h))return h.g.la();const v=tn(h.g);if(v==="")return"";let E="";const x=v.length,q=Ri(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Un(h),ii(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<x;Q++)h.h.h=!0,E+=h.h.i.decode(v[Q],{stream:!(q&&Q==x-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function kc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Lc(h,v){var E=h.C,x=v.indexOf(`
`,E);return x==-1?$t:(E=Number(v.substring(E,x)),isNaN(E)?_t:(x+=1,x+E>v.length?$t:(v=v.slice(x,x+E),h.C=x+E,v)))}en.prototype.cancel=function(){this.K=!0,Un(this)};function Hi(h){h.T=Date.now()+h.H,uo(h,h.H)}function uo(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ti(p(h.aa,h),v)}function qi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}en.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ws(this.i,this.B),this.M!=2&&(Jn(),St(17)),Un(this),this.m=2,ii(this)):uo(this,this.T-h)};function ii(h){h.j.I==0||h.K||Kc(h.j,h)}function Un(h){qi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,aa(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Gi(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Yi(E.h,h))){if(!h.L&&Yi(E.h,h)&&E.I==3){try{var x=E.Ba.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var q=x;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)vo(E),cr(E);else break e;pa(E),St(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ti(p(E.Va,E),6e3));Ki(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ji(E,11)}else if((h.L||E.g==h)&&vo(E),!D(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let Qe=q[v];const dt=Qe[0];if(!(dt<=E.K))if(E.K=dt,Qe=Qe[1],E.I==2)if(Qe[0]=="c"){E.M=Qe[1],E.ba=Qe[2];const ai=Qe[3];ai!=null&&(E.ka=ai,E.j.info("VER="+E.ka));const es=Qe[4];es!=null&&(E.za=es,E.j.info("SVER="+E.za));const Ci=Qe[5];Ci!=null&&typeof Ci=="number"&&Ci>0&&(x=1.5*Ci,E.O=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const Ii=h.g;if(Ii){const ga=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var Q=x.h;Q.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ul(Q,Q.h),Q.h=null))}if(x.G){const _o=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(x.wa=_o,Ze(x.J,x.G,_o))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),x=E;var ue=h;if(x.na=Qc(x,x.L?x.ba:null,x.W),ue.L){Bl(x.h,ue);var Ve=ue,Ct=x.O;Ct&&(Ve.H=Ct),Ve.D&&(qi(Ve),Hi(Ve)),x.g=ue}else qc(x);E.i.length>0&&Zi(E)}else Qe[0]!="stop"&&Qe[0]!="close"||Ji(E,7);else E.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ji(E,7):Ql(E):Qe[0]!="noop"&&E.l&&E.l.qa(Qe),E.A=0)}}Jn(4)}catch{}}var Vt=class{constructor(h,v){this.g=h,this.map=v}};function Ll(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ki(h){return h.h?1:h.g?h.g.size:0}function Yi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ul(h,v){h.g?h.g.add(v):h.h=v}function Bl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Ll.prototype.cancel=function(){if(this.i=zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function zl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return R(h.i)}var jc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const x=h[E].indexOf("=");let q,Q=null;x>=0?(q=h[E].substring(0,x),Q=h[E].substring(x+1)):q=h[E],v(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Bn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Bn?(this.l=h.l,Qt(this,h.j),this.o=h.o,this.g=h.g,ir(this,h.u),this.h=h.h,Fl(this,Fc(h.i)),this.m=h.m):h&&(v=String(h).match(jc))?(this.l=!1,Qt(this,v[1]||"",!0),this.o=$i(v[2]||""),this.g=$i(v[3]||"",!0),ir(this,v[4]),this.h=$i(v[5]||"",!0),Fl(this,v[6]||"",!0),this.m=$i(v[7]||"")):(this.l=!1,this.i=new rr(null,this.l))}Bn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(ua(v,ho,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ua(v,ho,!0),"@"),h.push(lt(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ua(E,E.charAt(0)=="/"?Hl:Uc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ua(E,Bc)),h.join("")},Bn.prototype.resolve=function(h){const v=Ot(this);let E=!!h.j;E?Qt(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var x=h.h;if(E)ir(v,h.u);else if(E=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var q=v.h.lastIndexOf("/");q!=-1&&(x=v.h.slice(0,q+1)+x)}if(q=x,q==".."||q==".")x="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){x=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ue=0;ue<q.length;){const Ve=q[ue++];Ve=="."?x&&ue==q.length&&Q.push(""):Ve==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),x&&ue==q.length&&Q.push("")):(Q.push(Ve),x=!0)}x=Q.join("/")}else x=q}return E?v.h=x:E=h.i.toString()!=="",E?Fl(v,Fc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Ot(h){return new Bn(h)}function Qt(h,v,E){h.j=E?$i(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ir(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Fl(h,v,E){v instanceof rr?(h.i=v,mo(h.i,h.l)):(E||(v=ua(v,sr)),h.i=new rr(v,h.l))}function Ze(h,v,E){h.i.set(v,E)}function la(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function $i(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ua(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,Rn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Rn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ho=/[#\/\?@]/g,Uc=/[#\?:]/g,Hl=/[#\?]/g,sr=/[#\?@]/g,Bc=/#/g;function rr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Cn(h){h.g||(h.g=new Map,h.h=0,h.i&&co(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=rr.prototype,t.add=function(h,v){Cn(this),this.i=null,h=ar(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function zc(h,v){Cn(h),v=ar(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ql(h,v){return Cn(h),v=ar(h,v),h.g.has(v)}t.forEach=function(h,v){Cn(this),this.g.forEach(function(E,x){E.forEach(function(q){h.call(v,q,x,this)},this)},this)};function Gl(h,v){Cn(h);let E=[];if(typeof v=="string")ql(h,v)&&(E=E.concat(h.g.get(ar(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}t.set=function(h,v){return Cn(this),this.i=null,h=ar(this,h),ql(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=Gl(this,h),h.length>0?String(h[0]):v):v};function fo(h,v,E){zc(h,v),E.length>0&&(h.i=null,h.g.set(ar(h,v),R(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let x=0;x<v.length;x++){var E=v[x];const q=lt(E);E=Gl(this,E);for(let Q=0;Q<E.length;Q++){let ue=q;E[Q]!==""&&(ue+="="+lt(E[Q])),h.push(ue)}}return this.i=h.join("&")};function Fc(h){const v=new rr;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function ar(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function mo(h,v){v&&!h.j&&(Cn(h),h.i=null,h.g.forEach(function(E,x){const q=x.toLowerCase();x!=q&&(zc(this,x),fo(this,q,E))},h)),h.j=v}function xi(h,v){const E=new jn;if(c.Image){const x=new Image;x.onload=y(si,E,"TestLoadImage: loaded",!0,v,x),x.onerror=y(si,E,"TestLoadImage: error",!1,v,x),x.onabort=y(si,E,"TestLoadImage: abort",!1,v,x),x.ontimeout=y(si,E,"TestLoadImage: timeout",!1,v,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function Kl(h,v){const E=new jn,x=new AbortController,q=setTimeout(()=>{x.abort(),si(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(Q=>{clearTimeout(q),Q.ok?si(E,"TestPingServer: ok",!0,v):si(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),si(E,"TestPingServer: error",!1,v)})}function si(h,v,E,x,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),x(E)}catch{}}function or(){this.g=new no}function Qi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Qi,io),Qi.prototype.g=function(){return new ca(this.i,this.h)};function ca(h,v){Et.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ca,Et),t=ca.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Ai(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;po(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function po(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?lr(this):Ai(this),this.readyState==3&&po(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,lr(this))},t.Na=function(h){this.g&&(this.response=h,lr(this))},t.ga=function(){this.g&&lr(this)};function lr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ai(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function Ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ri(h){let v="";return ye(h,function(E,x){v+=x,v+=":",v+=E,v+=`\r
`}),v}function ha(h,v,E){e:{for(x in E){var x=!1;break e}x=!0}x||(E=ri(E),typeof h=="string"?E!=null&&lt(E):Ze(h,v,E))}function tt(h){Et.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(tt,Et);var Xi=/^https?$/i,Yl=["POST","PUT"];t=tt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():oe.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){fa(this,Q);return}if(h=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var q in x)E.set(q,x[q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())E.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Yl,v,void 0)>=0)||x||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of E)this.g.setRequestHeader(Q,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){fa(this,Q)}};function fa(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,$l(h),xs(h)}function $l(h){h.A||(h.A=!0,wt(h,"complete"),wt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,wt(this,"complete"),wt(this,"abort"),xs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},t.Xa=function(){da(this)};function da(h){if(h.h&&typeof l<"u"){if(h.v&&Ri(h)==4)setTimeout(h.Ca.bind(h),0);else if(wt(h,"readystatechange"),Ri(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var x;if(x=Q===0){let ue=String(h.D).match(jc)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),x=!Xi.test(ue?ue.toLowerCase():"")}E=x}if(E)wt(h,"complete"),wt(h,"success");else{h.o=6;try{var q=Ri(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",$l(h)}}finally{xs(h)}}}}function xs(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||wt(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ri(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ri(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Pl(v)}};function tn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function As(h){const v={};h=(h.g&&Ri(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(D(h[x]))continue;var E=zi(h[x]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[q]||[];v[q]=Q,Q.push(E)}Ce(v,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function ur(h){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wi("baseRetryDelayMs",5e3,h),this.Za=Wi("retryDelaySeedMs",1e4,h),this.Ta=Wi("forwardChannelMaxRetries",2,h),this.va=Wi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ll(h&&h.concurrentRequestLimit),this.Ba=new or,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ur.prototype,t.ka=8,t.I=1,t.connect=function(h,v,E,x){St(0),this.W=h,this.H=v||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.J=Qc(this,null,this.W),Zi(this)};function Ql(h){if(go(h),h.I==3){var v=h.V++,E=Ot(h.J);if(Ze(E,"SID",h.M),Ze(E,"RID",v),Ze(E,"TYPE","terminate"),ma(h,E),v=new en(h,h.j,v),v.M=2,v.A=la(Ot(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Xc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Hi(v)}$c(h)}function cr(h){h.g&&(Wl(h),h.g.cancel(),h.g=null)}function go(h){cr(h),h.v&&(c.clearTimeout(h.v),h.v=null),vo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Zi(h){if(!jl(h.h)&&!h.m){h.m=!0;var v=h.Ea;ae||A(),ce||(ae(),ce=!0),I.add(v,h),h.D=0}}function yo(h,v){return Ki(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ti(p(h.Ea,h,v),Yc(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new en(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=L(Q),he(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Hc(this,q,v),E=Ot(this.J),Ze(E,"RID",h),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),ma(this,E),Q&&(this.R?v="headers="+lt(ri(Q))+"&"+v:this.u&&ha(E,this.u,Q)),Ul(this.h,q),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",v),Ze(E,"SID","null"),q.U=!0,Fi(q,E,null)):Fi(q,E,v),this.I=2}}else this.I==3&&(h?Xl(this,h):this.i.length==0||jl(this.h)||Xl(this))};function Xl(h,v){var E;v?E=v.l:E=h.V++;const x=Ot(h.J);Ze(x,"SID",h.M),Ze(x,"RID",E),Ze(x,"AID",h.K),ma(h,x),h.u&&h.o&&ha(x,h.u,h.o),E=new en(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Hc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ul(h.h,E),Fi(E,x,v)}function ma(h,v){h.H&&ye(h.H,function(E,x){Ze(v,x,E)}),h.l&&ye({},function(E,x){Ze(v,x,E)})}function Hc(h,v,E){E=Math.min(h.i.length,E);const x=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ve=-1;for(;;){const Ct=["count="+E];Ve==-1?E>0?(Ve=q[0].g,Ct.push("ofs="+Ve)):Ve=0:Ct.push("ofs="+Ve);let Qe=!0;for(let dt=0;dt<E;dt++){var Q=q[dt].g;const ai=q[dt].map;if(Q-=Ve,Q<0)Ve=Math.max(0,q[dt].g-100),Qe=!1;else try{Q="req"+Q+"_"||"";try{var ue=ai instanceof Map?ai:Object.entries(ai);for(const[es,Ci]of ue){let Ii=Ci;d(Ci)&&(Ii=_n(Ci)),Ct.push(Q+es+"="+encodeURIComponent(Ii))}}catch(es){throw Ct.push(Q+"type="+encodeURIComponent("_badmap")),es}}catch{x&&x(ai)}}if(Qe){ue=Ct.join("&");break e}}ue=void 0}return h=h.i.splice(0,E),v.G=h,ue}function qc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ae||A(),ce||(ae(),ce=!0),I.add(v,h),h.A=0}}function pa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ti(p(h.Da,h),Yc(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Gc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ti(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),cr(this),Gc(this))};function Wl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Gc(h){h.g=new en(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Ot(h.na);Ze(v,"RID","rpc"),Ze(v,"SID",h.M),Ze(v,"AID",h.K),Ze(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(v,"TO",h.ia),Ze(v,"TYPE","xmlhttp"),ma(h,v),h.u&&h.o&&ha(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=la(Ot(v)),E.u=null,E.R=!0,lo(E,h)}t.Va=function(){this.C!=null&&(this.C=null,cr(this),pa(this),St(19))};function vo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Kc(h,v){var E=null;if(h.g==v){vo(h),Wl(h),h.g=null;var x=2}else if(Yi(h.h,v))E=v.G,Bl(h.h,v),x=1;else return;if(h.I!=0){if(v.o)if(x==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;x=nr(),wt(x,new ei(x,E)),Zi(h)}else qc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(x==1&&yo(h,v)||x==2&&pa(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),q){case 1:Ji(h,5);break;case 4:Ji(h,10);break;case 3:Ji(h,6);break;default:Ji(h,2)}}}function Yc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Ji(h,v){if(h.j.info("Error code "+v),v==2){var E=p(h.bb,h),x=h.Ua;const q=!x;x=new Bn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Qt(x,"https"),la(x),q?xi(x.toString(),E):Kl(x.toString(),E)}else St(2);h.I=0,h.l&&h.l.pa(v),$c(h),go(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function $c(h){if(h.I=0,h.ja=[],h.l){const v=zl(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ja,v),O(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function Qc(h,v,E){var x=E instanceof Bn?Ot(E):new Bn(E);if(x.g!="")v&&(x.g=v+"."+x.g),ir(x,x.u);else{var q=c.location;x=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Q=new Bn(null);x&&Qt(Q,x),v&&(Q.g=v),q&&ir(Q,q),E&&(Q.h=E),x=Q}return E=h.G,v=h.wa,E&&v&&Ze(x,E,v),Ze(x,"VER",h.ka),ma(h,x),x}function Xc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new tt(new Qi({ab:E})):new tt(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wc(){}t=Wc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hr(){}hr.prototype.g=function(h,v){return new bn(h,v)};function bn(h,v){Et.call(this),this.g=new ur(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Rs(this)}_(bn,Et),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Ql(this.g)},bn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=_n(h),h=E);v.i.push(new Vt(v.Ya++,h)),v.I==3&&Zi(v)},bn.prototype.N=function(){this.g.l=null,delete this.j,Ql(this.g),delete this.g,bn.Z.N.call(this)};function Zc(h){qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Zc,qt);function Jc(){fn.call(this),this.status=1}_(Jc,fn);function Rs(h){this.g=h}_(Rs,Wc),Rs.prototype.ra=function(){wt(this.g,"a")},Rs.prototype.qa=function(h){wt(this.g,new Zc(h))},Rs.prototype.pa=function(h){wt(this.g,new Jc)},Rs.prototype.oa=function(){wt(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,Nx=function(){return new hr},Ix=function(){return nr()},Cx=vt,Tg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,Tf=Ss,W.COMPLETE="complete",Rx=W,so.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Bu=so,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,Ax=tt}).apply(typeof af<"u"?af:typeof self<"u"?self:typeof window<"u"?window:{});const JT="@firebase/firestore",eE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new py("@firebase/firestore");function Xo(){return Ka.logLevel}function me(t,...e){if(Ka.logLevel<=ze.DEBUG){const n=e.map(Ay);Ka.debug(`Firestore (${xl}): ${t}`,...n)}}function Xs(t,...e){if(Ka.logLevel<=ze.ERROR){const n=e.map(Ay);Ka.error(`Firestore (${xl}): ${t}`,...n)}}function dl(t,...e){if(Ka.logLevel<=ze.WARN){const n=e.map(Ay);Ka.warn(`Firestore (${xl}): ${t}`,...n)}}function Ay(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Dx(t,s,n)}function Dx(t,e,n){let s=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Xs(s),new Error(s)}function We(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Dx(e,a,s)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class AO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RO{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ks,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ks)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new Mx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class CO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new CO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=DO(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Fe(t,e){return t<e?-1:t>e?1:0}function Eg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return qp(a)===qp(l)?Fe(a,l):qp(a)?1:-1}return Fe(t.length,e.length)}const MO=55296,VO=57343;function qp(t){const e=t.charCodeAt(0);return e>=MO&&e<=VO}function ml(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="__name__";class rs{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=rs.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Fe(e.length,n.length)}static compareSegments(e,n){const s=rs.isNumericId(e),a=rs.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?rs.extractNumericId(e).compare(rs.extractNumericId(n)):Eg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class ht extends rs{construct(e,n,s){return new ht(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const OO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends rs{construct(e,n,s){return new un(e,n,s)}static isValidIdentifier(e){return OO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nE}static keyField(){return new un([nE])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ve(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ve(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ve(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ht.fromString(e))}static fromName(e){return new Ee(ht.fromString(e).popFirst(5))}static empty(){return new Ee(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e,n){if(!n)throw new ve(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PO(t,e,n,s){if(e===!0&&s===!0)throw new ve(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iE(t){if(!Ee.isDocumentKey(t))throw new ve(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sE(t){if(Ee.isDocumentKey(t))throw new ve(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ox(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cy(t);throw new ve(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function xc(t,e){if(!Ox(t))throw new ve(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ve(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=-62135596800,aE=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*aE);return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rE)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aE}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:zt("string",ft._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new ft(0,0))}static max(){return new Ie(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=-1;function kO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new Yr(a,Ee.empty(),e)}function LO(t){return new Yr(t.readTime,t.key,ac)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(Ie.min(),Ee.empty(),ac)}static max(){return new Yr(Ie.max(),Ee.empty(),ac)}}function jO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==UO)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((a=>a?ie.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{c[p]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new ie(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function zO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}md.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=-1;function pd(t){return t==null}function Bf(t){return t===0&&1/t==-1/0}function FO(t){return typeof t=="number"&&Number.isInteger(t)&&!Bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="";function HO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oE(e)),e=qO(t.get(n),e);return oE(e)}function qO(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Px:n+="";break;default:n+=l}}return n}function oE(t){return t+Px+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function na(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new of(this.root,e,this.comparator,!1)}getReverseIterator(){return new of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new of(this.root,e,this.comparator,!0)}}class of{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??ln.RED,this.left=a??ln.EMPTY,this.right=l??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new ln(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return ln.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(e){return new uE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class uE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new $n([])}unionWith(e){let n=new Yt(un.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Lx("Invalid base64 string: "+l):l}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const GO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=GO.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qr(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="server_timestamp",Ux="__type__",Bx="__previous_value__",zx="__local_write_time__";function Ny(t){return(t?.mapValue?.fields||{})[Ux]?.stringValue===jx}function gd(t){const e=t.mapValue.fields[Bx];return Ny(e)?gd(e):e}function oc(t){const e=$r(t.mapValue.fields[zx].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,s,a,l,c,d,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const zf="(default)";class lc{constructor(e,n){this.projectId=e,this.database=n||zf}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="__type__",YO="__max__",lf={mapValue:{}},Hx="__vector__",Ff="value";function Xr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ny(t)?4:QO(t)?9007199254740991:$O(t)?10:11:xe(28295,{value:t})}function ps(t,e){if(t===e)return!0;const n=Xr(t);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oc(t).isEqual(oc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=$r(a.timestampValue),d=$r(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Qr(a.bytesValue).isEqual(Qr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Mt(a.doubleValue),d=Mt(l.doubleValue);return c===d?Bf(c)===Bf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return ml(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(lE(c)!==lE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ps(c[m],d[m])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function uc(t,e){return(t.values||[]).find((n=>ps(n,e)))!==void 0}function pl(t,e){if(t===e)return 0;const n=Xr(t),s=Xr(e);if(n!==s)return Fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Mt(l.integerValue||l.doubleValue),m=Mt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return cE(t.timestampValue,e.timestampValue);case 4:return cE(oc(t),oc(e));case 5:return Eg(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Qr(l),m=Qr(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Fe(d[p],m[p]);if(y!==0)return y}return Fe(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Fe(Mt(l.latitude),Mt(c.latitude));return d!==0?d:Fe(Mt(l.longitude),Mt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return hE(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[Ff]?.arrayValue,y=m[Ff]?.arrayValue,_=Fe(p?.values?.length||0,y?.values?.length||0);return _!==0?_:hE(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===lf.mapValue&&c===lf.mapValue)return 0;if(l===lf.mapValue)return 1;if(c===lf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const w=Eg(m[_],y[_]);if(w!==0)return w;const R=pl(d[m[_]],p[y[_]]);if(R!==0)return R}return Fe(m.length,y.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function cE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=$r(t),s=$r(e),a=Fe(n.seconds,s.seconds);return a!==0?a:Fe(n.nanos,s.nanos)}function hE(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=pl(n[a],s[a]);if(l)return l}return Fe(n.length,s.length)}function gl(t){return wg(t)}function wg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=$r(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Qr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=wg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${wg(n.fields[c])}`;return a+"}"})(t.mapValue):xe(61005,{value:t})}function Ef(t){switch(Xr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gd(t);return e?16+Ef(e):16;case 5:return 2*t.stringValue.length;case 6:return Qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Ef(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return na(s.fields,((l,c)=>{a+=l.length+Ef(c)})),a})(t.mapValue);default:throw xe(13486,{value:t})}}function Sg(t){return!!t&&"integerValue"in t}function Dy(t){return!!t&&"arrayValue"in t}function fE(t){return!!t&&"nullValue"in t}function dE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wf(t){return!!t&&"mapValue"in t}function $O(t){return(t?.mapValue?.fields||{})[Fx]?.stringValue===Hx}function Yu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return na(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yu(t.arrayValue.values[n]);return e}return{...t}}function QO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(n)}setAll(e){let n=un.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Yu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];wf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){na(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Pn(Yu(this.value))}}function qx(t){const e=[];return na(t.fields,((n,s)=>{const a=new un([n]);if(wf(s)){const l=qx(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new gn(e,0,Ie.min(),Ie.min(),Ie.min(),Pn.empty(),0)}static newFoundDocument(e,n,s,a){return new gn(e,1,n,Ie.min(),s,a,0)}static newNoDocument(e,n){return new gn(e,2,n,Ie.min(),Ie.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Ie.min(),Ie.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this.position=e,this.inclusive=n}}function mE(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Ee.comparator(Ee.fromName(c.referenceValue),n.key):s=pl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function pE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n="asc"){this.field=e,this.dir=n}}function XO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{}class Kt extends Gx{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new ZO(e,n,s):n==="array-contains"?new tP(e,s):n==="in"?new nP(e,s):n==="not-in"?new iP(e,s):n==="array-contains-any"?new sP(e,s):new Kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new JO(e,s):new eP(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pl(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gs extends Gx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new gs(e,n)}matches(e){return Kx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kx(t){return t.op==="and"}function Yx(t){return WO(t)&&Kx(t)}function WO(t){for(const e of t.filters)if(e instanceof gs)return!1;return!0}function xg(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+gl(t.value);if(Yx(t))return t.filters.map((e=>xg(e))).join(",");{const e=t.filters.map((n=>xg(n))).join(",");return`${t.op}(${e})`}}function $x(t,e){return t instanceof Kt?(function(s,a){return a instanceof Kt&&s.op===a.op&&s.field.isEqual(a.field)&&ps(s.value,a.value)})(t,e):t instanceof gs?(function(s,a){return a instanceof gs&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&$x(c,a.filters[d])),!0):!1})(t,e):void xe(19439)}function Qx(t){return t instanceof Kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${gl(n.value)}`})(t):t instanceof gs?(function(n){return n.op.toString()+" {"+n.getFilters().map(Qx).join(" ,")+"}"})(t):"Filter"}class ZO extends Kt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class JO extends Kt{constructor(e,n){super(e,"in",n),this.keys=Xx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class eP extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=Xx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Xx(t,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class tP extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dy(n)&&uc(n.arrayValue,this.value)}}class nP extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}}class iP extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uc(this.value.arrayValue,n)}}class sP extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>uc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function gE(t,e=null,n=[],s=[],a=null,l=null,c=null){return new rP(t,e,n,s,a,l,c)}function My(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>xg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>gl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>gl(s))).join(",")),e.Te=n}return e.Te}function Vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$x(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pE(t.startAt,e.startAt)&&pE(t.endAt,e.endAt)}function Ag(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aP(t,e,n,s,a,l,c,d){return new yd(t,e,n,s,a,l,c,d)}function Oy(t){return new yd(t)}function yE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oP(t){return t.collectionGroup!==null}function $u(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Yt(un.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new qf(l,s))})),n.has(un.keyField().canonicalString())||e.Ie.push(new qf(un.keyField(),s))}return e.Ie}function us(t){const e=De(t);return e.Ee||(e.Ee=lP(e,$u(t))),e.Ee}function lP(t,e){if(t.limitType==="F")return gE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new qf(a.field,l)}));const n=t.endAt?new Hf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Hf(t.startAt.position,t.startAt.inclusive):null;return gE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Rg(t,e,n){return new yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vd(t,e){return Vy(us(t),us(e))&&t.limitType===e.limitType}function Wx(t){return`${My(us(t))}|lt:${t.limitType}`}function Wo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>Qx(a))).join(", ")}]`),pd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>gl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>gl(a))).join(",")),`Target(${s})`})(us(t))}; limitType=${t.limitType})`}function _d(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ee.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of $u(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const p=mE(c,d,m);return c.inclusive?p<=0:p<0})(s.startAt,$u(s),a)||s.endAt&&!(function(c,d,m){const p=mE(c,d,m);return c.inclusive?p>=0:p>0})(s.endAt,$u(s),a))})(t,e)}function uP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Zx(t){return(e,n)=>{let s=!1;for(const a of $u(t)){const l=cP(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function cP(t,e,n){const s=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?pl(m,p):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return kx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new Tt(Ee.comparator);function Ws(){return hP}const Jx=new Tt(Ee.comparator);function zu(...t){let e=Jx;for(const n of t)e=e.insert(n.key,n);return e}function eA(t){let e=Jx;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ka(){return Qu()}function tA(){return Qu()}function Qu(){return new Za((t=>t.toString()),((t,e)=>t.isEqual(e)))}const fP=new Tt(Ee.comparator),dP=new Yt(Ee.comparator);function He(...t){let e=dP;for(const n of t)e=e.add(n);return e}const mP=new Yt(Fe);function pP(){return mP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(e)?"-0":e}}function nA(t){return{integerValue:""+t}}function gP(t,e){return FO(e)?nA(e):Py(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this._=void 0}}function yP(t,e,n){return t instanceof Gf?(function(a,l){const c={fields:{[Ux]:{stringValue:jx},[zx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ny(l)&&(l=gd(l)),l&&(c.fields[Bx]=l),{mapValue:c}})(n,e):t instanceof cc?sA(t,e):t instanceof hc?rA(t,e):(function(a,l){const c=iA(a,l),d=vE(c)+vE(a.Ae);return Sg(c)&&Sg(a.Ae)?nA(d):Py(a.serializer,d)})(t,e)}function vP(t,e,n){return t instanceof cc?sA(t,e):t instanceof hc?rA(t,e):n}function iA(t,e){return t instanceof Kf?(function(s){return Sg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Gf extends bd{}class cc extends bd{constructor(e){super(),this.elements=e}}function sA(t,e){const n=aA(e);for(const s of t.elements)n.some((a=>ps(a,s)))||n.push(s);return{arrayValue:{values:n}}}class hc extends bd{constructor(e){super(),this.elements=e}}function rA(t,e){let n=aA(e);for(const s of t.elements)n=n.filter((a=>!ps(a,s)));return{arrayValue:{values:n}}}class Kf extends bd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vE(t){return Mt(t.integerValue||t.doubleValue)}function aA(t){return Dy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _P(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof cc&&a instanceof cc||s instanceof hc&&a instanceof hc?ml(s.elements,a.elements,ps):s instanceof Kf&&a instanceof Kf?ps(s.Ae,a.Ae):s instanceof Gf&&a instanceof Gf})(t.transform,e.transform)}class bP{constructor(e,n){this.version=e,this.transformResults=n}}class bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Td{}function oA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ky(t.key,bi.none()):new Ac(t.key,t.data,bi.none());{const n=t.data,s=Pn.empty();let a=new Yt(un.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ia(t.key,s,new $n(a.toArray()),bi.none())}}function TP(t,e,n){t instanceof Ac?(function(a,l,c){const d=a.value.clone(),m=bE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ia?(function(a,l,c){if(!Sf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=bE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(lA(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Xu(t,e,n,s){return t instanceof Ac?(function(l,c,d,m){if(!Sf(l.precondition,c))return d;const p=l.value.clone(),y=TE(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof ia?(function(l,c,d,m){if(!Sf(l.precondition,c))return d;const p=TE(l.fieldTransforms,m,c),y=c.data;return y.setAll(lA(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,d){return Sf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function EP(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=iA(s.transform,a||null);l!=null&&(n===null&&(n=Pn.empty()),n.set(s.field,l))}return n||null}function _E(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&ml(s,a,((l,c)=>_P(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ac extends Td{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ia extends Td{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function lA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function bE(t,e,n){const s=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,vP(c,d,n[a]))}return s}function TE(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,yP(l,c,e))}return s}class ky extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wP extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&TP(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tA();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=oA(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((n,s)=>_E(n,s)))&&ml(this.baseMutations,e.baseMutations,((n,s)=>_E(n,s)))}}class Ly{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return fP})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Ly(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Ge;function RP(t){switch(t){case se.OK:return xe(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function uA(t){if(t===void 0)return Xs("GRPC error has no .code"),se.UNKNOWN;switch(t){case Ut.OK:return se.OK;case Ut.CANCELLED:return se.CANCELLED;case Ut.UNKNOWN:return se.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return se.INTERNAL;case Ut.UNAVAILABLE:return se.UNAVAILABLE;case Ut.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ut.NOT_FOUND:return se.NOT_FOUND;case Ut.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ut.ABORTED:return se.ABORTED;case Ut.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ut.DATA_LOSS:return se.DATA_LOSS;default:return xe(39323,{code:t})}}(Ge=Ut||(Ut={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=new qr([4294967295,4294967295],0);function EE(t){const e=CP().encode(t),n=new xx;return n.update(e),new Uint8Array(n.digest())}function wE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qr([n,s],0),new qr([a,l],0)]}class jy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fu(`Invalid padding: ${n}`);if(s<0)throw new Fu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(qr.fromNumber(s)));return a.compare(IP)===1&&(a=new qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=EE(e),[s,a]=wE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new jy(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=EE(e),[s,a]=wE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ed(Ie.min(),a,new Tt(Fe),Ws(),He())}}class Rc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Rc(s,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class cA{constructor(e,n){this.targetId=e,this.Ce=n}}class hA{constructor(e,n,s=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class SE{constructor(){this.ve=0,this.Fe=xE(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),s=He();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:xe(38017,{changeType:l})}})),new Rc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=xE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ws(),this.Je=uf(),this.He=uf(),this.Ye=new Tt(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ag(l))if(s===0){const c=new Ee(l.path);this.et(n,c,gn.newNoDocument(c,Ie.min()))}else We(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Qr(s).toUint8Array()}catch(m){if(m instanceof Lx)return dl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new jy(c,a,l)}catch(m){return dl(m instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Ag(d.target)){const m=new Ee(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,gn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=He();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Ed(e,n,this.Ye,this.je,s);return this.je=Ws(),this.Je=uf(),this.He=uf(),this.Ye=new Tt(Fe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new SE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Yt(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Yt(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new SE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uf(){return new Tt(Ee.comparator)}function xE(){return new Tt(Ee.comparator)}const DP={asc:"ASCENDING",desc:"DESCENDING"},MP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VP={and:"AND",or:"OR"};class OP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cg(t,e){return t.useProto3Json||pd(e)?e:{value:e}}function Yf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PP(t,e){return Yf(t,e.toTimestamp())}function cs(t){return We(!!t,49232),Ie.fromTimestamp((function(n){const s=$r(n);return new ft(s.seconds,s.nanos)})(t))}function Uy(t,e){return Ig(t,e).canonicalString()}function Ig(t,e){const n=(function(a){return new ht(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function dA(t){const e=ht.fromString(t);return We(vA(e),10190,{key:e.toString()}),e}function Ng(t,e){return Uy(t.databaseId,e.path)}function Gp(t,e){const n=dA(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(pA(n))}function mA(t,e){return Uy(t.databaseId,e)}function kP(t){const e=dA(t);return e.length===4?ht.emptyPath():pA(e)}function Dg(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pA(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AE(t,e,n){return{name:Ng(t,e),fields:n.value.mapValue.fields}}function LP(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(We(y===void 0||typeof y=="string",58123),cn.fromBase64String(y||"")):(We(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?se.UNKNOWN:uA(p.code);return new ve(y,p.message||"")})(c);n=new hA(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Gp(t,s.document.name),l=cs(s.document.updateTime),c=s.document.createTime?cs(s.document.createTime):Ie.min(),d=new Pn({mapValue:{fields:s.document.fields}}),m=gn.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new xf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Gp(t,s.document),l=s.readTime?cs(s.readTime):Ie.min(),c=gn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new xf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Gp(t,s.document),l=s.removedTargetIds||[];n=new xf([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new AP(a,l),d=s.targetId;n=new cA(d,c)}}return n}function jP(t,e){let n;if(e instanceof Ac)n={update:AE(t,e.key,e.value)};else if(e instanceof ky)n={delete:Ng(t,e.key)};else if(e instanceof ia)n={update:AE(t,e.key,e.data),updateMask:YP(e.fieldMask)};else{if(!(e instanceof wP))return xe(16599,{Vt:e.type});n={verify:Ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Gf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof cc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof hc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Kf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw xe(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:PP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(t,e.precondition)),n}function UP(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?cs(a.updateTime):cs(l);return c.isEqual(Ie.min())&&(c=cs(l)),new bP(c,a.transformResults||[])})(n,e)))):[]}function BP(t,e){return{documents:[mA(t,e.path)]}}function zP(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mA(t,a);const l=(function(p){if(p.length!==0)return yA(gs.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(w){return{field:Zo(w.field),direction:qP(w.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Cg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function FP(t){let e=kP(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){We(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const w=gA(_);return w instanceof gs&&Yx(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((w=>(function(O){return new qf(Jo(O.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let w;return w=typeof _=="object"?_.value:_,pd(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(_){const w=!!_.before,R=_.values||[];return new Hf(R,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const w=!_.before,R=_.values||[];return new Hf(R,w)})(n.endAt)),aP(e,a,c,l,d,"F",m,p)}function HP(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Jo(n.unaryFilter.field);return Kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Jo(n.unaryFilter.field);return Kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Jo(n.unaryFilter.field);return Kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Jo(n.unaryFilter.field);return Kt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Kt.create(Jo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return gs.create(n.compositeFilter.filters.map((s=>gA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function qP(t){return DP[t]}function GP(t){return MP[t]}function KP(t){return VP[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function Jo(t){return un.fromServerFormat(t.fieldPath)}function yA(t){return t instanceof Kt?(function(n){if(n.op==="=="){if(dE(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(fE(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dE(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(fE(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:GP(n.op),value:n.value}}})(t):t instanceof gs?(function(n){const s=n.getFilters().map((a=>yA(a)));return s.length===1?s[0]:{compositeFilter:{op:KP(n.op),filters:s}}})(t):xe(54877,{filter:t})}function YP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function vA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,a,l=Ie.min(),c=Ie.min(),d=cn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.yt=e}}function QP(t){const e=FP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.Cn=new WP}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Yr.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class WP{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Yt(ht.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Yt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_A=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(_A,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yl(0)}static cr(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="LruGarbageCollector",ZP=1048576;function IE([t,e],[n,s]){const a=Fe(t,n);return a===0?Fe(e,s):a}class JP{constructor(e){this.Ir=e,this.buffer=new Yt(IE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();IE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ek{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(CE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rl(n)?me(CE,"Ignoring IndexedDB error during garbage collection: ",n):await Al(n)}await this.Vr(3e5)}))}}class tk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(md.ce);const s=new JP(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(RE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(p=Date.now(),Xo()<=ze.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function nk(t,e){return new tk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.changes=new Za((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Xu(s.mutation,a,$n.empty(),ft.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=He()){const a=ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=zu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=ka();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,He())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,a){let l=Ws();const c=Qu(),d=(function(){return Qu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ia)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Xu(y.mutation,p,y.mutation.getFieldMask(),ft.now())):c.set(p.key,$n.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new sk(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=Qu();let a=new Tt(((c,d)=>c-d)),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||$n.empty();y=d.applyToLocalView(p,y),s.set(m,y);const _=(a.get(d.batchId)||He()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=tA();y.forEach((w=>{if(!l.has(w)){const R=oA(n.get(w),s.get(w));R!==null&&_.set(w,R),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ie.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ie.resolve(ka());let d=ac,m=l;return c.next((p=>ie.forEach(p,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{m=m.insert(y,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,He()))).next((y=>({batchId:d,changes:eA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((s=>{let a=zu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=zu();return this.indexManager.getCollectionParents(e,l).next((d=>ie.forEach(d,(m=>{const p=(function(_,w){return new yd(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((_,w)=>{c=c.insert(_,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,gn.newInvalidDocument(y)))}));let d=zu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Xu(y.mutation,p,$n.empty(),ft.now()),_d(n,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:cs(a.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:QP(a.bundledQuery),readTime:cs(a.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.overlays=new Tt(Ee.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ka();return ie.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const a=ka(),l=n.length+1,c=new Ee(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Tt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=ka(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ka(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return ie.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new xP(n,s));let l=this.qr.get(n);l===void 0&&(l=He(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.Qr=new Yt(Wt.$r),this.Ur=new Yt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Wt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ee(new ht([])),s=new Wt(n,e),a=new Wt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new ht([])),s=new Wt(n,e),a=new Wt(n,e+1);let l=He();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Wt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(Wt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new SP(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Wt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Iy:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Wt(n,0),a=new Wt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Yt(Fe);return n.forEach((a=>{const l=new Wt(a,0),c=new Wt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ee.isDocumentKey(l)||(l=l.child(""));const c=new Wt(new Ee(l),0);let d=new Yt(Fe);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),c),ie.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(a=>{const l=new Wt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Wt(n,0),a=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.ri=e,this.docs=(function(){return new Tt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let s=Ws();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():gn.newInvalidDocument(a))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ws();const c=n.path,d=new Ee(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||jO(LO(y),s)<=0||(a.has(y.key)||_d(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,s,a){xe(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new hk(this)}getSize(e){return ie.resolve(this.size)}}class hk extends ik{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.persistence=e,this.si=new Za((n=>My(n)),Vy),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new By,this.targetCount=0,this.ai=yl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n){this.ui={},this.overlays={},this.ci=new md(0),this.li=!1,this.li=!0,this.hi=new lk,this.referenceDelegate=e(this),this.Pi=new fk(this),this.indexManager=new XP,this.remoteDocumentCache=(function(a){return new ck(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new $P(n),this.Ii=new ak(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ok,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new uk(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new dk(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class dk extends BO{constructor(e){super(),this.currentSequenceNumber=e}}class zy{constructor(e){this.persistence=e,this.Ri=new By,this.Vi=null}static mi(e){return new zy(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const a=Ee.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $f{constructor(e,n){this.persistence=e,this.pi=new Za((s=>HO(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=nk(this,n)}static mi(e,n){return new $f(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ie.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,l.removeEntry(c,Ie.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ef(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ie.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=He(),a=He();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Fy(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KN()?8:zO(vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new mk;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Xo()<=ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Xo()<=ze.DEBUG&&me("QueryEngine","Query:",Wo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Xo()<=ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,us(n))):ie.resolve())}ys(e,n){if(yE(n))return ie.resolve(null);let s=us(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Rg(n,null,"F"),s=us(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=He(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,d);return this.Cs(n,p,c,m.readTime)?this.ys(e,Rg(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return yE(n)||a.isEqual(Ie.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?ie.resolve(null):(Xo()<=ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Wo(n)),this.vs(e,c,n,kO(a,ac)).next((d=>d)))}))}Ds(e,n){let s=new Yt(Zx(e));return n.forEach(((a,l)=>{_d(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Xo()<=ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.ps.getDocumentsMatchingQuery(e,n,Yr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="LocalStore",gk=3e8;class yk{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Tt(Fe),this.xs=new Za((l=>My(l)),Vy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function vk(t,e,n,s){return new yk(t,e,n,s)}async function TA(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=He();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function _k(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const _=p.batch,w=_.keys();let R=ie.resolve();return w.forEach((O=>{R=R.next((()=>y.getEntry(m,O))).next((z=>{const N=p.docVersions.get(O);We(N!==null,48541),z.version.compareTo(N)<0&&(_.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),y.addEntry(z)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=He();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function EA(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function bk(t,e){const n=De(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((y,_)=>{const w=a.get(_);if(!w)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let R=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(cn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(_,R),(function(z,N,U){return z.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=gk?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(w,R,y)&&d.push(n.Pi.updateTargetData(l,R))}));let m=Ws(),p=He();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(Tk(l,c,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(Ie.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return ie.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function Tk(t,e,n){let s=He(),a=He();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Ws();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):me(Hy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function Ek(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Iy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function wk(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ie.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Br(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Mg(t,e,n){const s=De(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Rl(c))throw c;me(Hy,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function NE(t,e,n){const s=De(t);let a=Ie.min(),l=He();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=De(m),w=_.xs.get(y);return w!==void 0?ie.resolve(_.Ms.get(w)):_.Pi.getTargetData(p,y)})(s,c,us(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ie.min(),n?l:He()))).next((d=>(Sk(s,uP(e),d),{documents:d,Qs:l})))))}function Sk(t,e,n){let s=t.Os.get(e)||Ie.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class DE{constructor(){this.activeTargetIds=pP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xk{constructor(){this.Mo=new DE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new DE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="ConnectivityMonitor";class VE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(ME,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(ME,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf=null;function Vg(){return cf===null?cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():cf++,"0x"+cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="RestConnection",Rk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ck{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===zf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=Vg(),d=this.zo(e,n.toUriEncodedString());me(Kp,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),y=Qa(p);return this.Jo(e,d,m,s,y).then((_=>(me(Kp,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw dl(Kp,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=Rk[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class Nk extends Ck{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=Vg();return new Promise(((d,m)=>{const p=new Ax;p.setWithCredentials(!0),p.listenOnce(Rx.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Tf.NO_ERROR:const _=p.getResponseJson();me(mn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case Tf.TIMEOUT:me(mn,`RPC '${e}' ${c} timed out`),m(new ve(se.DEADLINE_EXCEEDED,"Request time out"));break;case Tf.HTTP_ERROR:const w=p.getStatus();if(me(mn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R?.error;if(O&&O.status&&O.message){const z=(function(U){const H=U.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(H)>=0?H:se.UNKNOWN})(O.status);m(new ve(z,O.message))}else m(new ve(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ve(se.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(mn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);me(mn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Vg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Nx(),d=Ix(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");me(mn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let w=!1,R=!1;const O=new Ik({Yo:N=>{R?me(mn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(w||(me(mn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),w=!0),me(mn,`RPC '${e}' stream ${a} sending:`,N),_.send(N))},Zo:()=>_.close()}),z=(N,U,H)=>{N.listen(U,(K=>{try{H(K)}catch(le){setTimeout((()=>{throw le}),0)}}))};return z(_,Bu.EventType.OPEN,(()=>{R||(me(mn,`RPC '${e}' stream ${a} transport opened.`),O.o_())})),z(_,Bu.EventType.CLOSE,(()=>{R||(R=!0,me(mn,`RPC '${e}' stream ${a} transport closed`),O.a_(),this.E_(_))})),z(_,Bu.EventType.ERROR,(N=>{R||(R=!0,dl(mn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),O.a_(new ve(se.UNAVAILABLE,"The operation could not be completed")))})),z(_,Bu.EventType.MESSAGE,(N=>{if(!R){const U=N.data[0];We(!!U,16349);const H=U,K=H?.error||H[0]?.error;if(K){me(mn,`RPC '${e}' stream ${a} received error:`,K);const le=K.status;let ae=(function(A){const C=Ut[A];if(C!==void 0)return uA(C)})(le),ce=K.message;ae===void 0&&(ae=se.INTERNAL,ce="Unknown error status: "+le+" with message "+K.message),R=!0,O.a_(new ve(ae,ce)),_.close()}else me(mn,`RPC '${e}' stream ${a} received:`,U),O.u_(U)}})),z(d,Cx.STAT_EVENT,(N=>{N.stat===Tg.PROXY?me(mn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===Tg.NOPROXY&&me(mn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t){return new OP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="PersistentStream";class SA{constructor(e,n,s,a,l,c,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Xs(n.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ve(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(OE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(OE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Dk extends SA{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LP(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?cs(c.readTime):Ie.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Dg(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Ag(m)?{documents:BP(l,m)}:{query:zP(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=fA(l,c.resumeToken);const p=Cg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Yf(l,c.snapshotVersion.toTimestamp());const p=Cg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const s=HP(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Dg(this.serializer),n.removeTarget=e,this.q_(n)}}class Mk extends SA{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=UP(e.writeResults,e.commitTime),s=cs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Dg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>jP(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{}class Ok extends Vk{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Ig(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(se.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Ig(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Pk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xs(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="RemoteStore";class kk{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ja(this)&&(me(Ya,"Restarting streams for network reachability change."),await(async function(m){const p=De(m);p.Ea.add(4),await Cc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Sd(p)})(this))}))})),this.Ra=new Pk(s,a)}}async function Sd(t){if(Ja(t))for(const e of t.da)await e(!0)}async function Cc(t){for(const e of t.da)await e(!1)}function xA(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yy(n)?Ky(n):Cl(n).O_()&&Gy(n,e))}function qy(t,e){const n=De(t),s=Cl(n);n.Ia.delete(e),s.O_()&&AA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ja(n)&&n.Ra.set("Unknown"))}function Gy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(t).Y_(e)}function AA(t,e){t.Va.Ue(e),Cl(t).Z_(e)}function Ky(t){t.Va=new NP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Cl(t).start(),t.Ra.ua()}function Yy(t){return Ja(t)&&!Cl(t).x_()&&t.Ia.size>0}function Ja(t){return De(t).Ea.size===0}function RA(t){t.Va=void 0}async function Lk(t){t.Ra.set("Online")}async function jk(t){t.Ia.forEach(((e,n)=>{Gy(t,e)}))}async function Uk(t,e){RA(t),Yy(t)?(t.Ra.ha(e),Ky(t)):t.Ra.set("Unknown")}async function Bk(t,e,n){if(t.Ra.set("Online"),e instanceof hA&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){me(Ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qf(t,s)}else if(e instanceof xf?t.Va.Ze(e):e instanceof cA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const s=await EA(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),AA(l,m);const _=new Br(y.target,m,p,y.sequenceNumber);Gy(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){me(Ya,"Failed to raise snapshot:",s),await Qf(t,s)}}async function Qf(t,e,n){if(!Rl(e))throw e;t.Ea.add(1),await Cc(t),t.Ra.set("Offline"),n||(n=()=>EA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(Ya,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sd(t)}))}function CA(t,e){return e().catch((n=>Qf(t,n,e)))}async function xd(t){const e=De(t),n=Wr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Iy;for(;zk(e);)try{const a=await Ek(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,Fk(e,a)}catch(a){await Qf(e,a)}IA(e)&&NA(e)}function zk(t){return Ja(t)&&t.Ta.length<10}function Fk(t,e){t.Ta.push(e);const n=Wr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function IA(t){return Ja(t)&&!Wr(t).x_()&&t.Ta.length>0}function NA(t){Wr(t).start()}async function Hk(t){Wr(t).ra()}async function qk(t){const e=Wr(t);for(const n of t.Ta)e.ea(n.mutations)}async function Gk(t,e,n){const s=t.Ta.shift(),a=Ly.from(s,e,n);await CA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await xd(t)}async function Kk(t,e){e&&Wr(t).X_&&await(async function(s,a){if((function(c){return RP(c)&&c!==se.ABORTED})(a.code)){const l=s.Ta.shift();Wr(s).B_(),await CA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await xd(s)}})(t,e),IA(t)&&NA(t)}async function PE(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),me(Ya,"RemoteStore received new credentials");const s=Ja(n);n.Ea.add(3),await Cc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sd(n)}async function Yk(t,e){const n=De(t);e?(n.Ea.delete(2),await Sd(n)):e||(n.Ea.add(2),await Cc(n),n.Ra.set("Unknown"))}function Cl(t){return t.ma||(t.ma=(function(n,s,a){const l=De(n);return l.sa(),new Dk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Lk.bind(null,t),t_:jk.bind(null,t),r_:Uk.bind(null,t),H_:Bk.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Yy(t)?Ky(t):t.Ra.set("Unknown")):(await t.ma.stop(),RA(t))}))),t.ma}function Wr(t){return t.fa||(t.fa=(function(n,s,a){const l=De(n);return l.sa(),new Mk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Hk.bind(null,t),r_:Kk.bind(null,t),ta:qk.bind(null,t),na:Gk.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await xd(t)):(await t.fa.stop(),t.Ta.length>0&&(me(Ya,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new $y(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qy(t,e){if(Xs("AsyncQueue",`${e}: ${t}`),Rl(t))return new ve(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=zu(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ul;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.ga=new Tt(Ee.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class vl{constructor(e,n,s,a,l,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new vl(e,n,ul.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Qk{constructor(){this.queries=LE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=De(n),l=a.queries;a.queries=LE(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new ve(se.ABORTED,"Firestore shutting down"))}}function LE(){return new Za((t=>Wx(t)),vd)}async function DA(t,e){const n=De(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new $k,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Qy(c,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Xy(n)}async function MA(t,e){const n=De(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Xk(t,e){const n=De(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&Xy(n)}function Wk(t,e,n){const s=De(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function Xy(t){t.Ca.forEach((e=>{e.next()}))}var Og,jE;(jE=Og||(Og={})).Ma="default",jE.Cache="cache";class VA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new vl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.key=e}}class PA{constructor(e){this.key=e}}class Zk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=Zx(e),this.tu=new ul(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new kE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const w=a.get(y),R=_d(this.query,_)?_:null,O=!!w&&this.mutatedKeys.has(w.key),z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let N=!1;w&&R?w.data.isEqual(R.data)?O!==z&&(s.track({type:3,doc:R}),N=!0):this.su(w,R)||(s.track({type:2,doc:R}),N=!0,(m&&this.eu(R,m)>0||p&&this.eu(R,p)<0)&&(d=!0)):!w&&R?(s.track({type:0,doc:R}),N=!0):w&&!R&&(s.track({type:1,doc:w}),N=!0,(m||p)&&(d=!0)),N&&(R?(c=c.add(R),l=z?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,_)=>(function(R,O){const z=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:N})}};return z(R)-z(O)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new vl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new PA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new OA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wy="SyncEngine";class Jk{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class e4{constructor(e){this.key=e,this.hu=!1}}class t4{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Za((d=>Wx(d)),vd),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(Ee.comparator),this.Au=new Map,this.Ru=new By,this.Vu={},this.mu=new Map,this.fu=yl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n4(t,e,n=!0){const s=zA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await kA(s,e,n,!0),a}async function i4(t,e){const n=zA(t);await kA(n,e,!0,!1)}async function kA(t,e,n,s){const a=await wk(t.localStore,us(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await s4(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&xA(t.remoteStore,a),d}async function s4(t,e,n,s,a){t.pu=(_,w,R)=>(async function(z,N,U,H){let K=N.view.ru(U);K.Cs&&(K=await NE(z.localStore,N.query,!1).then((({documents:I})=>N.view.ru(I,K))));const le=H&&H.targetChanges.get(N.targetId),ae=H&&H.targetMismatches.get(N.targetId)!=null,ce=N.view.applyChanges(K,z.isPrimaryClient,le,ae);return BE(z,N.targetId,ce.au),ce.snapshot})(t,_,w,R);const l=await NE(t.localStore,e,!0),c=new Zk(e,l.Qs),d=c.ru(l.documents),m=Rc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,m);BE(t,n,p.au);const y=new Jk(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function r4(t,e,n){const s=De(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!vd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Mg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&qy(s.remoteStore,a.targetId),Pg(s,a.targetId)})).catch(Al)):(Pg(s,a.targetId),await Mg(s.localStore,a.targetId,!0))}async function a4(t,e){const n=De(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),qy(n.remoteStore,s.targetId))}async function o4(t,e,n){const s=m4(t);try{const a=await(function(c,d){const m=De(c),p=ft.now(),y=d.reduce(((R,O)=>R.add(O.key)),He());let _,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let O=Ws(),z=He();return m.Ns.getEntries(R,y).next((N=>{O=N,O.forEach(((U,H)=>{H.isValidDocument()||(z=z.add(U))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,O))).next((N=>{_=N;const U=[];for(const H of d){const K=EP(H,_.get(H.key).overlayedDocument);K!=null&&U.push(new ia(H.key,K,qx(K.value.mapValue),bi.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,U,d)})).next((N=>{w=N;const U=N.applyToLocalDocumentSet(_,z);return m.documentOverlayCache.saveOverlays(R,N.batchId,U)}))})).then((()=>({batchId:w.batchId,changes:eA(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new Tt(Fe)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Ic(s,a.changes),await xd(s.remoteStore)}catch(a){const l=Qy(a,"Failed to persist write");n.reject(l)}}async function LA(t,e){const n=De(t);try{const s=await bk(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?We(c.hu,14607):a.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))})),await Ic(n,s,e)}catch(s){await Al(s)}}function UE(t,e,n){const s=De(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=De(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,_)=>{for(const w of _.Sa)w.va(d)&&(p=!0)})),p&&Xy(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function l4(t,e,n){const s=De(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new Tt(Ee.comparator);c=c.insert(l,gn.newNoDocument(l,Ie.min()));const d=He().add(l),m=new Ed(Ie.min(),new Map,new Tt(Fe),c,d);await LA(s,m),s.du=s.du.remove(l),s.Au.delete(e),Zy(s)}else await Mg(s.localStore,e,!1).then((()=>Pg(s,e,n))).catch(Al)}async function u4(t,e){const n=De(t),s=e.batch.batchId;try{const a=await _k(n.localStore,e);UA(n,s,null),jA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ic(n,a)}catch(a){await Al(a)}}async function c4(t,e,n){const s=De(t);try{const a=await(function(c,d){const m=De(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((_=>(We(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);UA(s,e,n),jA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ic(s,a)}catch(a){await Al(a)}}function jA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function UA(t,e,n){const s=De(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Pg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||BA(t,s)}))}function BA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Zy(t))}function BE(t,e,n){for(const s of n)s instanceof OA?(t.Ru.addReference(s.key,e),h4(t,s)):s instanceof PA?(me(Wy,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||BA(t,s.key)):xe(19791,{wu:s})}function h4(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(me(Wy,"New document in limbo: "+n),t.Eu.add(s),Zy(t))}function Zy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ee(ht.fromString(e)),s=t.fu.next();t.Au.set(s,new e4(n)),t.du=t.du.insert(n,s),xA(t.remoteStore,new Br(us(Oy(n.path)),s,"TargetPurposeLimboResolution",md.ce))}}async function Ic(t,e,n){const s=De(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Fy.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const y=De(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ie.forEach(p,(w=>ie.forEach(w.Es,(R=>y.persistence.referenceDelegate.addReference(_,w.targetId,R))).next((()=>ie.forEach(w.ds,(R=>y.persistence.referenceDelegate.removeReference(_,w.targetId,R)))))))))}catch(_){if(!Rl(_))throw _;me(Hy,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const R=y.Ms.get(w),O=R.snapshotVersion,z=R.withLastLimboFreeSnapshotVersion(O);y.Ms=y.Ms.insert(w,z)}}})(s.localStore,l))}async function f4(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){me(Wy,"User change. New user:",e.toKey());const s=await TA(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ve(se.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ic(n,s.Ls)}}function d4(t,e){const n=De(t),s=n.Au.get(e);if(s&&s.hu)return He().add(s.key);{let a=He();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function zA(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l4.bind(null,e),e.Pu.H_=Xk.bind(null,e.eventManager),e.Pu.yu=Wk.bind(null,e.eventManager),e}function m4(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c4.bind(null,e),e}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vk(this.persistence,new pk,e.initialUser,this.serializer)}Cu(e){return new bA(zy.mi,this.serializer)}Du(e){return new xk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class p4 extends Xf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof $f,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ek(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new bA((s=>$f.mi(s,n)),this.serializer)}}class kg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>UE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=f4.bind(null,this.syncEngine),await Yk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Qk})()}createDatastore(e){const n=wd(e.databaseInfo.databaseId),s=(function(l){return new Nk(l)})(e.databaseInfo);return(function(l,c,d,m){return new Ok(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,d){return new kk(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>UE(this.syncEngine,n,0)),(function(){return VE.v()?new VE:new Ak})())}createSyncEngine(e,n){return(function(a,l,c,d,m,p,y){const _=new t4(a,l,c,d,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=De(n);me(Ya,"RemoteStore shutting down."),s.Ea.add(5),await Cc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kg.provider={build:()=>new kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class g4{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=Ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{me(Zr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(me(Zr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Qy(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function $p(t,e){t.asyncQueue.verifyOperationInProgress(),me(Zr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await TA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function zE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y4(t);me(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>PE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>PE(e.remoteStore,a))),t._onlineComponents=e}async function y4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Zr,"Using user provided OfflineComponentProvider");try{await $p(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;dl("Error using user provided cache. Falling back to memory cache: "+n),await $p(t,new Xf)}}else me(Zr,"Using default OfflineComponentProvider"),await $p(t,new p4(void 0));return t._offlineComponents}async function HA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Zr,"Using user provided OnlineComponentProvider"),await zE(t,t._uninitializedComponentsProvider._online)):(me(Zr,"Using default OnlineComponentProvider"),await zE(t,new kg))),t._onlineComponents}function v4(t){return HA(t).then((e=>e.syncEngine))}async function qA(t){const e=await HA(t),n=e.eventManager;return n.onListen=n4.bind(null,e.syncEngine),n.onUnlisten=r4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a4.bind(null,e.syncEngine),n}function _4(t,e,n={}){const s=new Ks;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new FA({next:w=>{y.Nu(),c.enqueueAndForget((()=>MA(l,_)));const R=w.docs.has(d);!R&&w.fromCache?p.reject(new ve(se.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&w.fromCache&&m&&m.source==="server"?p.reject(new ve(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new VA(Oy(d.path),y,{includeMetadataChanges:!0,qa:!0});return DA(l,_)})(await qA(t),t.asyncQueue,e,n,s))),s.promise}function b4(t,e,n={}){const s=new Ks;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new FA({next:w=>{y.Nu(),c.enqueueAndForget((()=>MA(l,_))),w.fromCache&&m.source==="server"?p.reject(new ve(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new VA(d,y,{includeMetadataChanges:!0,qa:!0});return DA(l,_)})(await qA(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firestore.googleapis.com",HE=!0;class qE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KA,this.ssl=HE}else this.host=e.host,this.ssl=e.ssl??HE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_A;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZP)throw new ve(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new xO;switch(s.type){case"firstParty":return new IO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=FE.get(n);s&&(me("ComponentProvider","Removing Datastore"),FE.delete(n),s.terminate())})(this),Promise.resolve()}}function T4(t,e,n,s={}){t=Li(t,Ad);const a=Qa(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(dy(`https://${d}`),my("Firestore",!0)),l.host!==KA&&l.host!==d&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Ha(m,c)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=pn.MOCK_USER;else{p=US(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ve(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new pn(_)}t._authCredentials=new AO(new Mx(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rd(this.firestore,e,this._query)}}class Ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(xc(n,Ft._jsonSchema))return new Ft(e,s||null,new Ee(ht.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:zt("string",Ft._jsonSchemaVersion),referencePath:zt("string")};class Gr extends Rd{constructor(e,n,s){super(e,n,Oy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Ee(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function Ui(t,e,...n){if(t=Zt(t),Vx("collection","path",e),t instanceof Ad){const s=ht.fromString(e,...n);return sE(s),new Gr(t,null,s)}{if(!(t instanceof Ft||t instanceof Gr))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ht.fromString(e,...n));return sE(s),new Gr(t.firestore,null,s)}}function hn(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=Ry.newId()),Vx("doc","path",e),t instanceof Ad){const s=ht.fromString(e,...n);return iE(s),new Ft(t,null,new Ee(s))}{if(!(t instanceof Ft||t instanceof Gr))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ht.fromString(e,...n));return iE(s),new Ft(t.firestore,t instanceof Gr?t.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="AsyncQueue";class KE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wA(this,"async_queue_retry"),this._c=()=>{const s=Yp();s&&me(GE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Yp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rl(e))throw e;me(GE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Xs("INTERNAL UNHANDLED ERROR: ",YE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=$y.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:YE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function YE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class eo extends Ad{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new KE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KE(e),this._firestoreClient=void 0,await e}}}function E4(t,e){const n=typeof t=="object"?t:yy(),s=typeof t=="string"?t:zf,a=ud(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=kS("firestore");l&&T4(a,...l)}return a}function Jy(t){if(t._terminated)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||w4(t),t._firestoreClient}function w4(t){const e=t._freezeSettings(),n=(function(a,l,c,d){return new KO(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,GA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new g4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(cn.fromBase64String(e))}catch(n){throw new ve(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vi(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xc(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:zt("string",vi._jsonSchemaVersion),bytes:zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(e){if(xc(e,hs._jsonSchema))return new hs(e.latitude,e.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:zt("string",hs._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xc(e,fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fs(e.vectorValues);throw new ve(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fs._jsonSchemaVersion="firestore/vectorValue/1.0",fs._jsonSchema={type:zt("string",fs._jsonSchemaVersion),vectorValues:zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=/^__.*__$/;class x4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}class YA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ia(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $A(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class tv{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($A(this.Ac)&&S4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class A4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||wd(e)}Cc(e,n,s,a=!1){return new tv({Ac:e,methodName:n,Dc:s,path:un.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nv(t){const e=t._freezeSettings(),n=wd(t._databaseId);return new A4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QA(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);iv("Data must be an object, but it was:",c,s);const d=XA(s,c);let m,p;if(l.merge)m=new $n(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const w=Lg(e,_,n);if(!c.contains(w))throw new ve(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ZA(y,w)||y.push(w)}m=new $n(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new x4(new Pn(d),m,p)}class Id extends ev{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Id}}function R4(t,e,n,s){const a=t.Cc(1,e,n);iv("Data must be an object, but it was:",a,s);const l=[],c=Pn.empty();na(s,((m,p)=>{const y=sv(e,m,n);p=Zt(p);const _=a.yc(y);if(p instanceof Id)l.push(y);else{const w=Nd(p,_);w!=null&&(l.push(y),c.set(y,w))}}));const d=new $n(l);return new YA(c,d,a.fieldTransforms)}function C4(t,e,n,s,a,l){const c=t.Cc(1,e,n),d=[Lg(e,s,n)],m=[a];if(l.length%2!=0)throw new ve(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Lg(e,l[w])),m.push(l[w+1]);const p=[],y=Pn.empty();for(let w=d.length-1;w>=0;--w)if(!ZA(p,d[w])){const R=d[w];let O=m[w];O=Zt(O);const z=c.yc(R);if(O instanceof Id)p.push(R);else{const N=Nd(O,z);N!=null&&(p.push(R),y.set(R,N))}}const _=new $n(p);return new YA(y,_,c.fieldTransforms)}function Nd(t,e){if(WA(t=Zt(t)))return iv("Unsupported field value:",e,t),XA(t,e);if(t instanceof ev)return(function(s,a){if(!$A(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=Nd(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=Zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gP(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ft.fromDate(s);return{timestampValue:Yf(a.serializer,l)}}if(s instanceof ft){const l=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yf(a.serializer,l)}}if(s instanceof hs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vi)return{bytesValue:fA(a.serializer,s._byteString)};if(s instanceof Ft){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Uy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof fs)return(function(c,d){return{mapValue:{fields:{[Fx]:{stringValue:Hx},[Ff]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Py(d.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Cy(s)}`)})(t,e)}function XA(t,e){const n={};return kx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(t,((s,a)=>{const l=Nd(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function WA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof hs||t instanceof vi||t instanceof Ft||t instanceof ev||t instanceof fs)}function iv(t,e,n){if(!WA(n)||!Ox(n)){const s=Cy(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Lg(t,e,n){if((e=Zt(e))instanceof Cd)return e._internalPath;if(typeof e=="string")return sv(t,e);throw Wf("Field path arguments must be of type string or ",t,!1,void 0,n)}const I4=new RegExp("[~\\*/\\[\\]]");function sv(t,e,n){if(e.search(I4)>=0)throw Wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cd(...e.split("."))._internalPath}catch{throw Wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wf(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ve(se.INVALID_ARGUMENT,d+t+m)}function ZA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(e1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N4 extends JA{data(){return super.data()}}function e1(t,e){return typeof e=="string"?sv(t,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M4{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return na(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Ff].arrayValue?.values?.map((s=>Mt(s.doubleValue)));return new fs(n)}convertGeoPoint(e){return new hs(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){const n=$r(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ht.fromString(e);We(vA(s),9688,{name:e});const a=new lc(s.get(1),s.get(3)),l=new Ee(s.popFirst(5));return a.isEqual(n)||Xs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ba extends JA{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(e1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ba._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ba._jsonSchema={type:zt("string",Ba._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Af extends Ba{data(e={}){return super.data(e)}}class cl{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Hu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Af(this._firestore,this._userDataWriter,s.key,s,new Hu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Af(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Af(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:V4(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function V4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){t=Li(t,Ft);const e=Li(t.firestore,eo);return _4(Jy(e),t._key).then((n=>O4(e,t,n)))}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:zt("string",cl._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class n1 extends M4{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function Il(t){t=Li(t,Rd);const e=Li(t.firestore,eo),n=Jy(e),s=new n1(e);return D4(t._query),b4(n,t._query).then((a=>new cl(e,s,t,a)))}function i1(t,e,n){t=Li(t,Ft);const s=Li(t.firestore,eo),a=t1(t.converter,e,n);return Dd(s,[QA(nv(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,bi.none())])}function Nl(t,e,n,...s){t=Li(t,Ft);const a=Li(t.firestore,eo),l=nv(a);let c;return c=typeof(e=Zt(e))=="string"||e instanceof Cd?C4(l,"updateDoc",t._key,e,n,s):R4(l,"updateDoc",t._key,e),Dd(a,[c.toMutation(t._key,bi.exists(!0))])}function Nc(t){return Dd(Li(t.firestore,eo),[new ky(t._key,bi.none())])}function Dc(t,e){const n=Li(t.firestore,eo),s=hn(t),a=t1(t.converter,e);return Dd(n,[QA(nv(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,bi.exists(!1))]).then((()=>s))}function Dd(t,e){return(function(s,a){const l=new Ks;return s.asyncQueue.enqueueAndForget((async()=>o4(await v4(s),a,l))),l.promise})(Jy(t),e)}function O4(t,e,n){const s=n.docs.get(e._key),a=new n1(t);return new Ba(t,a,e._key,s,new Hu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){xl=a})(Xa),qa(new Kr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new eo(new RO(s.getProvider("auth-internal")),new NO(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),as(JT,eE,e),as(JT,eE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebasestorage.googleapis.com",P4="storageBucket",k4=120*1e3,L4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends bs{constructor(e,n,s=0){super(Qp(e),`Firebase Storage: ${n} (${Qp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ts.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ys;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ys||(ys={}));function Qp(t){return"storage/"+t}function j4(){const t="An unknown error occurred, please check the error payload for server response.";return new Ts(ys.UNKNOWN,t)}function U4(){return new Ts(ys.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function B4(){return new Ts(ys.CANCELED,"User canceled the upload/download.")}function z4(t){return new Ts(ys.INVALID_URL,"Invalid URL '"+t+"'.")}function F4(t){return new Ts(ys.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $E(t){return new Ts(ys.INVALID_ARGUMENT,t)}function r1(){return new Ts(ys.APP_DELETED,"The Firebase app was deleted.")}function H4(t){return new Ts(ys.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Pi.makeFromUrl(e,n)}catch{return new Pi(e,"")}if(s.path==="")return s;throw F4(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(le){le.path_=decodeURIComponent(le.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${y}/b/${a}/o${w}`,"i"),O={bucket:1,path:3},z=n===s1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",U=new RegExp(`^https?://${z}/${a}/${N}`,"i"),K=[{regex:d,indices:m,postModify:l},{regex:R,indices:O,postModify:p},{regex:U,indices:{bucket:1,path:2},postModify:p}];for(let le=0;le<K.length;le++){const ae=K[le],ce=ae.regex.exec(e);if(ce){const I=ce[ae.indices.bucket];let A=ce[ae.indices.path];A||(A=""),s=new Pi(I,A),ae.postModify(s);break}}if(s==null)throw z4(e);return s}}class q4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t,e,n){let s=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let p=!1;function y(...N){p||(p=!0,e.apply(null,N))}function _(N){a=setTimeout(()=>{a=null,t(R,m())},N)}function w(){l&&clearTimeout(l)}function R(N,...U){if(p){w();return}if(N){w(),y.call(null,N,...U);return}if(m()||c){w(),y.call(null,N,...U);return}s<64&&(s*=2);let K;d===1?(d=2,K=0):K=(s+Math.random())*1e3,_(K)}let O=!1;function z(N){O||(O=!0,w(),!p&&(a!==null?(N||(d=2),clearTimeout(a),_(0)):N||(d=1)))}return _(0),l=setTimeout(()=>{c=!0,z(!0)},n),z}function K4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){return t!==void 0}function QE(t,e,n,s){if(s<e)throw $E(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw $E(`Invalid value for '${t}'. Expected ${n} or less.`)}function $4(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Zf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zf||(Zf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,s,a,l,c,d,m,p,y,_,w=!0,R=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=w,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,z)=>{this.resolve_=O,this.reject_=z,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new hf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Zf.NO_ERROR,m=l.getStatus();if(!d||Q4(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Zf.ABORT;s(!1,new hf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new hf(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());Y4(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=j4();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?r1():B4();c(m)}else{const m=U4();c(m)}};this.canceled_?n(!1,new hf(!1,null,!0)):this.backoffId_=G4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function W4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Z4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function J4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tL(t,e,n,s,a,l,c=!0,d=!1){const m=$4(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return J4(y,e),W4(y,n),Z4(y,l),eL(y,s),new X4(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function iL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this._service=e,n instanceof Pi?this._location=n:this._location=Pi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Jf(e,n)}get root(){const e=new Pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iL(this._location.path)}get storage(){return this._service}get parent(){const e=nL(this._location.path);if(e===null)return null;const n=new Pi(this._location.bucket,e);return new Jf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw H4(e)}}function XE(t,e){const n=e?.[P4];return n==null?null:Pi.makeFromBucketSpec(n,t)}function sL(t,e,n,s={}){t.host=`${e}:${n}`;const a=Qa(e);a&&(dy(`https://${t.host}/b`),my("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:US(l,t.app.options.projectId))}class rL{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=s1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k4,this._maxUploadRetryTime=L4,this._requests=new Set,a!=null?this._bucket=Pi.makeFromBucketSpec(a,this._host):this._bucket=XE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pi.makeFromBucketSpec(this._url,e):this._bucket=XE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){QE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){QE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jf(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new q4(r1());{const c=tL(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const WE="@firebase/storage",ZE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="storage";function aL(t=yy(),e){t=Zt(t);const s=ud(t,a1).getImmediate({identifier:e}),a=kS("storage");return a&&oL(s,...a),s}function oL(t,e,n,s={}){sL(t,e,n,s)}function lL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new rL(n,s,a,e,Xa)}function uL(){qa(new Kr(a1,lL,"PUBLIC").setMultipleInstances(!0)),as(WE,ZE,""),as(WE,ZE,"esm2020")}uL();const cL={apiKey:"AIzaSyBh_n_4YLe6w26_CbRR-1toZfv0nD3GlTU",authDomain:"church-website-25.firebaseapp.com",projectId:"church-website-25",storageBucket:"church-website-25.firebasestorage.app",messagingSenderId:"18049781291",appId:"1:18049781291:web:c93e8b2639b1fd9f0e246e"},av=FS(cL),jg=Sx(av),ot=E4(av);aL(av);const o1=async()=>{try{const t=hn(ot,"donationSettings","donationDetails"),e=await rv(t);return e.exists()?e.data():(console.log("No bank details found in Firestore!"),null)}catch(t){return console.error("Error fetching bank details:",t),null}},hL=async t=>{try{const e=hn(ot,"donationSettings","donationDetails");await Nl(e,t),console.log("Bank details updated successfully!")}catch(e){console.error("Error updating bank details:",e)}},fL=async()=>{try{const t=Ui(ot,"programs");return(await Il(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error fetching programs:",t),[]}},dL=async t=>{try{const e=Ui(ot,"programs"),n=await Dc(e,t);return console.log("Program added successfully!"),n.id}catch(e){throw console.error("Error adding program:",e),e}},mL=async(t,e)=>{try{const n=hn(ot,"programs",t);await Nl(n,e),console.log("Program updated successfully!")}catch(n){throw console.error("Error updating program:",n),n}},pL=async t=>{try{const e=hn(ot,"programs",t);await Nc(e),console.log("Program deleted successfully!")}catch(e){throw console.error("Error deleting program:",e),e}},l1=async()=>{try{const t=hn(ot,"liveSettings","youtubeLink"),e=await rv(t);return e.exists()?e.data().url:null}catch(t){return console.error("Error fetching YouTube link:",t),null}},gL=async t=>{try{const e=hn(ot,"liveSettings","youtubeLink");await i1(e,{url:t},{merge:!0}),console.log("YouTube link updated successfully!")}catch(e){console.error("Error updating YouTube link:",e)}},yL=async()=>{try{const t=Ui(ot,"contactMessages");return(await Il(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error fetching contact messages:",t),[]}},vL=async t=>{try{const e=Ui(ot,"contactMessages");await Dc(e,{...t,read:!1}),console.log("Contact message added successfully!")}catch(e){throw console.error("Error adding contact message:",e),e}},_L=async t=>{try{const e=hn(ot,"contactMessages",t);await Nl(e,{read:!0}),console.log("Message marked as read!")}catch(e){throw console.error("Error marking message as read:",e),e}},bL=async t=>{try{const e=hn(ot,"contactMessages",t);await Nc(e),console.log("Message deleted successfully!")}catch(e){throw console.error("Error deleting message:",e),e}},u1=async()=>{try{const t=Ui(ot,"resources","sermons","list"),n=(await Il(t)).docs.map(c=>({id:c.id,...c.data()})),s=hn(ot,"resources","sermons"),a=await rv(s),l=a.exists()?a.data().viewMoreUrl:"#";return{sermons:n,viewMoreUrl:l}}catch(t){return console.error("Error fetching sermons:",t),{sermons:[],viewMoreUrl:"#"}}},TL=async t=>{const e=Ui(ot,"resources","sermons","list");return(await Dc(e,t)).id},EL=async(t,e)=>{const n=hn(ot,"resources","sermons","list",t);await Nl(n,e)},wL=async t=>{const e=hn(ot,"resources","sermons","list",t);await Nc(e)},SL=async t=>{const e=hn(ot,"resources","sermons");await i1(e,{viewMoreUrl:t})},c1=async()=>{const t=Ui(ot,"resources","ebooks","free");return(await Il(t)).docs.map(n=>({id:n.id,...n.data()}))},xL=async t=>{const e=Ui(ot,"resources","ebooks","free");return(await Dc(e,t)).id},AL=async(t,e)=>{const n=hn(ot,"resources","ebooks","free",t);await Nl(n,e)},RL=async t=>{const e=hn(ot,"resources","ebooks","free",t);await Nc(e)},h1=async()=>{const t=Ui(ot,"resources","ebooks","premium");return(await Il(t)).docs.map(n=>({id:n.id,...n.data()}))},CL=async t=>{const e=Ui(ot,"resources","ebooks","premium");return(await Dc(e,t)).id},IL=async(t,e)=>{const n=hn(ot,"resources","ebooks","premium",t);await Nl(n,e)},NL=async t=>{const e=hn(ot,"resources","ebooks","premium",t);await Nc(e)},f1=({isOpen:t,onClose:e})=>{const[n,s]=V.useState({amount:"",email:"",description:""}),[a,l]=V.useState(null),[c,d]=V.useState(!0),[m,p]=V.useState(null);V.useEffect(()=>{(async()=>{const O=await o1();l(O),d(!1)})()},[]);const y=R=>{const{name:O,value:z}=R.target;s({...n,[O]:z})},_=R=>{if(R.preventDefault(),!n.amount||!n.email||!n.description){alert("Please fill in all fields before proceeding.");return}alert("Thank you for your donation!")},w=R=>{navigator.clipboard.writeText(R),p(R),setTimeout(()=>p(null),2e3)};return t?T.jsx("div",{className:"fixed inset-0 bg-black/60 flex justify-center items-center z-50 p-4",children:T.jsx("div",{className:"bg-white rounded-2xl shadow-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:T.jsxs("div",{className:"grid md:grid-cols-2",children:[T.jsxs("div",{className:"p-6 sm:p-8 md:p-10",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-green-800",children:"Make a Donation"}),T.jsx("button",{onClick:e,className:"text-gray-500 hover:text-red-600",children:T.jsx(DS,{size:22})})]}),T.jsxs("form",{className:"space-y-4",onSubmit:_,children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Enter Amount"}),T.jsx("input",{type:"number",name:"amount",placeholder:" Amount",required:!0,value:n.amount,onChange:y,className:"w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent transition"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Email Address"}),T.jsx("input",{type:"email",name:"email",placeholder:"you@example.com",required:!0,value:n.email,onChange:y,className:"w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent transition"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Description"}),T.jsxs("div",{className:"relative",children:[T.jsxs("select",{name:"description",required:!0,value:n.description,onChange:y,className:"w-full appearance-none px-4 py-2 rounded-md border border-gray-300 bg-white text-gray-700 focus:outline-none focus:border-green-600 focus:ring-1 focus:ring-green-600 transition cursor-pointer",children:[T.jsx("option",{value:"",children:"Select Donation Type"}),T.jsx("option",{value:"building",children:" Building Project"}),T.jsx("option",{value:"mission",children:" Mission Offerings"}),T.jsx("option",{value:"tithe",children:" Tithe, Offerings & Seeds"}),T.jsx("option",{value:"care",children:" Care Ministry"})]}),T.jsx("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-700 pointer-events-none",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),T.jsxs("div",{className:"flex flex-wrap gap-4 mt-6",children:[T.jsx("button",{type:"submit",className:"flex-1 px-6 py-2 rounded-full bg-green-700 text-white hover:bg-green-800 transition",children:"Pay Now"}),T.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-2 rounded-full border border-red-400 text-red-500 hover:bg-red-50 transition",children:"Close"})]})]})]}),T.jsxs("div",{className:"bg-green-50 p-6 sm:p-8 md:p-10 border-t md:border-t-0 md:border-l border-green-100 text-sm",children:[T.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"Bank Transfer Details"}),c?T.jsx("p",{className:"text-gray-500",children:"Loading bank details..."}):a?T.jsx("ul",{className:"space-y-4 text-gray-800",children:Object.entries(a).map(([R,O])=>T.jsxs("li",{children:[T.jsx("strong",{className:"capitalize",children:R==="tithe"?"Tithe, Offerings & Seeds":R==="mission"?"Mission Offerings":R==="building"?"Building Project":R==="care"?"Care Ministry":R}),T.jsx("br",{}),"Account Name: ",O?.accountName||"N/A"," ",T.jsx("br",{}),"Account Number:"," ",T.jsxs("span",{className:"inline-flex items-center gap-2",children:[O?.accountNumber||"N/A",O?.accountNumber&&T.jsx("button",{onClick:()=>w(O.accountNumber),type:"button",className:"text-green-700 hover:text-green-900 transition",children:T.jsx(hN,{size:16})}),m===O?.accountNumber&&T.jsx("span",{className:"text-xs text-green-600",children:"Copied!"})]}),T.jsx("br",{}),"Bank: ",O?.bank||"N/A"]},R))}):T.jsx("p",{className:"text-red-500",children:"Failed to load bank details."}),T.jsxs("p",{className:"text-xs text-gray-600 mt-6 leading-relaxed",children:["Kindly email the Finance Ministry (finance@church.org) with details of any transfer/deposit made. ",T.jsx("br",{}),"May God bless you as you give."]})]})]})})}):null},DL=()=>{const[t,e]=V.useState(!1),[n,s]=V.useState(!1),[a,l]=V.useState("home"),c=_s(),d=er();V.useEffect(()=>{d.pathname.includes("resources")?l("resources"):l("home")},[d.pathname]);const m=w=>{if(d.pathname!=="/")c("/"),setTimeout(()=>{const R=document.getElementById(w);R&&R.scrollIntoView({behavior:"smooth"})},500);else{const R=document.getElementById(w);R&&R.scrollIntoView({behavior:"smooth"})}l(w),e(!1)},p=()=>{d.pathname!=="/"&&c("/"),window.scrollTo({top:0,behavior:"smooth"}),l("home"),e(!1)},y=()=>{c("/resources"),window.scrollTo({top:0,behavior:"smooth"}),l("resources"),e(!1)},_=w=>`relative text-left text-green-800 hover:text-green-600 transition pb-1 inline-block w-fit ${a===w?"after:content-[''] after:absolute after:left-0 after:right-0 after:mx-auto after:bottom-0 after:h-[2px] after:bg-green-700 after:rounded-full after:w-11 sm:after:w-2/3 md:after:w-3/4":""}`;return T.jsxs(T.Fragment,{children:[T.jsxs("nav",{className:"fixed top-0 left-0 w-full bg-white/95 backdrop-blur-md shadow-md z-50",children:[T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex justify-between items-center h-16",children:[T.jsx("button",{onClick:p,className:"text-2xl font-semibold italic text-green-700",children:"Logo"}),T.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[T.jsx("button",{onClick:p,className:_("home"),children:"Home"}),T.jsx("button",{onClick:()=>m("about"),className:_("about"),children:"About"}),T.jsx("button",{onClick:()=>m("programs"),className:_("programs"),children:"Programs"}),T.jsx("button",{onClick:()=>m("departments"),className:_("departments"),children:"Departments"}),T.jsx("button",{onClick:()=>m("contact"),className:_("contact"),children:"Contact Us"}),T.jsx("button",{onClick:y,className:_("resources"),children:"Resources"}),T.jsx("button",{onClick:()=>s(!0),className:"px-4 py-2 rounded-md bg-green-700 text-white hover:bg-green-800 transition",children:"Donate"})]}),T.jsx("div",{className:"md:hidden",children:T.jsx("button",{onClick:()=>e(!t),className:"text-green-700",children:t?T.jsx(DS,{size:26}):T.jsx(TN,{size:26})})})]})}),T.jsx("div",{className:`md:hidden bg-white overflow-hidden transition-all duration-300 ease-in-out border-t border-green-100 ${t?"max-h-[600px] opacity-100":"max-h-0 opacity-0"}`,children:T.jsxs("div",{className:"flex flex-col px-6 py-4 space-y-4 text-left",children:[T.jsx("button",{onClick:p,className:_("home"),children:"Home"}),T.jsx("button",{onClick:()=>m("about"),className:_("about"),children:"About"}),T.jsx("button",{onClick:()=>m("programs"),className:_("programs"),children:"Programs"}),T.jsx("button",{onClick:()=>m("departments"),className:_("departments"),children:"Departments"}),T.jsx("button",{onClick:()=>m("contact"),className:_("contact"),children:"Contact Us"}),T.jsx("button",{onClick:y,className:_("resources"),children:"Resources"}),T.jsx("button",{onClick:()=>{s(!0),e(!1)},className:"w-full px-4 py-2 rounded-md bg-green-700 text-white text-center font-medium hover:bg-green-800 transition mt-2",children:"Donate"})]})})]}),T.jsx(f1,{isOpen:n,onClose:()=>s(!1)})]})};var Qo={},JE;function ML(){if(JE)return Qo;JE=1,Object.defineProperty(Qo,"__esModule",{value:!0});var t=mS(),e=rd(),n=function(){return n=Object.assign||function(m){for(var p,y=1,_=arguments.length;y<_;y++)for(var w in p=arguments[y])Object.prototype.hasOwnProperty.call(p,w)&&(m[w]=p[w]);return m},n.apply(this,arguments)};function s(m,p){var y,_;switch(p.type){case"TYPE":return n(n({},m),{speed:p.speed,text:(y=p.payload)===null||y===void 0?void 0:y.substring(0,m.text.length+1)});case"DELAY":return n(n({},m),{speed:p.payload});case"DELETE":return n(n({},m),{speed:p.speed,text:(_=p.payload)===null||_===void 0?void 0:_.substring(0,m.text.length-1)});case"COUNT":return n(n({},m),{count:m.count+1});default:return m}}var a=function(m){var p=m.words,y=p===void 0?["Hello World!","This is","a simple Typewriter"]:p,_=m.loop,w=_===void 0?1:_,R=m.typeSpeed,O=R===void 0?80:R,z=m.deleteSpeed,N=z===void 0?50:z,U=m.delaySpeed,H=U===void 0?1500:U,K=m.onLoopDone,le=m.onType,ae=m.onDelete,ce=m.onDelay,I=e.useReducer(s,{speed:O,text:"",count:0}),A=I[0],C=A.speed,k=A.text,P=A.count,B=I[1],D=e.useRef(0),je=e.useRef(!1),Ke=e.useRef(!1),Z=e.useRef(!1),re=e.useRef(!1),fe=e.useCallback((function(){var ye=P%y.length,Ce=y[ye];Ke.current?(B({type:"DELETE",payload:Ce,speed:N}),k===""&&(Ke.current=!1,B({type:"COUNT"}))):(B({type:"TYPE",payload:Ce,speed:O}),Z.current=!0,k===Ce&&(B({type:"DELAY",payload:H}),Z.current=!1,re.current=!0,setTimeout((function(){re.current=!1,Ke.current=!0}),H),w>0&&(D.current+=1,D.current/y.length===w&&(re.current=!1,je.current=!0)))),Z.current&&le&&le(D.current),Ke.current&&ae&&ae(),re.current&&ce&&ce()}),[P,H,N,w,O,y,k,le,ae,ce]);return e.useEffect((function(){var ye=setTimeout(fe,C);return je.current&&clearTimeout(ye),function(){return clearTimeout(ye)}}),[fe,C]),e.useEffect((function(){K&&je.current&&K()}),[K]),[k,{isType:Z.current,isDelay:re.current,isDelete:Ke.current,isDone:je.current}]},l="styles-module_blinkingCursor__yugAC",c="styles-module_blinking__9VXRT";(function(m,p){p===void 0&&(p={});var y=p.insertAt;if(typeof document<"u"){var _=document.head||document.getElementsByTagName("head")[0],w=document.createElement("style");w.type="text/css",y==="top"&&_.firstChild?_.insertBefore(w,_.firstChild):_.appendChild(w),w.styleSheet?w.styleSheet.cssText=m:w.appendChild(document.createTextNode(m))}})(".styles-module_blinkingCursor__yugAC{color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}.styles-module_blinking__9VXRT{animation-duration:.8s;animation-iteration-count:infinite;animation-name:styles-module_blink__rqfaf}@keyframes styles-module_blink__rqfaf{0%{opacity:1}to{opacity:0}}");var d=e.memo((function(m){var p=m.cursorBlinking,y=p===void 0||p,_=m.cursorStyle,w=_===void 0?"|":_,R=m.cursorColor,O=R===void 0?"inherit":R;return t.jsx("span",n({style:{color:O},className:"".concat(l," ").concat(y?c:"")},{children:w}))}));return Qo.Cursor=d,Qo.Typewriter=function(m){var p=m.words,y=p===void 0?["Hello World!","This is","a simple Typewriter"]:p,_=m.loop,w=_===void 0?1:_,R=m.typeSpeed,O=R===void 0?80:R,z=m.deleteSpeed,N=z===void 0?50:z,U=m.delaySpeed,H=U===void 0?1500:U,K=m.cursor,le=K!==void 0&&K,ae=m.cursorStyle,ce=ae===void 0?"|":ae,I=m.cursorColor,A=I===void 0?"inherit":I,C=m.cursorBlinking,k=C===void 0||C,P=m.onLoopDone,B=m.onType,D=m.onDelay,je=m.onDelete,Ke=a({words:y,loop:w,typeSpeed:O,deleteSpeed:N,delaySpeed:H,onLoopDone:P,onType:B,onDelay:D,onDelete:je})[0];return t.jsxs(t.Fragment,{children:[t.jsx("span",{children:Ke}),le&&t.jsx(d,{cursorStyle:ce,cursorColor:A,cursorBlinking:k})]})},Qo.useTypewriter=a,Qo}var VL=ML();const ew=["/church-website/heroimages/hero1.jpg","/church-website/heroimages/hero2.jpg","/church-website/heroimages/hero3.jpg","/church-website/heroimages/hero4.jpg","/church-website/heroimages/hero5.jpg"],OL=()=>{const[t,e]=V.useState(0),n=_s();V.useEffect(()=>{const l=setInterval(()=>{e(c=>(c+1)%ew.length)},7e3);return()=>clearInterval(l)},[]);const s=()=>{window.location.pathname!=="/live"?n("/live"):window.scrollTo({top:0,behavior:"smooth"})},a=()=>{const l=document.getElementById("contact");l?l.scrollIntoView({behavior:"smooth"}):(n("/church-website/"),setTimeout(()=>{document.getElementById("contact")?.scrollIntoView({behavior:"smooth"})},500))};return T.jsxs("section",{className:"relative h-screen w-full overflow-hidden",children:[ew.map((l,c)=>T.jsx("div",{className:`absolute inset-0 bg-cover bg-center transition-opacity duration-[2000ms] ease-in-out ${c===t?"opacity-100 scale-110":"opacity-0 scale-100"}`,style:{backgroundImage:`url(${l})`,transition:"opacity 2s ease-in-out, transform 10s ease-in-out"}},c)),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-green-900/40 via-black/50 to-black/70"}),T.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full text-center text-white px-4",children:[T.jsx("h1",{className:"text-4xl md:text-6xl font-semibold mb-6 leading-tight",children:T.jsx(VL.Typewriter,{words:["Faith that moves mountains","Faith that transforms lives","Faith that brings hope","Faith that inspires change","Faith that unites hearts"],loop:!0,cursor:!0,cursorStyle:"_",typeSpeed:70,deleteSpeed:50,delaySpeed:1500})}),T.jsx("p",{className:"max-w-2xl mx-auto mb-8 text-sm md:text-lg text-green-50",children:"We are a community of believers dedicated to sharing hope and love. Our mission is to serve God and our neighbors with compassion and purpose."}),T.jsxs("div",{className:"flex space-x-4",children:[T.jsx("button",{onClick:a,className:"bg-white text-green-800 px-6 py-2 rounded-full font-medium hover:bg-green-100 border border-green-200 transition",children:"Join us"}),T.jsx("button",{onClick:s,className:"bg-green-700 text-white px-6 py-2 rounded-full font-medium hover:bg-green-800 transition",children:"Watch live"})]})]}),T.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1/3 bg-gradient-to-t from-green-900/70 to-transparent"})]})},d1=V.createContext({});function PL(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const ov=typeof window<"u",kL=ov?V.useLayoutEffect:V.useEffect,lv=V.createContext(null);function uv(t,e){t.indexOf(e)===-1&&t.push(e)}function cv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zs=(t,e,n)=>n>e?e:n<t?t:n;let hv=()=>{};const Js={},m1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function p1(t){return typeof t=="object"&&t!==null}const g1=t=>/^0[^.\s]+$/u.test(t);function fv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ti=t=>t,LL=(t,e)=>n=>e(t(n)),Mc=(...t)=>t.reduce(LL),fc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class dv{constructor(){this.subscriptions=[]}add(e){return uv(this.subscriptions,e),()=>cv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ds=t=>t*1e3,_i=t=>t/1e3;function y1(t,e){return e?t*(1e3/e):0}const v1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jL=1e-7,UL=12;function BL(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=v1(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>jL&&++d<UL);return c}function Vc(t,e,n,s){if(t===e&&n===s)return Ti;const a=l=>BL(l,0,1,t,n);return l=>l===0||l===1?l:v1(a(l),e,s)}const _1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,b1=t=>e=>1-t(1-e),T1=Vc(.33,1.53,.69,.99),mv=b1(T1),E1=_1(mv),w1=t=>(t*=2)<1?.5*mv(t):.5*(2-Math.pow(2,-10*(t-1))),pv=t=>1-Math.sin(Math.acos(t)),S1=b1(pv),x1=_1(pv),zL=Vc(.42,0,1,1),FL=Vc(0,0,.58,1),A1=Vc(.42,0,.58,1),HL=t=>Array.isArray(t)&&typeof t[0]!="number",R1=t=>Array.isArray(t)&&typeof t[0]=="number",qL={linear:Ti,easeIn:zL,easeInOut:A1,easeOut:FL,circIn:pv,circInOut:x1,circOut:S1,backIn:mv,backInOut:E1,backOut:T1,anticipate:w1},GL=t=>typeof t=="string",tw=t=>{if(R1(t)){hv(t.length===4);const[e,n,s,a]=t;return Vc(e,n,s,a)}else if(GL(t))return qL[t];return t},ff=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function KL(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,_=!1,w=!1)=>{const O=w&&a?n:s;return _&&c.add(y),O.has(y)||O.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const YL=40;function C1(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=ff.reduce((K,le)=>(K[le]=KL(l),K),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:w,render:R,postRender:O}=c,z=()=>{const K=Js.useManualTiming?a.timestamp:performance.now();n=!1,Js.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(K-a.timestamp,YL),1)),a.timestamp=K,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),_.process(a),w.process(a),R.process(a),O.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(z))},N=()=>{n=!0,s=!0,a.isProcessing||t(z)};return{schedule:ff.reduce((K,le)=>{const ae=c[le];return K[le]=(ce,I=!1,A=!1)=>(n||N(),ae.schedule(ce,I,A)),K},{}),cancel:K=>{for(let le=0;le<ff.length;le++)c[ff[le]].cancel(K)},state:a,steps:c}}const{schedule:pt,cancel:Jr,state:on,steps:Xp}=C1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ti,!0);let Rf;function $L(){Rf=void 0}const kn={now:()=>(Rf===void 0&&kn.set(on.isProcessing||Js.useManualTiming?on.timestamp:performance.now()),Rf),set:t=>{Rf=t,queueMicrotask($L)}},I1=t=>e=>typeof e=="string"&&e.startsWith(t),gv=I1("--"),QL=I1("var(--"),yv=t=>QL(t)?XL.test(t.split("/*")[0].trim()):!1,XL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dc={...Dl,transform:t=>Zs(0,1,t)},df={...Dl,default:1},Wu=t=>Math.round(t*1e5)/1e5,vv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WL(t){return t==null}const ZL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_v=(t,e)=>n=>!!(typeof n=="string"&&ZL.test(n)&&n.startsWith(t)||e&&!WL(n)&&Object.prototype.hasOwnProperty.call(n,e)),N1=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(vv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},JL=t=>Zs(0,255,t),Wp={...Dl,transform:t=>Math.round(JL(t))},La={test:_v("rgb","red"),parse:N1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Wp.transform(t)+", "+Wp.transform(e)+", "+Wp.transform(n)+", "+Wu(dc.transform(s))+")"};function e3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Ug={test:_v("#"),parse:e3,transform:La.transform},Oc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pr=Oc("deg"),ms=Oc("%"),Ae=Oc("px"),t3=Oc("vh"),n3=Oc("vw"),nw={...ms,parse:t=>ms.parse(t)/100,transform:t=>ms.transform(t*100)},tl={test:_v("hsl","hue"),parse:N1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ms.transform(Wu(e))+", "+ms.transform(Wu(n))+", "+Wu(dc.transform(s))+")"},Bt={test:t=>La.test(t)||Ug.test(t)||tl.test(t),parse:t=>La.test(t)?La.parse(t):tl.test(t)?tl.parse(t):Ug.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?La.transform(t):tl.transform(t),getAnimatableNone:t=>{const e=Bt.parse(t);return e.alpha=0,Bt.transform(e)}},i3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function s3(t){return isNaN(t)&&typeof t=="string"&&(t.match(vv)?.length||0)+(t.match(i3)?.length||0)>0}const D1="number",M1="color",r3="var",a3="var(",iw="${}",o3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(o3,m=>(Bt.test(m)?(s.color.push(l),a.push(M1),n.push(Bt.parse(m))):m.startsWith(a3)?(s.var.push(l),a.push(r3),n.push(m)):(s.number.push(l),a.push(D1),n.push(parseFloat(m))),++l,iw)).split(iw);return{values:n,split:d,indexes:s,types:a}}function V1(t){return mc(t).values}function O1(t){const{split:e,types:n}=mc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===D1?l+=Wu(a[c]):d===M1?l+=Bt.transform(a[c]):l+=a[c]}return l}}const l3=t=>typeof t=="number"?0:Bt.test(t)?Bt.getAnimatableNone(t):t;function u3(t){const e=V1(t);return O1(t)(e.map(l3))}const ea={test:s3,parse:V1,createTransformer:O1,getAnimatableNone:u3};function Zp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function c3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=Zp(m,d,t+1/3),l=Zp(m,d,t),c=Zp(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function ed(t,e){return n=>n>0?e:t}const bt=(t,e,n)=>t+(e-t)*n,Jp=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},h3=[Ug,La,tl],f3=t=>h3.find(e=>e.test(t));function sw(t){const e=f3(t);if(!e)return!1;let n=e.parse(t);return e===tl&&(n=c3(n)),n}const rw=(t,e)=>{const n=sw(t),s=sw(e);if(!n||!s)return ed(t,e);const a={...n};return l=>(a.red=Jp(n.red,s.red,l),a.green=Jp(n.green,s.green,l),a.blue=Jp(n.blue,s.blue,l),a.alpha=bt(n.alpha,s.alpha,l),La.transform(a))},Bg=new Set(["none","hidden"]);function d3(t,e){return Bg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function m3(t,e){return n=>bt(t,e,n)}function bv(t){return typeof t=="number"?m3:typeof t=="string"?yv(t)?ed:Bt.test(t)?rw:y3:Array.isArray(t)?P1:typeof t=="object"?Bt.test(t)?rw:p3:ed}function P1(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>bv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function p3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=bv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function g3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const y3=(t,e)=>{const n=ea.createTransformer(e),s=mc(t),a=mc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Bg.has(t)&&!a.values.length||Bg.has(e)&&!s.values.length?d3(t,e):Mc(P1(g3(s,a),a.values),n):ed(t,e)};function k1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?bt(t,e,n):bv(t)(t,e)}const v3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>pt.update(e,n),stop:()=>Jr(e),now:()=>on.isProcessing?on.timestamp:kn.now()}},L1=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},td=2e4;function Tv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<td;)e+=n,s=t.next(e);return e>=td?1/0:e}function _3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Tv(s),td);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:_i(a)}}const b3=5;function j1(t,e,n){const s=Math.max(e-b3,0);return y1(n-t(s),e-s)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eg=.001;function T3({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:s=Rt.mass}){let a,l,c=1-e;c=Zs(Rt.minDamping,Rt.maxDamping,c),t=Zs(Rt.minDuration,Rt.maxDuration,_i(t)),c<1?(a=p=>{const y=p*c,_=y*t,w=y-n,R=zg(p,c),O=Math.exp(-_);return eg-w/R*O},l=p=>{const _=p*c*t,w=_*n+n,R=Math.pow(c,2)*Math.pow(p,2)*t,O=Math.exp(-_),z=zg(Math.pow(p,2),c);return(-a(p)+eg>0?-1:1)*((w-R)*O)/z}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-eg+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const d=5/t,m=w3(a,l,d);if(t=ds(t),isNaN(m))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const E3=12;function w3(t,e,n){let s=n;for(let a=1;a<E3;a++)s=s-t(s)/e(s);return s}function zg(t,e){return t*Math.sqrt(1-e*e)}const S3=["duration","bounce"],x3=["stiffness","damping","mass"];function aw(t,e){return e.some(n=>t[n]!==void 0)}function A3(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!aw(t,x3)&&aw(t,S3))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Zs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Rt.mass,stiffness:a,damping:l}}else{const n=T3(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function nd(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:w,isResolvedFromDuration:R}=A3({...n,velocity:-_i(n.velocity||0)}),O=w||0,z=p/(2*Math.sqrt(m*y)),N=c-l,U=_i(Math.sqrt(m/y)),H=Math.abs(N)<5;s||(s=H?Rt.restSpeed.granular:Rt.restSpeed.default),a||(a=H?Rt.restDelta.granular:Rt.restDelta.default);let K;if(z<1){const ae=zg(U,z);K=ce=>{const I=Math.exp(-z*U*ce);return c-I*((O+z*U*N)/ae*Math.sin(ae*ce)+N*Math.cos(ae*ce))}}else if(z===1)K=ae=>c-Math.exp(-U*ae)*(N+(O+U*N)*ae);else{const ae=U*Math.sqrt(z*z-1);K=ce=>{const I=Math.exp(-z*U*ce),A=Math.min(ae*ce,300);return c-I*((O+z*U*N)*Math.sinh(A)+ae*N*Math.cosh(A))/ae}}const le={calculatedDuration:R&&_||null,next:ae=>{const ce=K(ae);if(R)d.done=ae>=_;else{let I=ae===0?O:0;z<1&&(I=ae===0?ds(O):j1(K,ae,ce));const A=Math.abs(I)<=s,C=Math.abs(c-ce)<=a;d.done=A&&C}return d.value=d.done?c:ce,d},toString:()=>{const ae=Math.min(Tv(le),td),ce=L1(I=>le.next(ae*I).value,ae,30);return ae+"ms "+ce},toTransition:()=>{}};return le}nd.applyToOptions=t=>{const e=_3(t,100,nd);return t.ease=e.ease,t.duration=ds(e.duration),t.type="keyframes",t};function Fg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const _=t[0],w={done:!1,value:_},R=A=>d!==void 0&&A<d||m!==void 0&&A>m,O=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let z=n*e;const N=_+z,U=c===void 0?N:c(N);U!==N&&(z=U-_);const H=A=>-z*Math.exp(-A/s),K=A=>U+H(A),le=A=>{const C=H(A),k=K(A);w.done=Math.abs(C)<=p,w.value=w.done?U:k};let ae,ce;const I=A=>{R(w.value)&&(ae=A,ce=nd({keyframes:[w.value,O(w.value)],velocity:j1(K,A,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:A=>{let C=!1;return!ce&&ae===void 0&&(C=!0,le(A),I(A)),ae!==void 0&&A>=ae?ce.next(A-ae):(!C&&le(A),w)}}}function R3(t,e,n){const s=[],a=n||Js.mix||k1,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Ti:e;d=Mc(m,d)}s.push(d)}return s}function C3(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(hv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=R3(e,s,a),m=d.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const w=fc(t[_],t[_+1],y);return d[_](w)};return n?y=>p(Zs(t[0],t[l-1],y)):p}function I3(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=fc(0,e,s);t.push(bt(n,1,a))}}function N3(t){const e=[0];return I3(e,t.length-1),e}function D3(t,e){return t.map(n=>n*e)}function M3(t,e){return t.map(()=>e||A1).splice(0,t.length-1)}function Zu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=HL(s)?s.map(tw):tw(s),l={done:!1,value:e[0]},c=D3(n&&n.length===e.length?n:N3(e),t),d=C3(c,e,{ease:Array.isArray(a)?a:M3(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const V3=t=>t!==null;function Ev(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(V3),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const O3={decay:Fg,inertia:Fg,tween:Zu,keyframes:Zu,spring:nd};function U1(t){typeof t.type=="string"&&(t.type=O3[t.type])}class wv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const P3=t=>t/100;class Sv extends wv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==kn.now()&&this.tick(kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;U1(e);const{type:n=Zu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const m=n||Zu;m!==Zu&&typeof d[0]!="number"&&(this.mixKeyframes=Mc(P3,k1(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Tv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:w,repeatDelay:R,type:O,onUpdate:z,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,le=s;if(_){const A=Math.min(this.currentTime,a)/d;let C=Math.floor(A),k=A%1;!k&&A>=1&&(k=1),k===1&&C--,C=Math.min(C,_+1),!!(C%2)&&(w==="reverse"?(k=1-k,R&&(k-=R/d)):w==="mirror"&&(le=c)),K=Zs(0,1,k)*d}const ae=H?{done:!1,value:y[0]}:le.next(K);l&&(ae.value=l(ae.value));let{done:ce}=ae;!H&&m!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return I&&O!==Fg&&(ae.value=Ev(y,this.options,N,this.speed)),z&&z(ae.value),I&&this.finish(),ae}then(e,n){return this.finished.then(e,n)}get duration(){return _i(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_i(e)}get time(){return _i(this.currentTime)}set time(e){e=ds(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(kn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=_i(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=v3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function k3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ja=t=>t*180/Math.PI,Hg=t=>{const e=ja(Math.atan2(t[1],t[0]));return qg(e)},L3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Hg,rotateZ:Hg,skewX:t=>ja(Math.atan(t[1])),skewY:t=>ja(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},qg=t=>(t=t%360,t<0&&(t+=360),t),ow=Hg,lw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),uw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),j3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lw,scaleY:uw,scale:t=>(lw(t)+uw(t))/2,rotateX:t=>qg(ja(Math.atan2(t[6],t[5]))),rotateY:t=>qg(ja(Math.atan2(-t[2],t[0]))),rotateZ:ow,rotate:ow,skewX:t=>ja(Math.atan(t[4])),skewY:t=>ja(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Gg(t){return t.includes("scale")?1:0}function Kg(t,e){if(!t||t==="none")return Gg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=j3,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=L3,a=d}if(!a)return Gg(e);const l=s[e],c=a[1].split(",").map(B3);return typeof l=="function"?l(c):c[l]}const U3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Kg(n,e)};function B3(t){return parseFloat(t.trim())}const Ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vl=new Set(Ml),cw=t=>t===Dl||t===Ae,z3=new Set(["x","y","z"]),F3=Ml.filter(t=>!z3.has(t));function H3(t){const e=[];return F3.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const za={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Kg(e,"x"),y:(t,{transform:e})=>Kg(e,"y")};za.translateX=za.x;za.translateY=za.y;const Fa=new Set;let Yg=!1,$g=!1,Qg=!1;function B1(){if($g){const t=Array.from(Fa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=H3(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}$g=!1,Yg=!1,Fa.forEach(t=>t.complete(Qg)),Fa.clear()}function z1(){Fa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($g=!0)})}function q3(){Qg=!0,z1(),B1(),Qg=!1}class xv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Fa.add(this),Yg||(Yg=!0,pt.read(z1),pt.resolveKeyframes(B1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}k3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fa.delete(this)}cancel(){this.state==="scheduled"&&(Fa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const G3=t=>t.startsWith("--");function K3(t,e,n){G3(e)?t.style.setProperty(e,n):t.style[e]=n}const Y3=fv(()=>window.ScrollTimeline!==void 0),$3={};function Q3(t,e){const n=fv(t);return()=>$3[e]??n()}const F1=Q3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,hw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qu([0,.65,.55,1]),circOut:qu([.55,0,1,.45]),backIn:qu([.31,.01,.66,-.59]),backOut:qu([.33,1.53,.69,.99])};function H1(t,e){if(t)return typeof t=="function"?F1()?L1(t,e):"ease-out":R1(t)?qu(t):Array.isArray(t)?t.map(n=>H1(n,e)||hw.easeOut):hw[t]}function X3(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const _=H1(d,a);Array.isArray(_)&&(y.easing=_);const w={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(y,w)}function q1(t){return typeof t=="function"&&"applyToOptions"in t}function W3({type:t,...e}){return q1(t)&&F1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Z3 extends wv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,hv(typeof e.type!="string");const p=W3(e);this.animation=X3(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Ev(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):K3(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return _i(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_i(e)}get time(){return _i(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ds(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Y3()?(this.animation.timeline=e,Ti):n(this)}}const G1={anticipate:w1,backInOut:E1,circInOut:x1};function J3(t){return t in G1}function e6(t){typeof t.ease=="string"&&J3(t.ease)&&(t.ease=G1[t.ease])}const fw=10;class t6 extends Z3{constructor(e){e6(e),U1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Sv({...c,autoplay:!1}),m=ds(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-fw).value,d.sample(m).value,fw),d.stop()}}const dw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ea.test(t)||t==="0")&&!t.startsWith("url("));function n6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function i6(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=dw(a,e),d=dw(l,e);return!c||!d?!1:n6(t)||(n==="spring"||q1(n))&&s}function Xg(t){t.duration=0,t.type="keyframes"}const s6=new Set(["opacity","clipPath","filter","transform"]),r6=fv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function a6(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return r6()&&n&&s6.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const o6=40;class l6 extends wv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=kn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},R=y?.KeyframeResolver||xv;this.keyframeResolver=new R(d,(O,z,N)=>this.onKeyframesResolved(O,z,w,!N),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=kn.now(),i6(e,l,c,d)||((Js.instantAnimations||!m)&&y?.(Ev(e,s,n)),e[0]=e[e.length-1],Xg(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>o6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!p&&a6(w)?new t6({...w,element:w.motionValue.owner.current}):new Sv(w);R.finished.then(()=>this.notifyFinished()).catch(Ti),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),q3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const u6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function c6(t){const e=u6.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function K1(t,e,n=1){const[s,a]=c6(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return m1(c)?parseFloat(c):c}return yv(a)?K1(a,e,n+1):a}function Av(t,e){return t?.[e]??t?.default??t}const Y1=new Set(["width","height","top","left","right","bottom",...Ml]),h6={test:t=>t==="auto",parse:t=>t},$1=t=>e=>e.test(t),Q1=[Dl,Ae,ms,Pr,n3,t3,h6],mw=t=>Q1.find($1(t));function f6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||g1(t):!0}const d6=new Set(["brightness","contrast","saturate","opacity"]);function m6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(vv)||[];if(!s)return t;const a=n.replace(s,"");let l=d6.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const p6=/\b([a-z-]*)\(.*?\)/gu,Wg={...ea,getAnimatableNone:t=>{const e=t.match(p6);return e?e.map(m6).join(" "):t}},pw={...Dl,transform:Math.round},g6={rotate:Pr,rotateX:Pr,rotateY:Pr,rotateZ:Pr,scale:df,scaleX:df,scaleY:df,scaleZ:df,skew:Pr,skewX:Pr,skewY:Pr,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:dc,originX:nw,originY:nw,originZ:Ae},Rv={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...g6,zIndex:pw,fillOpacity:dc,strokeOpacity:dc,numOctaves:pw},y6={...Rv,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:Wg,WebkitFilter:Wg},X1=t=>y6[t];function W1(t,e){let n=X1(t);return n!==Wg&&(n=ea),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const v6=new Set(["auto","none","0"]);function _6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!v6.has(l)&&mc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=W1(n,a)}class b6 extends xv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),yv(p))){const y=K1(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Y1.has(s)||e.length!==2)return;const[a,l]=e,c=mw(a),d=mw(l);if(c!==d)if(cw(c)&&cw(d))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else za[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||f6(e[a]))&&s.push(a);s.length&&_6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=za[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=za[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function T6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const Z1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function E6(t){return p1(t)&&"offsetHeight"in t}const gw=30,w6=t=>!isNaN(parseFloat(t));class S6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=kn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=w6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new dv);const s=this.events[e].add(n);return e==="change"?()=>{s(),pt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gw);return y1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(t,e){return new S6(t,e)}const{schedule:Cv}=C1(queueMicrotask,!1),Vi={x:!1,y:!1};function J1(){return Vi.x||Vi.y}function x6(t){return t==="x"||t==="y"?Vi[t]?null:(Vi[t]=!0,()=>{Vi[t]=!1}):Vi.x||Vi.y?null:(Vi.x=Vi.y=!0,()=>{Vi.x=Vi.y=!1})}function eR(t,e){const n=T6(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function yw(t){return!(t.pointerType==="touch"||J1())}function A6(t,e,n={}){const[s,a,l]=eR(t,n),c=d=>{if(!yw(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const y=_=>{yw(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const tR=(t,e)=>e?t===e?!0:tR(t,e.parentElement):!1,Iv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,R6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C6(t){return R6.has(t.tagName)||t.tabIndex!==-1}const Cf=new WeakSet;function vw(t){return e=>{e.key==="Enter"&&t(e)}}function tg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const I6=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=vw(()=>{if(Cf.has(n))return;tg(n,"down");const a=vw(()=>{tg(n,"up")}),l=()=>tg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function _w(t){return Iv(t)&&!J1()}function N6(t,e,n={}){const[s,a,l]=eR(t,n),c=d=>{const m=d.currentTarget;if(!_w(d))return;Cf.add(m);const p=e(m,d),y=(R,O)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),Cf.has(m)&&Cf.delete(m),_w(R)&&typeof p=="function"&&p(R,{success:O})},_=R=>{y(R,m===window||m===document||n.useGlobalTarget||tR(m,R.target))},w=R=>{y(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",w,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),E6(d)&&(d.addEventListener("focus",p=>I6(p,a)),!C6(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function nR(t){return p1(t)&&"ownerSVGElement"in t}function D6(t){return nR(t)&&t.tagName==="svg"}const yn=t=>!!(t&&t.getVelocity),M6=[...Q1,Bt,ea],V6=t=>M6.find($1(t)),iR=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function O6(t=!0){const e=V.useContext(lv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=V.useId();V.useEffect(()=>{if(t)return a(l)},[t]);const c=V.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const sR=V.createContext({strict:!1}),bw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bl={};for(const t in bw)bl[t]={isEnabled:e=>bw[t].some(n=>!!e[n])};function P6(t){for(const e in t)bl[e]={...bl[e],...t[e]}}const k6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function id(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||k6.has(t)}let rR=t=>!id(t);function L6(t){typeof t=="function"&&(rR=e=>e.startsWith("on")?!id(e):t(e))}try{L6(require("@emotion/is-prop-valid").default)}catch{}function j6(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(rR(a)||n===!0&&id(a)||!e&&!id(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Md=V.createContext({});function Vd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pc(t){return typeof t=="string"||Array.isArray(t)}const Nv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dv=["initial",...Nv];function Od(t){return Vd(t.animate)||Dv.some(e=>pc(t[e]))}function aR(t){return!!(Od(t)||t.variants)}function U6(t,e){if(Od(t)){const{initial:n,animate:s}=t;return{initial:n===!1||pc(n)?n:void 0,animate:pc(s)?s:void 0}}return t.inherit!==!1?e:{}}function B6(t){const{initial:e,animate:n}=U6(t,V.useContext(Md));return V.useMemo(()=>({initial:e,animate:n}),[Tw(e),Tw(n)])}function Tw(t){return Array.isArray(t)?t.join(" "):t}const gc={};function z6(t){for(const e in t)gc[e]=t[e],gv(e)&&(gc[e].isCSSVariable=!0)}function oR(t,{layout:e,layoutId:n}){return Vl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gc[t]||t==="opacity")}const F6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H6=Ml.length;function q6(t,e,n){let s="",a=!0;for(let l=0;l<H6;l++){const c=Ml[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=Z1(d,Rv[c]);if(!m){a=!1;const y=F6[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Mv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const p=e[m];if(Vl.has(m)){c=!0;continue}else if(gv(m)){a[m]=p;continue}else{const y=Z1(p,Rv[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=q6(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const Vv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lR(t,e,n){for(const s in e)!yn(e[s])&&!oR(s,n)&&(t[s]=e[s])}function G6({transformTemplate:t},e){return V.useMemo(()=>{const n=Vv();return Mv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function K6(t,e){const n=t.style||{},s={};return lR(s,n,t),Object.assign(s,G6(t,e)),s}function Y6(t,e){const n={},s=K6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const $6={offset:"stroke-dashoffset",array:"stroke-dasharray"},Q6={offset:"strokeDashoffset",array:"strokeDasharray"};function X6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?$6:Q6;t[l.offset]=Ae.transform(-s);const c=Ae.transform(e),d=Ae.transform(n);t[l.array]=`${c} ${d}`}function uR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if(Mv(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:w}=t;_.transform&&(w.transform=_.transform,delete _.transform),(w.transform||_.transformOrigin)&&(w.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&X6(_,a,l,c,!1)}const cR=()=>({...Vv(),attrs:{}}),hR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function W6(t,e,n,s){const a=V.useMemo(()=>{const l=cR();return uR(l,e,hR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};lR(l,t.style,t),a.style={...l,...a.style}}return a}const Z6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ov(t){return typeof t!="string"||t.includes("-")?!1:!!(Z6.indexOf(t)>-1||/[A-Z]/u.test(t))}function J6(t,e,n,{latestValues:s},a,l=!1){const d=(Ov(t)?W6:Y6)(e,s,a,t),m=j6(e,typeof t=="string",l),p=t!==V.Fragment?{...m,...d,ref:n}:{},{children:y}=e,_=V.useMemo(()=>yn(y)?y.get():y,[y]);return V.createElement(t,{...p,children:_})}function Ew(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Pv(t,e,n,s){if(typeof e=="function"){const[a,l]=Ew(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Ew(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function If(t){return yn(t)?t.get():t}function ej({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:tj(n,s,a,t),renderState:e()}}function tj(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=If(l[w]);let{initial:c,animate:d}=t;const m=Od(t),p=aR(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!Vd(_)){const w=Array.isArray(_)?_:[_];for(let R=0;R<w.length;R++){const O=Pv(t,w[R]);if(O){const{transitionEnd:z,transition:N,...U}=O;for(const H in U){let K=U[H];if(Array.isArray(K)){const le=y?K.length-1:0;K=K[le]}K!==null&&(a[H]=K)}for(const H in z)a[H]=z[H]}}}return a}const fR=t=>(e,n)=>{const s=V.useContext(Md),a=V.useContext(lv),l=()=>ej(t,e,s,a);return n?l():PL(l)};function kv(t,e,n){const{style:s}=t,a={};for(const l in s)(yn(s[l])||e.style&&yn(e.style[l])||oR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const nj=fR({scrapeMotionValuesFromProps:kv,createRenderState:Vv});function dR(t,e,n){const s=kv(t,e,n);for(const a in t)if(yn(t[a])||yn(e[a])){const l=Ml.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const ij=fR({scrapeMotionValuesFromProps:dR,createRenderState:cR}),sj=Symbol.for("motionComponentSymbol");function nl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rj(t,e,n){return V.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):nl(n)&&(n.current=s))},[e])}const Lv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aj="framerAppearId",mR="data-"+Lv(aj),pR=V.createContext({});function oj(t,e,n,s,a){const{visualElement:l}=V.useContext(Md),c=V.useContext(sR),d=V.useContext(lv),m=V.useContext(iR).reducedMotion,p=V.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=V.useContext(pR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&lj(p.current,n,a,_);const w=V.useRef(!1);V.useInsertionEffect(()=>{y&&w.current&&y.update(n,d)});const R=n[mR],O=V.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return kL(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),O.current&&y.animationState&&y.animationState.animateChanges())}),V.useEffect(()=>{y&&(!O.current&&y.animationState&&y.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),O.current=!1),y.enteringChildren=void 0)}),y}function lj(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:gR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&nl(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function gR(t){if(t)return t.options.allowProjection!==!1?t.projection:gR(t.parent)}function ng(t,{forwardMotionProps:e=!1}={},n,s){n&&P6(n);const a=Ov(t)?ij:nj;function l(d,m){let p;const y={...V.useContext(iR),...d,layoutId:uj(d)},{isStatic:_}=y,w=B6(d),R=a(d,_);if(!_&&ov){cj();const O=hj(y);p=O.MeasureLayout,w.visualElement=oj(t,R,y,s,O.ProjectionNode)}return T.jsxs(Md.Provider,{value:w,children:[p&&w.visualElement?T.jsx(p,{visualElement:w.visualElement,...y}):null,J6(t,d,rj(R,w.visualElement,m),R,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=V.forwardRef(l);return c[sj]=t,c}function uj({layoutId:t}){const e=V.useContext(d1).id;return e&&t!==void 0?e+"-"+t:t}function cj(t,e){V.useContext(sR).strict}function hj(t){const{drag:e,layout:n}=bl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function fj(t,e){if(typeof Proxy>"u")return ng;const n=new Map,s=(l,c)=>ng(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,ng(c,void 0,t,e)),n.get(c))})}function yR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function dj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function ig(t){return t===void 0||t===1}function Zg({scale:t,scaleX:e,scaleY:n}){return!ig(t)||!ig(e)||!ig(n)}function Pa(t){return Zg(t)||vR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vR(t){return ww(t.x)||ww(t.y)}function ww(t){return t&&t!=="0%"}function sd(t,e,n){const s=t-n,a=e*s;return n+a}function Sw(t,e,n,s,a){return a!==void 0&&(t=sd(t,a,s)),sd(t,n,s)+e}function Jg(t,e=0,n=1,s,a){t.min=Sw(t.min,e,n,s,a),t.max=Sw(t.max,e,n,s,a)}function _R(t,{x:e,y:n}){Jg(t.x,e.translate,e.scale,e.originPoint),Jg(t.y,n.translate,n.scale,n.originPoint)}const xw=.999999999999,Aw=1.0000000000001;function pj(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&sl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,_R(t,c)),s&&Pa(l.latestValues)&&sl(t,l.latestValues))}e.x<Aw&&e.x>xw&&(e.x=1),e.y<Aw&&e.y>xw&&(e.y=1)}function il(t,e){t.min=t.min+e,t.max=t.max+e}function Rw(t,e,n,s,a=.5){const l=bt(t.min,t.max,a);Jg(t,e,n,l,s)}function sl(t,e){Rw(t.x,e.x,e.scaleX,e.scale,e.originX),Rw(t.y,e.y,e.scaleY,e.scale,e.originY)}function bR(t,e){return yR(mj(t.getBoundingClientRect(),e))}function gj(t,e,n){const s=bR(t,n),{scroll:a}=e;return a&&(il(s.x,a.offset.x),il(s.y,a.offset.y)),s}const Cw=()=>({translate:0,scale:1,origin:0,originPoint:0}),rl=()=>({x:Cw(),y:Cw()}),Iw=()=>({min:0,max:0}),Dt=()=>({x:Iw(),y:Iw()}),ey={current:null},TR={current:!1};function yj(){if(TR.current=!0,!!ov)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ey.current=t.matches;t.addEventListener("change",e),e()}else ey.current=!1}const vj=new WeakMap;function _j(t,e,n){for(const s in e){const a=e[s],l=n[s];if(yn(a))t.addValue(s,a);else if(yn(l))t.addValue(s,_l(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,_l(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Nw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bj{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=kn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,pt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Od(n),this.isVariantNode=aR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in _){const R=_[w];m[w]!==void 0&&yn(R)&&R.set(m[w])}}mount(e){this.current=e,vj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),TR.current||yj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ey.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Jr(this.notifyUpdate),Jr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Vl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&pt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bl){const n=bl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Nw.length;s++){const a=Nw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=_j(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=_l(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(m1(s)||g1(s))?s=parseFloat(s):!V6(s)&&ea.test(n)&&(s=W1(e,n)),this.setBaseTarget(e,yn(s)?s.get():s)),yn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Pv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!yn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new dv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Cv.render(this.render)}}class ER extends bj{constructor(){super(...arguments),this.KeyframeResolver=b6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wR(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function Tj(t){return window.getComputedStyle(t)}class Ej extends ER{constructor(){super(...arguments),this.type="html",this.renderInstance=wR}readValueFromInstance(e,n){if(Vl.has(n))return this.projection?.isProjecting?Gg(n):U3(e,n);{const s=Tj(e),a=(gv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return bR(e,n)}build(e,n,s){Mv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return kv(e,n,s)}}const SR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wj(t,e,n,s){wR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(SR.has(a)?a:Lv(a),e.attrs[a])}class Sj extends ER{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vl.has(n)){const s=X1(n);return s&&s.default||0}return n=SR.has(n)?n:Lv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return dR(e,n,s)}build(e,n,s){uR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){wj(e,n,s,a)}mount(e){this.isSVGTag=hR(e.tagName),super.mount(e)}}const xj=(t,e)=>Ov(t)?new Sj(e):new Ej(e,{allowProjection:t!==V.Fragment});function hl(t,e,n){const s=t.getProps();return Pv(s,e,n!==void 0?n:s.custom,t)}const ty=t=>Array.isArray(t);function Aj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_l(n))}function Rj(t){return ty(t)?t[t.length-1]||0:t}function Cj(t,e){const n=hl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=Rj(l[c]);Aj(t,c,d)}}function Ij(t){return!!(yn(t)&&t.add)}function ny(t,e){const n=t.getValue("willChange");if(Ij(n))return n.add(e);if(!n&&Js.WillChange){const s=new Js.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function xR(t){return t.props[mR]}const Nj=t=>t!==null;function Dj(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(Nj),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const Mj={type:"spring",stiffness:500,damping:25,restSpeed:10},Vj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Oj={type:"keyframes",duration:.8},Pj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kj=(t,{keyframes:e})=>e.length>2?Oj:Vl.has(t)?t.startsWith("scale")?Vj(e[1]):Mj:Pj;function Lj({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const jv=(t,e,n,s={},a,l)=>c=>{const d=Av(s,t)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-ds(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};Lj(d)||Object.assign(y,kj(t,y)),y.duration&&(y.duration=ds(y.duration)),y.repeatDelay&&(y.repeatDelay=ds(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Xg(y),y.delay===0&&(_=!0)),(Js.instantAnimations||Js.skipAnimations)&&(_=!0,Xg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&e.get()!==void 0){const w=Dj(y.keyframes,d);if(w!==void 0){pt.update(()=>{y.onUpdate(w),y.onComplete()});return}}return d.isSync?new Sv(y):new l6(y)};function jj({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function AR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const _=t.getValue(y,t.latestValues[y]??null),w=d[y];if(w===void 0||p&&jj(p,y))continue;const R={delay:n,...Av(l||{},y)},O=_.get();if(O!==void 0&&!_.isAnimating&&!Array.isArray(w)&&w===O&&!R.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const U=xR(t);if(U){const H=window.MotionHandoffAnimation(U,y,pt);H!==null&&(R.startTime=H,z=!0)}}ny(t,y),_.start(jv(y,_,w,t.shouldReduceMotion&&Y1.has(y)?{type:!1}:R,t,z));const N=_.animation;N&&m.push(N)}return c&&Promise.all(m).then(()=>{pt.update(()=>{c&&Cj(t,c)})}),m}function RR(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function iy(t,e,n={}){const s=hl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(AR(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return Uj(t,e,m,p,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function Uj(t,e,n=0,s=0,a=0,l=1,c){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(iy(m,e,{...c,delay:n+(typeof s=="function"?0:s)+RR(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function Bj(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>iy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=iy(t,e,n);else{const a=typeof e=="function"?hl(t,e,n.custom):e;s=Promise.all(AR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function CR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const zj=Dv.length;function IR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?IR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<zj;n++){const s=Dv[n],a=t.props[s];(pc(a)||a===!1)&&(e[s]=a)}return e}const Fj=[...Nv].reverse(),Hj=Nv.length;function qj(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Bj(t,n,s)))}function Gj(t){let e=qj(t),n=Dw(),s=!0;const a=m=>(p,y)=>{const _=hl(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:w,transitionEnd:R,...O}=_;p={...p,...O,...R}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=IR(t.parent)||{},_=[],w=new Set;let R={},O=1/0;for(let N=0;N<Hj;N++){const U=Fj[N],H=n[U],K=p[U]!==void 0?p[U]:y[U],le=pc(K),ae=U===m?H.isActive:null;ae===!1&&(O=N);let ce=K===y[U]&&K!==p[U]&&le;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),H.protectedKeys={...R},!H.isActive&&ae===null||!K&&!H.prevProp||Vd(K)||typeof K=="boolean")continue;const I=Kj(H.prevProp,K);let A=I||U===m&&H.isActive&&!ce&&le||N>O&&le,C=!1;const k=Array.isArray(K)?K:[K];let P=k.reduce(a(U),{});ae===!1&&(P={});const{prevResolvedValues:B={}}=H,D={...B,...P},je=re=>{A=!0,w.has(re)&&(C=!0,w.delete(re)),H.needsAnimating[re]=!0;const fe=t.getValue(re);fe&&(fe.liveStyle=!1)};for(const re in D){const fe=P[re],ye=B[re];if(R.hasOwnProperty(re))continue;let Ce=!1;ty(fe)&&ty(ye)?Ce=!CR(fe,ye):Ce=fe!==ye,Ce?fe!=null?je(re):w.add(re):fe!==void 0&&w.has(re)?je(re):H.protectedKeys[re]=!0}H.prevProp=K,H.prevResolvedValues=P,H.isActive&&(R={...R,...P}),s&&t.blockInitialAnimation&&(A=!1);const Ke=ce&&I;A&&(!Ke||C)&&_.push(...k.map(re=>{const fe={type:U};if(typeof re=="string"&&s&&!Ke&&t.manuallyAnimateOnMount&&t.parent){const{parent:ye}=t,Ce=hl(ye,re);if(ye.enteringChildren&&Ce){const{delayChildren:L}=Ce.transition||{};fe.delay=RR(ye.enteringChildren,t,L)}}return{animation:re,options:fe}}))}if(w.size){const N={};if(typeof p.initial!="boolean"){const U=hl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(N.transition=U.transition)}w.forEach(U=>{const H=t.getBaseTarget(U),K=t.getValue(U);K&&(K.liveStyle=!0),N[U]=H??null}),_.push({animation:N})}let z=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(z=!1),s=!1,z?e(_):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Dw()}}}function Kj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CR(e,t):!1}function Ma(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dw(){return{animate:Ma(!0),whileInView:Ma(),whileHover:Ma(),whileTap:Ma(),whileDrag:Ma(),whileFocus:Ma(),exit:Ma()}}class sa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Yj extends sa{constructor(e){super(e),e.animationState||(e.animationState=Gj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $j=0;class Qj extends sa{constructor(){super(...arguments),this.id=$j++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Xj={animation:{Feature:Yj},exit:{Feature:Qj}};function yc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Pc(t){return{point:{x:t.pageX,y:t.pageY}}}const Wj=t=>e=>Iv(e)&&t(e,Pc(e));function Ju(t,e,n,s){return yc(t,e,Wj(n),s)}const NR=1e-4,Zj=1-NR,Jj=1+NR,DR=.01,eU=0-DR,tU=0+DR;function En(t){return t.max-t.min}function nU(t,e,n){return Math.abs(t-e)<=n}function Mw(t,e,n,s=.5){t.origin=s,t.originPoint=bt(e.min,e.max,t.origin),t.scale=En(n)/En(e),t.translate=bt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Zj&&t.scale<=Jj||isNaN(t.scale))&&(t.scale=1),(t.translate>=eU&&t.translate<=tU||isNaN(t.translate))&&(t.translate=0)}function ec(t,e,n,s){Mw(t.x,e.x,n.x,s?s.originX:void 0),Mw(t.y,e.y,n.y,s?s.originY:void 0)}function Vw(t,e,n){t.min=n.min+e.min,t.max=t.min+En(e)}function iU(t,e,n){Vw(t.x,e.x,n.x),Vw(t.y,e.y,n.y)}function Ow(t,e,n){t.min=e.min-n.min,t.max=t.min+En(e)}function tc(t,e,n){Ow(t.x,e.x,n.x),Ow(t.y,e.y,n.y)}function gi(t){return[t("x"),t("y")]}const MR=({current:t})=>t?t.ownerDocument.defaultView:null,Pw=(t,e)=>Math.abs(t-e);function sU(t,e){const n=Pw(t.x,e.x),s=Pw(t.y,e.y);return Math.sqrt(n**2+s**2)}class VR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=rg(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,O=sU(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!O)return;const{point:z}=w,{timestamp:N}=on;this.history.push({...z,timestamp:N});const{onStart:U,onMove:H}=this.handlers;R||(U&&U(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,w)},this.handlePointerMove=(w,R)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=sg(R,this.transformPagePoint),pt.update(this.updatePoint,!0)},this.handlePointerUp=(w,R)=>{this.end();const{onEnd:O,onSessionEnd:z,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=rg(w.type==="pointercancel"?this.lastMoveEventInfo:sg(R,this.transformPagePoint),this.history);this.startEvent&&O&&O(w,U),z&&z(w,U)},!Iv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Pc(e),m=sg(d,this.transformPagePoint),{point:p}=m,{timestamp:y}=on;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,rg(m,this.history)),this.removeListeners=Mc(Ju(this.contextWindow,"pointermove",this.handlePointerMove),Ju(this.contextWindow,"pointerup",this.handlePointerUp),Ju(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Jr(this.updatePoint)}}function sg(t,e){return e?{point:e(t.point)}:t}function kw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rg({point:t},e){return{point:t,delta:kw(t,OR(e)),offset:kw(t,rU(e)),velocity:aU(e,.1)}}function rU(t){return t[0]}function OR(t){return t[t.length-1]}function aU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=OR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ds(e)));)n--;if(!s)return{x:0,y:0};const l=_i(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function oU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?bt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?bt(n,t,s.max):Math.min(t,n)),t}function Lw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lU(t,{top:e,left:n,bottom:s,right:a}){return{x:Lw(t.x,n,a),y:Lw(t.y,e,s)}}function jw(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function uU(t,e){return{x:jw(t.x,e.x),y:jw(t.y,e.y)}}function cU(t,e){let n=.5;const s=En(t),a=En(e);return a>s?n=fc(e.min,e.max-s,t.min):s>a&&(n=fc(t.min,t.max-a,e.min)),Zs(0,1,n)}function hU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sy=.35;function fU(t=sy){return t===!1?t=0:t===!0&&(t=sy),{x:Uw(t,"left","right"),y:Uw(t,"top","bottom")}}function Uw(t,e,n){return{min:Bw(t,e),max:Bw(t,n)}}function Bw(t,e){return typeof t=="number"?t:t[e]||0}const dU=new WeakMap;class mU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pc(_).point)},c=(_,w)=>{const{drag:R,dragPropagation:O,onDragStart:z}=this.getProps();if(R&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=x6(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gi(U=>{let H=this.getAxisMotionValue(U).get()||0;if(ms.test(H)){const{projection:K}=this.visualElement;if(K&&K.layout){const le=K.layout.layoutBox[U];le&&(H=En(le)*(parseFloat(H)/100))}}this.originPoint[U]=H}),z&&pt.postRender(()=>z(_,w)),ny(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},d=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w;const{dragPropagation:R,dragDirectionLock:O,onDirectionLock:z,onDrag:N}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:U}=w;if(O&&this.currentDirection===null){this.currentDirection=pU(U),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",w.point,U),this.updateAxis("y",w.point,U),this.visualElement.render(),N&&N(_,w)},m=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w,this.stop(_,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>gi(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new VR(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:MR(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&pt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!mf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=oU(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&nl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=lU(s.layoutBox,e):this.constraints=!1,this.elastic=fU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&gi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=hU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!nl(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=gj(s,a.root,this.visualElement.getTransformPagePoint());let c=uU(a.layout.layoutBox,l);if(n){const d=n(dj(c));this.hasMutatedConstraints=!!d,d&&(c=yR(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=gi(y=>{if(!mf(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const w=a?200:1e6,R=a?40:1e7,O={type:"inertia",velocity:s?e[y]:0,bounceStiffness:w,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,O)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ny(this.visualElement,e),s.start(jv(e,s,0,n,this.visualElement,!1))}stopAnimation(){gi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){gi(n=>{const{drag:s}=this.getProps();if(!mf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-bt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!nl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};gi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=cU({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),gi(c=>{if(!mf(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(bt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;dU.set(this.visualElement,this);const e=this.visualElement.current,n=Ju(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();nl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),pt.read(s);const c=yc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(gi(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=sy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function mf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function pU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gU extends sa{constructor(e){super(e),this.removeGroupControls=Ti,this.removeListeners=Ti,this.controls=new mU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ti}unmount(){this.removeGroupControls(),this.removeListeners()}}const zw=t=>(e,n)=>{t&&pt.postRender(()=>t(e,n))};class yU extends sa{constructor(){super(...arguments),this.removePointerDownListener=Ti}onPointerDown(e){this.session=new VR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:zw(e),onStart:zw(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&pt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Ju(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Lu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=Fw(t,e.target.x),s=Fw(t,e.target.y);return`${n}% ${s}%`}},vU={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ea.parse(t);if(a.length>5)return s;const l=ea.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const p=bt(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let ag=!1;class _U extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;z6(bU),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),ag&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,ag=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||pt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;ag=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PR(t){const[e,n]=O6(),s=V.useContext(d1);return T.jsx(_U,{...t,layoutGroup:s,switchLayoutGroup:V.useContext(pR),isPresent:e,safeToRemove:n})}const bU={borderRadius:{...Lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lu,borderTopRightRadius:Lu,borderBottomLeftRadius:Lu,borderBottomRightRadius:Lu,boxShadow:vU};function TU(t,e,n){const s=yn(t)?t:_l(t);return s.start(jv("",s,e,n)),s.animation}const EU=(t,e)=>t.depth-e.depth;class wU{constructor(){this.children=[],this.isDirty=!1}add(e){uv(this.children,e),this.isDirty=!0}remove(e){cv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EU),this.isDirty=!1,this.children.forEach(e)}}function SU(t,e){const n=kn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Jr(s),t(l-e))};return pt.setup(s,!0),()=>Jr(s)}const kR=["TopLeft","TopRight","BottomLeft","BottomRight"],xU=kR.length,Hw=t=>typeof t=="string"?parseFloat(t):t,qw=t=>typeof t=="number"||Ae.test(t);function AU(t,e,n,s,a,l){a?(t.opacity=bt(0,n.opacity??1,RU(s)),t.opacityExit=bt(e.opacity??1,0,CU(s))):l&&(t.opacity=bt(e.opacity??1,n.opacity??1,s));for(let c=0;c<xU;c++){const d=`border${kR[c]}Radius`;let m=Gw(e,d),p=Gw(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||qw(m)===qw(p)?(t[d]=Math.max(bt(Hw(m),Hw(p),s),0),(ms.test(p)||ms.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=bt(e.rotate||0,n.rotate||0,s))}function Gw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const RU=LR(0,.5,S1),CU=LR(.5,.95,Ti);function LR(t,e,n){return s=>s<t?0:s>e?1:n(fc(t,e,s))}function Kw(t,e){t.min=e.min,t.max=e.max}function pi(t,e){Kw(t.x,e.x),Kw(t.y,e.y)}function Yw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function $w(t,e,n,s,a){return t-=e,t=sd(t,1/n,s),a!==void 0&&(t=sd(t,1/a,s)),t}function IU(t,e=0,n=1,s=.5,a,l=t,c=t){if(ms.test(e)&&(e=parseFloat(e),e=bt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=bt(l.min,l.max,s);t===l&&(d-=e),t.min=$w(t.min,e,n,d,a),t.max=$w(t.max,e,n,d,a)}function Qw(t,e,[n,s,a],l,c){IU(t,e[n],e[s],e[a],e.scale,l,c)}const NU=["x","scaleX","originX"],DU=["y","scaleY","originY"];function Xw(t,e,n,s){Qw(t.x,e,NU,n?n.x:void 0,s?s.x:void 0),Qw(t.y,e,DU,n?n.y:void 0,s?s.y:void 0)}function Ww(t){return t.translate===0&&t.scale===1}function jR(t){return Ww(t.x)&&Ww(t.y)}function Zw(t,e){return t.min===e.min&&t.max===e.max}function MU(t,e){return Zw(t.x,e.x)&&Zw(t.y,e.y)}function Jw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function UR(t,e){return Jw(t.x,e.x)&&Jw(t.y,e.y)}function eS(t){return En(t.x)/En(t.y)}function tS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class VU{constructor(){this.members=[]}add(e){uv(this.members,e),e.scheduleRender()}remove(e){if(cv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OU(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:w,skewX:R,skewY:O}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),w&&(s+=`rotateY(${w}deg) `),R&&(s+=`skewX(${R}deg) `),O&&(s+=`skewY(${O}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const og=["","X","Y","Z"],PU=1e3;let kU=0;function lg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function BR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=xR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&BR(s)}function zR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=kU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UU),this.nodes.forEach(HU),this.nodes.forEach(qU),this.nodes.forEach(BU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new wU)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new dv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=nR(c)&&!D6(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let y,_=0;const w=()=>this.root.updateBlockedByResize=!1;pt.read(()=>{_=window.innerWidth}),t(c,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,y&&y(),y=SU(w,250),Nf.hasAnimatedSinceResize&&(Nf.hasAnimatedSinceResize=!1,this.nodes.forEach(sS)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:w,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||p.getDefaultTransition()||QU,{onLayoutAnimationStart:z,onLayoutAnimationComplete:N}=p.getProps(),U=!this.targetLayout||!UR(this.targetLayout,R),H=!_&&w;if(this.options.layoutRoot||this.resumeFrom||H||_&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...Av(O,"layout"),onPlay:z,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,H)}else _||sS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(iS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(FU),this.nodes.forEach(LU),this.nodes.forEach(jU)):this.nodes.forEach(iS),this.clearAllSnapshots();const d=kn.now();on.delta=Zs(0,1e3/60,d-on.timestamp),on.timestamp=d,on.isProcessing=!0,Xp.update.process(on),Xp.preRender.process(on),Xp.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zU),this.sharedNodes.forEach(KU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!jR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Pa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),XU(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Dt();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(WU))){const{scroll:p}=this.root;p&&(il(d.x,p.offset.x),il(d.y,p.offset.y))}return d}removeElementScroll(c){const d=Dt();if(pi(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&pi(d,c),il(d.x,y.offset.x),il(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=Dt();pi(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&sl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Pa(y.latestValues)&&sl(m,y.latestValues)}return Pa(this.latestValues)&&sl(m,this.latestValues),m}removeTransform(c){const d=Dt();pi(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Pa(p.latestValues))continue;Zg(p.latestValues)&&p.updateSnapshot();const y=Dt(),_=p.measurePageBox();pi(y,_),Xw(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Pa(this.latestValues)&&Xw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=on.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),tc(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pi(this.target,this.layout.layoutBox),_R(this.target,this.targetDelta)):pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),tc(this.relativeTargetOrigin,this.target,w.target),pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Zg(this.parent.latestValues)||vR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===on.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;pi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;pj(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Dt());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yw(this.prevProjectionDelta.x,this.projectionDelta.x),Yw(this.prevProjectionDelta.y,this.projectionDelta.y)),ec(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!tS(this.projectionDelta.x,this.prevProjectionDelta.x)||!tS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rl(),this.projectionDelta=rl(),this.projectionDeltaWithTransform=rl()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=Dt(),R=m?m.source:void 0,O=this.layout?this.layout.source:void 0,z=R!==O,N=this.getStack(),U=!N||N.members.length<=1,H=!!(z&&!U&&this.options.crossfade===!0&&!this.path.some($U));this.animationProgress=0;let K;this.mixTargetDelta=le=>{const ae=le/1e3;rS(_.x,c.x,ae),rS(_.y,c.y,ae),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YU(this.relativeTarget,this.relativeTargetOrigin,w,ae),K&&MU(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=Dt()),pi(K,this.relativeTarget)),z&&(this.animationValues=y,AU(y,p,this.latestValues,ae,H,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pt.update(()=>{Nf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_l(0)),this.currentAnimation=TU(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&FR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Dt();const _=En(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const w=En(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}pi(d,m),sl(d,y),ec(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new VU),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&lg("z",c,p,this.animationValues);for(let y=0;y<og.length;y++)lg(`rotate${og[y]}`,c,p,this.animationValues),lg(`skew${og[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=If(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=If(d?.pointerEvents)||""),this.hasProjected&&!Pa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=OU(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:w,y:R}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${R.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const O in gc){if(y[O]===void 0)continue;const{correct:z,applyTo:N,isCSSVariable:U}=gc[O],H=_==="none"?y[O]:z(y[O],p);if(N){const K=N.length;for(let le=0;le<K;le++)c[N[le]]=H}else U?this.options.visualElement.renderState.vars[O]=H:c[O]=H}this.options.layoutId&&(c.pointerEvents=p===this?If(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(nS),this.root.sharedNodes.clear()}}}function LU(t){t.updateLayout()}function jU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?gi(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],w=En(_);_.min=n[y].min,_.max=_.min+w}):FR(a,e.layoutBox,n)&&gi(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],w=En(n[y]);_.max=_.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const c=rl();ec(c,n,e.layoutBox);const d=rl();l?ec(d,t.applyTransform(s,!0),e.measuredBox):ec(d,n,e.layoutBox);const m=!jR(c);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:w}=y;if(_&&w){const R=Dt();tc(R,e.layoutBox,_.layoutBox);const O=Dt();tc(O,n,w.layoutBox),UR(R,O)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=O,t.relativeTargetOrigin=R,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function UU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zU(t){t.clearSnapshot()}function nS(t){t.clearMeasurements()}function iS(t){t.isLayoutDirty=!1}function FU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HU(t){t.resolveTargetDelta()}function qU(t){t.calcProjection()}function GU(t){t.resetSkewAndRotation()}function KU(t){t.removeLeadSnapshot()}function rS(t,e,n){t.translate=bt(e.translate,0,n),t.scale=bt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function aS(t,e,n,s){t.min=bt(e.min,n.min,s),t.max=bt(e.max,n.max,s)}function YU(t,e,n,s){aS(t.x,e.x,n.x,s),aS(t.y,e.y,n.y,s)}function $U(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const QU={duration:.45,ease:[.4,0,.1,1]},oS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),lS=oS("applewebkit/")&&!oS("chrome/")?Math.round:Ti;function uS(t){t.min=lS(t.min),t.max=lS(t.max)}function XU(t){uS(t.x),uS(t.y)}function FR(t,e,n){return t==="position"||t==="preserve-aspect"&&!nU(eS(e),eS(n),.2)}function WU(t){return t!==t.root&&t.scroll?.wasRoot}const ZU=zR({attachResizeListener:(t,e)=>yc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ug={current:void 0},HR=zR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ug.current){const t=new ZU({});t.mount(window),t.setOptions({layoutScroll:!0}),ug.current=t}return ug.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),JU={pan:{Feature:yU},drag:{Feature:gU,ProjectionNode:HR,MeasureLayout:PR}};function cS(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&pt.postRender(()=>l(e,Pc(e)))}class e5 extends sa{mount(){const{current:e}=this.node;e&&(this.unmount=A6(e,(n,s)=>(cS(this.node,s,"Start"),a=>cS(this.node,a,"End"))))}unmount(){}}class t5 extends sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mc(yc(this.node.current,"focus",()=>this.onFocus()),yc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hS(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&pt.postRender(()=>l(e,Pc(e)))}class n5 extends sa{mount(){const{current:e}=this.node;e&&(this.unmount=N6(e,(n,s)=>(hS(this.node,s,"Start"),(a,{success:l})=>hS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ry=new WeakMap,cg=new WeakMap,i5=t=>{const e=ry.get(t.target);e&&e(t)},s5=t=>{t.forEach(i5)};function r5({root:t,...e}){const n=t||document;cg.has(n)||cg.set(n,{});const s=cg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(s5,{root:t,...e})),s[a]}function a5(t,e,n){const s=r5(e);return ry.set(t,n),s.observe(t),()=>{ry.delete(t),s.unobserve(t)}}const o5={some:0,all:1};class l5 extends sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:o5[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),w=p?y:_;w&&w(m)};return a5(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(u5(e,n))&&this.startObserver()}unmount(){}}function u5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const c5={inView:{Feature:l5},tap:{Feature:n5},focus:{Feature:t5},hover:{Feature:e5}},h5={layout:{ProjectionNode:HR,MeasureLayout:PR}},f5={...Xj,...c5,...JU,...h5},Ua=fj(f5,xj),d5=()=>T.jsxs("section",{className:"bg-gradient-to-b from-white to-green-50 py-16 px-6 md:px-20",children:[T.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[T.jsx("p",{className:"text-sm mb-2 text-green-700 uppercase tracking-wide",children:"Our Story"}),T.jsx("h2",{className:"text-3xl md:text-4xl mb-4 font-serif text-green-900",children:"A Church Built on Faith and Community"}),T.jsx("div",{className:"w-20 h-1 bg-green-600 mx-auto mb-6 rounded-full"}),T.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"Founded in 1985, we have been serving our community for decades. Our core beliefs center on love, grace, and transformative faith. We continue to grow together in spirit, purpose, and unity."})]}),T.jsx(Ua.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"mt-12 flex justify-center",children:T.jsx("img",{src:"/church-website/about/about-image.jpg",alt:"About our church",className:"rounded-2xl shadow-[0_8px_30px_rgba(0,128,0,0.15)] w-full max-w-4xl"})})]}),fS=t=>{const e=Date.parse(t)-Date.now();if(e<=0)return null;const n=Math.floor(e/1e3%60),s=Math.floor(e/1e3/60%60),a=Math.floor(e/(1e3*60*60)%24),l=Math.floor(e/(1e3*60*60*24));return{total:e,days:l,hours:a,minutes:s,seconds:n}},m5=({date:t})=>{const[e,n]=V.useState(fS(t));if(V.useEffect(()=>{const s=setInterval(()=>{n(fS(t))},1e3);return()=>clearInterval(s)},[t]),!e){const s=Date.parse(t),a=Date.now();return T.jsx("span",{className:"text-sm text-green-700 font-medium",children:a-s<36e5?"Happening now":"Event ended"})}return T.jsxs("div",{className:"text-sm text-green-800 bg-green-50 px-3 py-1 rounded-full mt-2 md:mt-0",children:[e.days>0&&T.jsxs("span",{children:[e.days,"d "]}),e.hours>0&&T.jsxs("span",{children:[e.hours,"h "]}),e.minutes>0&&T.jsxs("span",{children:[e.minutes,"m "]}),T.jsxs("span",{children:[e.seconds,"s"]})]})},p5=()=>{const[t,e]=V.useState("weekly"),[n,s]=V.useState([]),[a,l]=V.useState(!0);V.useEffect(()=>{(async()=>{try{const y=(await Il(Ui(ot,"programs"))).docs.map(_=>({id:_.id,..._.data()}));s(y)}catch(p){console.error("Error fetching programs:",p)}finally{l(!1)}})()},[]);const c=t==="all"?n:n.filter(m=>m.category===t),d=[{name:"Weekly Programs",value:"weekly"},{name:"Monthly Programs",value:"monthly"},{name:"Yearly Programs",value:"yearly"},{name:"View All",value:"all"}];return T.jsxs("section",{className:"bg-gradient-to-b from-white to-green-50 px-6 py-16 max-w-5xl mx-auto border-t border-green-200",children:[T.jsxs(Ua.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[T.jsx("p",{className:"uppercase text-green-700 text-sm tracking-wide",children:"Upcoming"}),T.jsx("h2",{className:"text-3xl md:text-4xl font-semibold mt-2 mb-4 text-green-900",children:"Church Programs"}),T.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:"Stay connected and be part of our weekly, monthly, and yearly church programs designed for spiritual growth and fellowship."}),T.jsx("div",{className:"flex flex-wrap justify-center gap-3 mt-8",children:d.map((m,p)=>T.jsx("button",{onClick:()=>e(m.value),className:`px-4 py-2 border text-sm rounded-full font-medium transition ${t===m.value?"bg-green-600 text-white border-green-600 shadow-md":"border-green-300 text-green-800 hover:bg-green-100"}`,children:m.name},p))})]}),a?T.jsx("p",{className:"text-center text-gray-600 mt-8",children:"Loading programs..."}):c.length===0?T.jsx("p",{className:"text-center text-gray-600 mt-8",children:"No programs available for this category yet."}):T.jsx("div",{className:"space-y-6",children:c.map((m,p)=>T.jsxs(Ua.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:p*.1},className:"flex flex-col md:flex-row items-center justify-between bg-white border border-green-100 rounded-xl p-5 shadow-sm hover:shadow-md transition",children:[T.jsxs("div",{className:"flex items-center gap-6",children:[T.jsx("div",{className:"text-center border border-green-200 rounded-md px-3 py-2 bg-green-50",children:T.jsx("p",{className:"text-sm font-semibold text-green-700",children:m.day})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-green-900",children:m.title}),T.jsx("p",{className:"text-green-700 text-sm",children:m.location}),T.jsx("p",{className:"text-gray-700 text-sm mt-2 max-w-lg",children:m.description})]})]}),T.jsx(m5,{date:m.date})]},m.id))})]})},g5=[{name:"Choir Department",image:"https://images.unsplash.com/photo-1581090700227-1e37b190418e?auto=format&fit=crop&w=800&q=60",description:"Leads worship and creates a powerful atmosphere of praise through music."},{name:"Ushering Department",image:"https://images.unsplash.com/photo-1568605114967-8130f3a36994?auto=format&fit=crop&w=800&q=60",description:"Welcomes members warmly and ensures order during services."},{name:"Prayer Department",image:"https://images.unsplash.com/photo-1543269865-cbf427effbad?auto=format&fit=crop&w=800&q=60",description:"Intercedes for the church, congregation, and community needs."},{name:"Media Department",image:"https://images.unsplash.com/photo-1526662092594-e98c1e356d6a?auto=format&fit=crop&w=800&q=60",description:"Handles visuals, sound, and recordings to enhance the worship experience."},{name:"Evangelism Department",image:"https://images.unsplash.com/photo-1551434678-e076c223a692?auto=format&fit=crop&w=800&q=60",description:"Spreads the gospel and reaches out to communities with compassion."}],y5=()=>{const t=V.useRef(null),e=_s(),n=()=>{t.current&&t.current.scrollBy({left:-300,behavior:"smooth"})},s=()=>{t.current&&t.current.scrollBy({left:300,behavior:"smooth"})},a=()=>{e("/departments"),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)};return T.jsx("section",{className:"py-16 bg-[#f9fff9] relative",children:T.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[T.jsx("h2",{className:"text-3xl font-semibold text-center mb-10 text-green-800",children:"Our Departments"}),T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:n,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-green-600 text-white p-3 rounded-full shadow-md opacity-60 hover:opacity-100 transition-opacity duration-300 z-10","aria-label":"Scroll left",children:T.jsx(oN,{size:24})}),T.jsx("div",{ref:t,className:"flex gap-6 overflow-x-auto scroll-smooth px-3",children:g5.map((l,c)=>T.jsxs("div",{className:"w-[250px] flex-none bg-white rounded-xl shadow-md overflow-hidden border border-green-100 hover:border-green-500 transform hover:scale-105 transition-all duration-300",children:[T.jsx("img",{src:l.image,alt:l.name,className:"w-full h-40 object-cover"}),T.jsxs("div",{className:"p-4 text-center",children:[T.jsx("h3",{className:"text-lg font-semibold text-green-700",children:l.name}),T.jsx("p",{className:"text-gray-600 text-sm leading-snug mt-2 break-words text-center",children:l.description})]})]},c))}),T.jsx("button",{onClick:s,className:"absolute right-0 top-1/2 -translate-y-1/2 bg-green-600 text-white p-3 rounded-full shadow-md opacity-60 hover:opacity-100 transition-opacity duration-300 z-10","aria-label":"Scroll right",children:T.jsx(uN,{size:24})})]}),T.jsx("div",{className:"text-center mt-8",children:T.jsx("button",{onClick:a,className:"px-6 py-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition",children:"View More"})})]})})},v5=()=>{const t=[{icon:T.jsx(dN,{size:20}),color:"bg-blue-600 hover:bg-blue-700",link:"#"},{icon:T.jsx(pN,{size:20}),color:"bg-pink-600 hover:bg-pink-700",link:"#"},{icon:T.jsx(RN,{size:20}),color:"bg-sky-500 hover:bg-sky-600",link:"#"},{icon:T.jsx(wN,{size:20}),color:"bg-green-500 hover:bg-green-600",link:"https://wa.me/2340000000000"}];return T.jsx("section",{className:"py-20 bg-gradient-to-b from-white to-[#f3fff5] overflow-hidden",children:T.jsxs(Ua.div,{className:"max-w-6xl mx-auto px-6 flex flex-col md:flex-row items-center gap-10",initial:{opacity:0,y:60},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:1,ease:"easeOut"},children:[T.jsxs(Ua.div,{className:"flex-shrink-0 relative group",whileHover:{scale:1.05},transition:{type:"spring",stiffness:120},children:[T.jsx("img",{src:"/church-website/pastorimage/pastor.jpg",alt:"Pastor John Doe",className:"w-72 h-72 object-cover rounded-2xl shadow-xl border-4 border-green-100"}),T.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-t from-green-700/20 via-green-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),T.jsxs("div",{className:"text-center md:text-left max-w-xl",children:[T.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-3",children:"Meet Our Pastor"}),T.jsx("h3",{className:"text-xl font-semibold text-green-600 mb-4",children:"Pastor John Doe"}),T.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"Pastor John Doe is a dynamic leader with a passion for teaching the Word of God and guiding people to live purpose-driven lives. Under his leadership, our church has grown spiritually and continues to impact the community through love, service, and faith."}),T.jsx(Ua.div,{className:"flex justify-center md:justify-start space-x-4",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},children:t.map((e,n)=>T.jsx(Ua.a,{href:e.link,target:"_blank",rel:"noopener noreferrer",variants:{hidden:{scale:0},visible:{scale:1}},className:`p-3 ${e.color} rounded-full text-white transition-transform transform hover:scale-110 shadow-md`,children:e.icon},n))})]})]})})},_5=()=>{const[t,e]=V.useState({fullName:"",email:"",message:""}),[n,s]=V.useState(!1),a=c=>{e({...t,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault(),s(!0);try{await vL(t),alert("Message sent successfully!"),e({fullName:"",email:"",message:""})}catch(d){console.error(d),alert("Failed to send message.")}finally{s(!1)}};return T.jsxs("section",{id:"contact",className:"pt-20 bg-gradient-to-b from-white to-[#f3fff5] border-t border-green-100",children:[T.jsxs("div",{className:"max-w-6xl mx-auto px-6 md:px-12 grid md:grid-cols-2 gap-12 items-start",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-3",children:"Get in Touch"}),T.jsx("p",{className:"text-gray-600 mb-8",children:"Have a question or want to connect? Fill out the form below and well get back to you soon."}),T.jsxs("form",{className:"space-y-4",onSubmit:l,children:[T.jsx("input",{type:"text",name:"fullName",placeholder:"Full Name",required:!0,value:t.fullName,onChange:a,className:"w-full px-4 py-3 rounded-lg bg-white border border-green-200 focus:outline-none focus:ring-2 focus:ring-green-500 transition"}),T.jsx("input",{type:"email",name:"email",placeholder:"Email Address",required:!0,value:t.email,onChange:a,className:"w-full px-4 py-3 rounded-lg bg-white border border-green-200 focus:outline-none focus:ring-2 focus:ring-green-500 transition"}),T.jsx("textarea",{name:"message",placeholder:"Type your message...",rows:"4",required:!0,value:t.message,onChange:a,className:"w-full px-4 py-3 rounded-lg bg-white border border-green-200 focus:outline-none focus:ring-2 focus:ring-green-500 transition"}),T.jsx("button",{type:"submit",className:"px-8 py-3 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium shadow-md transition",disabled:n,children:n?"Sending...":"Send Message"})]})]}),T.jsxs("div",{className:"space-y-8",children:[T.jsxs("div",{className:"flex items-start space-x-4",children:[T.jsx("div",{className:"p-3 rounded-full bg-green-100",children:T.jsx(yN,{className:"w-5 h-5 text-green-600"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),T.jsx("p",{className:"text-green-800 font-medium",children:"info@church.com"})]})]}),T.jsxs("div",{className:"flex items-start space-x-4",children:[T.jsx("div",{className:"p-3 rounded-full bg-green-100",children:T.jsx(xN,{className:"w-5 h-5 text-green-600"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),T.jsx("p",{className:"text-green-800 font-medium",children:"+234 800 000 0000"})]})]}),T.jsxs("div",{className:"flex items-start space-x-4",children:[T.jsx("div",{className:"p-3 rounded-full bg-green-100",children:T.jsx(_N,{className:"w-5 h-5 text-green-600"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),T.jsx("p",{className:"text-green-800 font-medium",children:"123 Church Avenue, Ogbomoso, Nigeria."}),T.jsx("a",{href:"#",className:"text-green-600 text-sm hover:underline font-medium",children:"Get Directions "})]})]})]})]}),T.jsxs("footer",{className:"py-6 bg-green-700 text-white text-center text-sm mt-8",children:[" ",new Date().getFullYear()," Church Name. All rights reserved. | Built with  by"," ",T.jsx("a",{href:"https://elijah.is-a.dev",target:"_blank",rel:"noopener noreferrer",className:"text-white font-medium text-decoration: underline hover:text-green-900 transition",children:"Ejay"})]})]})},b5=()=>{const[t,e]=V.useState(!1),[n,s]=V.useState(null),a=_s(),l=d=>{if(!d)return null;try{const m=[/youtube\.com\/watch\?v=([\w-]+)/,/youtu\.be\/([\w-]+)/,/youtube\.com\/embed\/([\w-]+)/,/youtube\.com\/live\/([\w-]+)/];for(const p of m){const y=d.match(p);if(y&&y[1])return`https://www.youtube.com/embed/${y[1]}?autoplay=1&mute=1&rel=0&modestbranding=1`}return null}catch(m){return console.error("Invalid YouTube URL:",m),null}};V.useEffect(()=>{(async()=>{try{const m=await l1(),p=l(m)||"https://www.youtube.com/embed/live_stream?channel=YOUR_DEFAULT_CHANNEL_ID&autoplay=1&mute=1&rel=0&modestbranding=1";s(p)}catch(m){console.error("Error loading YouTube link:",m),s("https://www.youtube.com/embed/live_stream?channel=YOUR_DEFAULT_CHANNEL_ID&autoplay=1&mute=1&rel=0&modestbranding=1")}})()},[]);const c=()=>{window.location.pathname!=="/"?a("/"):window.scrollTo({top:0,behavior:"smooth"})};return T.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[T.jsx("header",{className:"fixed top-0 left-0 w-full bg-white shadow-md z-50",children:T.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center h-16 px-6",children:[T.jsx("div",{onClick:c,className:"text-2xl font-semibold italic text-green-700 cursor-pointer",children:"Logo"}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("button",{onClick:c,className:"text-green-800 hover:text-green-600 transition",children:"Home"}),T.jsx("button",{onClick:()=>e(!0),className:"px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition",children:"Donate"})]})]})}),T.jsxs("main",{className:"flex-grow flex flex-col justify-center items-center px-4 pt-28 pb-12 bg-gradient-to-b from-green-50 to-white",children:[T.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-green-800 mb-6 text-center",children:"Watch Our Live Sunday Service"}),T.jsx("p",{className:"text-gray-600 text-center mb-8 max-w-2xl",children:"Join us every Sunday for our live worship experience. Stay connected and be blessed."}),T.jsx("div",{className:"w-full max-w-4xl aspect-video rounded-xl overflow-hidden shadow-lg border border-green-100",children:n?T.jsx("iframe",{className:"w-full h-full",src:n,title:"Church Live Stream",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):T.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Loading live stream..."})})]}),T.jsxs("footer",{className:"py-6 bg-green-700 text-white text-center text-sm mt-8",children:[" ",new Date().getFullYear()," Church Name. All rights reserved. | Built with  by"," ",T.jsx("a",{href:"https://elijah.is-a.dev",target:"_blank",rel:"noopener noreferrer",className:"text-white font-medium underline hover:text-green-900 transition",children:"Ejay"})]}),T.jsx(f1,{isOpen:t,onClose:()=>e(!1)})]})},T5=[{title:"Royal Media",desc:"We keep records of sermons and events in Church..."},{title:"Royal Ambassador (RA)",desc:"Group of males aged 924 who respond to the Lords command..."},{title:"Girls Auxiliary (GA)",desc:"Helps girls grow in their spiritual development..."},{title:"Interpreters Unit",desc:"Handles interpretation of sermons and church materials..."},{title:"Teenagers Section",desc:"Guides teens in academics, faith, and leadership..."},{title:"Children Section",desc:"Caters for over 200 children under trained teachers..."},{title:"Freshers Unit",desc:"Welcomes new students into the church family..."},{title:"Visitation Unit",desc:"Visits and encourages the sick, aged, and needy..."},{title:"Cleaning Unit",desc:"Responsible for cleaning the church every Saturday..."},{title:"Ushering Department",desc:"Ensures order and hospitality during worship services..."},{title:"Prayer Unit",desc:"Intercedes for members, church leaders, and community..."},{title:"Press and Publicity",desc:"Handles announcements, design, and church publications..."},{title:"Decorating Unit",desc:"Beautifies the church using creativity and decor..."},{title:"Lydia Auxiliary",desc:"Supports young women in ministry and personal growth..."},{title:"Pulpit Ministry",desc:"Trains members to preach and teach effectively..."},{title:"Library Unit",desc:"Provides educational resources and promotes reading..."},{title:"Sunday School",desc:"Teaches the Word of God and biblical understanding..."},{title:"Reading Club",desc:"Encourages spiritual and leadership growth through reading..."},{title:"Choir Unit",desc:"Leads worship and trains members in musical excellence..."},{title:"Youth Department",desc:"Organizes productive programs for youths..."},{title:"Mission & Evangelism",desc:"Spreads the gospel and organizes outreach programs..."},{title:"Education Department",desc:"Oversees Bible teaching and discipleship training..."},{title:"Men Missionary Union",desc:"Equips men for godly living and leadership..."},{title:"Women Missionary Union",desc:"Promotes Christian missions and womens discipleship..."}],E5=()=>{const t=_s(),e=()=>{t("/"),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)};return T.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white flex flex-col",children:[T.jsx("header",{className:"bg-white shadow-md py-4 sticky top-0 z-40",children:T.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex justify-between items-center",children:[T.jsx("button",{onClick:e,className:"text-2xl font-semibold italic text-green-700 focus:outline-none",children:"Logo"}),T.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition",children:"Back Home"})]})}),T.jsxs("main",{className:"flex-grow max-w-6xl mx-auto px-4 py-12",children:[T.jsx("h1",{className:"text-4xl font-bold text-center text-green-800 mb-10",children:"Units in Church"}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:T5.map((n,s)=>T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-green-100 hover:border-green-400 transition transform hover:scale-[1.02]",children:[T.jsx("h3",{className:"text-xl font-semibold text-green-700 mb-2",children:n.title}),T.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n.desc})]},s))}),T.jsxs("div",{className:"mt-16 text-center",children:[T.jsx("h2",{className:"text-2xl font-semibold text-green-800 mb-6",children:"How to Join"}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-5 gap-4 text-gray-700",children:[T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-green-700 mb-1",children:"STEP 1:"}),T.jsx("p",{children:"Must be Born Again"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-green-700 mb-1",children:"STEP 2:"}),T.jsx("p",{children:"Be a committed member of the Church"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-green-700 mb-1",children:"STEP 3:"}),T.jsx("p",{children:"Must desire to work with God in a department"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-green-700 mb-1",children:"STEP 4:"}),T.jsx("p",{children:"Enroll for BBG Discipleship Programme"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-green-700 mb-1",children:"STEP 5:"}),T.jsx("p",{children:"Contact the leaders in chosen department"})]})]})]})]}),T.jsxs("footer",{className:"py-6 bg-green-700 text-white text-center text-sm mt-8",children:[" ",new Date().getFullYear()," Church Name. All rights reserved. | Built with  by"," ",T.jsx("a",{href:"https://elijah.is-a.dev",target:"_blank",rel:"noopener noreferrer",className:"text-white font-medium text-decoration: underline hover:text-green-900 transition",children:"Ejay"})]})]})},w5=()=>{const t=_s(),[e,n]=V.useState(null),[s,a]=V.useState([]),[l,c]=V.useState("#"),[d,m]=V.useState([]),[p,y]=V.useState([]);V.useEffect(()=>{(async()=>{try{const U=await u1(),H=await c1(),K=await h1();a(U?.sermons||[]),c(U?.viewMoreUrl||"#"),m(H||[]),y(K||[])}catch(U){console.error("Error loading resources:",U),a([]),m([]),y([])}})()},[]);const _=()=>{t("/"),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)},w=N=>n(N),R=()=>n(null),O=N=>{if(!N||typeof N!="string")return null;try{const U=[/youtu\.be\/([^?]+)/,/v=([^&]+)/,/embed\/([^?]+)/];for(const H of U){const K=N.match(H);if(K&&K[1])return K[1]}return null}catch(U){return console.error("Error parsing YouTube ID:",U),null}},z=(N,U)=>{if(U)return U;const H=O(N);return H?`https://img.youtube.com/vi/${H}/hqdefault.jpg`:"https://via.placeholder.com/480x360?text=No+Thumbnail"};return T.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white flex flex-col text-sm md:text-base overflow-x-hidden",children:[T.jsx("header",{className:"bg-white shadow-md py-4 sticky top-0 z-40 w-full",children:T.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex justify-between items-center",children:[T.jsx("button",{onClick:_,className:"text-xl sm:text-2xl font-semibold italic text-green-700",children:"Logo"}),T.jsx("button",{onClick:_,className:"px-3 sm:px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition text-xs sm:text-sm",children:"Back Home"})]})}),T.jsxs("section",{className:"relative h-48 sm:h-64 md:h-80 bg-green-900 text-white flex items-center justify-center",children:[T.jsx("div",{className:"absolute inset-0",children:T.jsx("img",{src:"/church-website/heroimages/hero3.jpg",alt:"Resources Banner",className:"w-full h-full object-cover opacity-60"})}),T.jsxs("div",{className:"relative z-10 text-center px-3 sm:px-4",children:[T.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-2",children:"Resources"}),T.jsx("p",{className:"text-green-100 max-w-2xl mx-auto text-xs sm:text-sm md:text-base",children:"Explore sermons and ebooks to grow in faith and understanding."})]})]}),T.jsxs("main",{className:"flex-grow max-w-6xl mx-auto px-3 py-6 md:py-10 w-full",children:[T.jsxs("section",{id:"sermons",className:"mb-10",children:[T.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-green-800 mb-2 border-l-4 border-green-600 pl-2",children:"Sermons"}),T.jsx("p",{className:"text-gray-700 mb-3 text-xs sm:text-sm",children:"Watch inspiring sermons that strengthen your faith and deepen your walk with God."}),s.length>0?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"flex overflow-x-auto space-x-3 pb-2 scrollbar-thin scrollbar-thumb-green-600 scrollbar-track-green-100",children:s.map((N,U)=>T.jsxs("div",{className:"flex-none w-48 sm:w-60 bg-white rounded-md shadow-sm overflow-hidden border border-green-100 hover:shadow-md transition",children:[T.jsx("a",{href:N.youtubeLink,target:"_blank",rel:"noopener noreferrer",children:T.jsx("img",{src:z(N.youtubeLink,N.thumbnail),alt:N.title,className:"w-full h-28 sm:h-32 object-cover"})}),T.jsxs("div",{className:"p-2 text-center",children:[T.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-green-800 mb-1 truncate",children:N.title}),T.jsx("a",{href:N.youtubeLink,target:"_blank",rel:"noopener noreferrer",className:"text-green-700 text-xs hover:underline",children:"Watch on YouTube"})]})]},U))}),T.jsx("div",{className:"text-center mt-6",children:T.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-4 py-2 bg-green-700 text-white text-xs sm:text-sm rounded-md hover:bg-green-800 transition",children:"View More"})})]}):T.jsx("p",{className:"text-gray-500 text-center mt-4 text-sm",children:"No sermons available yet."})]}),T.jsxs("section",{id:"ebooks",children:[T.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-green-800 mb-3 border-l-4 border-green-600 pl-2",children:"Ebooks"}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-semibold text-green-700 mb-2",children:"Free Ebooks"}),d.length>0?T.jsx("div",{className:"flex overflow-x-auto space-x-3 pb-2 scrollbar-thin scrollbar-thumb-green-600 scrollbar-track-green-100",children:d.map((N,U)=>T.jsxs("div",{className:"flex-none w-36 sm:w-44 bg-white rounded-md shadow-sm border border-green-100 hover:shadow-md transition text-center",children:[T.jsx("img",{src:N.imageLink,alt:N.title,className:"w-full h-32 sm:h-36 object-cover"}),T.jsxs("div",{className:"p-2",children:[T.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-green-800 mb-1 truncate",children:N.title}),T.jsx("a",{href:N.downloadLink.startsWith("http")?N.downloadLink:`https://${N.downloadLink}`,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-2 py-1 bg-green-700 text-white text-xs rounded-md hover:bg-green-800 transition",children:"Download"})]})]},U))}):T.jsx("p",{className:"text-gray-500 text-center text-sm",children:"No free ebooks available yet."})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-semibold text-green-700 mb-2",children:"Premium Ebooks"}),p.length>0?T.jsx("div",{className:"flex overflow-x-auto space-x-3 pb-2 scrollbar-thin scrollbar-thumb-green-600 scrollbar-track-green-100",children:p.map((N,U)=>T.jsxs("div",{className:"flex-none w-36 sm:w-44 bg-white rounded-md shadow-sm border border-green-100 hover:shadow-md transition text-center",children:[T.jsx("img",{src:N.imageLink,alt:N.title,className:"w-full h-32 sm:h-36 object-cover"}),T.jsxs("div",{className:"p-2",children:[T.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-green-800 mb-1 truncate",children:N.title}),T.jsxs("p",{className:"text-green-700 font-medium text-xs sm:text-sm mb-1",children:["",N.price]}),T.jsx("button",{onClick:()=>w(N),className:"inline-block px-2 py-1 bg-green-700 text-white text-xs rounded-md hover:bg-green-800 transition",children:"Buy Now"})]})]},U))}):T.jsx("p",{className:"text-gray-500 text-center text-sm",children:"No premium ebooks available yet."})]})]})]}),e&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 px-3",children:T.jsxs("div",{className:"bg-white rounded-md shadow-lg max-w-sm w-full p-4 text-center relative",children:[T.jsx("h3",{className:"text-green-800 text-lg font-semibold mb-2",children:"Purchase Ebook"}),T.jsxs("p",{className:"text-gray-700 text-sm mb-4",children:["Youre about to purchase"," ",T.jsx("span",{className:"font-medium",children:e.title})," for"," ",T.jsxs("span",{className:"text-green-700 font-semibold",children:["",e.price]}),"."]}),T.jsx("button",{className:"w-full bg-green-700 text-white py-2 rounded-md hover:bg-green-800 transition text-sm",onClick:()=>{alert(`Proceeding to payment for ${e.title} (${e.price}).`)},children:"Proceed to Payment"}),T.jsx("button",{onClick:R,className:"mt-2 text-xs text-gray-500 hover:text-gray-700",children:"Cancel"})]})}),T.jsxs("footer",{className:"py-6 bg-green-700 text-white text-center text-xs sm:text-sm mt-8",children:[" ",new Date().getFullYear()," Church Name. All rights reserved. | Built with  by"," ",T.jsx("a",{href:"https://elijah.is-a.dev",target:"_blank",rel:"noopener noreferrer",className:"text-white font-medium underline hover:text-green-900 transition",children:"Ejay"})]})]})},S5=()=>{const[t,e]=V.useState(""),[n,s]=V.useState(""),[a,l]=V.useState(""),c=_s(),d=async m=>{m.preventDefault(),l("");try{await uV(jg,t,n),c("/admin-dashboard")}catch(p){l("Invalid email or password"),console.error(p)}};return T.jsx("div",{className:"flex justify-center items-center min-h-screen bg-green-50 px-4 sm:px-6 md:px-8",children:T.jsxs("form",{onSubmit:d,className:"bg-white shadow-lg rounded-2xl p-6 sm:p-8 w-full max-w-md border border-green-100",children:[T.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-green-800 text-center mb-6",children:"Admin Login"}),a&&T.jsx("p",{className:"text-red-600 text-sm text-center mb-4",children:a}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),T.jsx("input",{type:"email",value:t,onChange:m=>e(m.target.value),required:!0,className:"w-full border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none text-sm sm:text-base"})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),T.jsx("input",{type:"password",value:n,onChange:m=>s(m.target.value),required:!0,className:"w-full border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none text-sm sm:text-base"})]}),T.jsx("button",{type:"submit",className:"w-full bg-green-700 hover:bg-green-800 text-white font-medium py-2 rounded-md transition text-sm sm:text-base",children:"Login"})]})})},qR=V.createContext(),x5=()=>V.useContext(qR),A5=({children:t})=>{const[e,n]=V.useState(null),[s,a]=V.useState(!0),l=_s();V.useEffect(()=>fV(jg,m=>{n(m),a(!1)}),[]);const c=async()=>{await dV(jg),n(null),l("/admin-login")};return T.jsx(qR.Provider,{value:{currentUser:e,logout:c},children:!s&&t})},R5=()=>{const[t,e]=V.useState({building:{accountName:"",accountNumber:"",bank:""},mission:{accountName:"",accountNumber:"",bank:""},tithe:{accountName:"",accountNumber:"",bank:""},care:{accountName:"",accountNumber:"",bank:""}}),[n,s]=V.useState([]),[a,l]=V.useState({category:"weekly",date:"",day:"",title:"",location:"",description:""}),[c,d]=V.useState(""),[m,p]=V.useState(null),[y,_]=V.useState([]),[w,R]=V.useState(!0),[O,z]=V.useState(!1),[N,U]=V.useState(!1),[H,K]=V.useState(!1),[le,ae]=V.useState(!1),[ce,I]=V.useState(!1),[A,C]=V.useState(!1),[k,P]=V.useState(!1),[B,D]=V.useState(!1),{logout:je}=x5(),[Ke,Z]=V.useState([]),[re,fe]=V.useState("https://www.youtube.com/@yourchurchchannel"),[ye,Ce]=V.useState({title:"",youtubeLink:"",thumbnail:""}),[L,te]=V.useState(null),[he,de]=V.useState([]),[be,Re]=V.useState({title:"",imageLink:"",downloadLink:""}),[Me,yt]=V.useState(null),[rt,Qn]=V.useState([]),[Jt,Xn]=V.useState({title:"",imageLink:"",price:""}),[wn,Sn]=V.useState(null),[tr,Wn]=V.useState(!1),[Bi,xn]=V.useState(!1),[Et,wt]=V.useState(!1),[Zn,Ol]=V.useState(!1);V.useEffect(()=>{(async()=>{try{const[oe,pe,lt,zi]=await Promise.all([o1(),fL(),l1(),yL()]);oe&&e(oe),pe&&s(pe),lt&&d(lt),zi&&_(zi);const en=await u1();en&&(Array.isArray(en.sermons)&&Z(en.sermons),en.viewMoreUrl&&fe(en.viewMoreUrl));const An=await c1();An&&de(An);const _t=await h1();_t&&Qn(_t)}catch(oe){console.error("Error loading dashboard data:",oe)}finally{R(!1)}})()},[]);const to=W=>{if(!W)return null;const oe=W.match(/(?:v=|\/)([0-9A-Za-z_-]{11})/);return oe?oe[1]:null},Ht=(W,oe)=>{if(oe)return oe;const pe=to(W);return pe?`https://img.youtube.com/vi/${pe}/hqdefault.jpg`:""},Es=(W,oe,pe)=>{const lt=W.target.value;e(zi=>({...zi,[oe]:{...zi[oe],[pe]:lt}}))},ra=async W=>{W.preventDefault(),z(!0);try{await hL(t),alert("Bank details updated successfully!")}catch(oe){console.error(oe),alert("Failed to update bank details")}finally{z(!1)}},aa=async W=>{W.preventDefault(),ae(!0);try{await gL(c),alert("YouTube link updated successfully!")}catch(oe){console.error(oe),alert("Failed to update YouTube link")}finally{ae(!1)}},_n=W=>{const{name:oe,value:pe}=W.target;l(lt=>({...lt,[oe]:pe}))},Pl=async W=>{W.preventDefault(),U(!0);try{const oe=await dL(a);s(pe=>[...pe,{id:oe,...a}]),alert("Program added successfully!"),l({category:"weekly",date:"",day:"",title:"",location:"",description:""})}catch(oe){console.error(oe),alert("Failed to add program")}finally{U(!1)}},no=W=>{p(W.id),l(W),window.scrollTo({top:0,behavior:"smooth"})},io=async W=>{if(W.preventDefault(),!!m){K(!0);try{await mL(m,a),s(oe=>oe.map(pe=>pe.id===m?{id:m,...a}:pe)),alert("Program updated successfully!"),p(null),l({category:"weekly",date:"",day:"",title:"",location:"",description:""})}catch(oe){console.error(oe),alert("Failed to update program")}finally{K(!1)}}},so=async W=>{if(window.confirm("Delete this program?"))try{await pL(W),s(oe=>oe.filter(pe=>pe.id!==W))}catch(oe){console.error(oe)}},Ln=async W=>{try{await _L(W),_(oe=>oe.map(pe=>pe.id===W?{...pe,read:!0}:pe))}catch(oe){console.error(oe)}},qt=async W=>{if(window.confirm("Delete this message?"))try{await bL(W),_(oe=>oe.filter(pe=>pe.id!==W))}catch(oe){console.error(oe)}},fn=W=>{const{name:oe,value:pe}=W.target;Ce(lt=>({...lt,[oe]:pe}))},vt=async W=>{if(W.preventDefault(),!ye.title||!ye.youtubeLink)return alert("Title and YouTube link are required.");Wn(!0);try{const oe=await TL({title:ye.title,youtubeLink:ye.youtubeLink,thumbnail:ye.thumbnail||Ht(ye.youtubeLink)});Z(pe=>[...pe,{id:oe,title:ye.title,youtubeLink:ye.youtubeLink,thumbnail:ye.thumbnail}]),Ce({title:"",youtubeLink:"",thumbnail:""}),alert("Sermon added successfully!")}catch(oe){console.error(oe),alert("Failed to add sermon")}finally{Wn(!1)}},ro=W=>{te(W.id),Ce({title:W.title||"",youtubeLink:W.youtubeLink||"",thumbnail:W.thumbnail||""}),window.scrollTo({top:0,behavior:"smooth"})},nr=async W=>{if(W.preventDefault(),!!L){Wn(!0);try{const oe={title:ye.title,youtubeLink:ye.youtubeLink,thumbnail:ye.thumbnail||Ht(ye.youtubeLink)};await EL(L,oe),Z(pe=>pe.map(lt=>lt.id===L?{id:L,...oe}:lt)),te(null),Ce({title:"",youtubeLink:"",thumbnail:""}),alert("Sermon updated!")}catch(oe){console.error(oe),alert("Failed to update sermon")}finally{Wn(!1)}}},ao=async W=>{if(window.confirm("Delete this sermon?"))try{await wL(W),Z(oe=>oe.filter(pe=>pe.id!==W))}catch(oe){console.error(oe)}},Jn=async W=>{W.preventDefault(),wt(!0);try{await SL(re),alert("View more YouTube link saved!")}catch(oe){console.error(oe),alert("Failed to save view more link")}finally{wt(!1)}},Si=W=>{const{name:oe,value:pe}=W.target;Re(lt=>({...lt,[oe]:pe}))},St=async W=>{if(W.preventDefault(),!be.title||!be.imageLink||!be.downloadLink)return alert("All fields required for free ebook.");xn(!0);try{const oe=await xL(be);de(pe=>[...pe,{id:oe,...be}]),Re({title:"",imageLink:"",downloadLink:""}),alert("Free ebook added!")}catch(oe){console.error(oe),alert("Failed to add free ebook")}finally{xn(!1)}},ei=W=>{yt(W.id),Re({title:W.title||"",imageLink:W.imageLink||"",downloadLink:W.downloadLink||""}),window.scrollTo({top:0,behavior:"smooth"})},ti=async W=>{if(W.preventDefault(),!!Me){xn(!0);try{await AL(Me,be),de(oe=>oe.map(pe=>pe.id===Me?{id:Me,...be}:pe)),yt(null),Re({title:"",imageLink:"",downloadLink:""}),alert("Free ebook updated!")}catch(oe){console.error(oe),alert("Failed to update free ebook")}finally{xn(!1)}}},jn=async W=>{if(window.confirm("Delete this free ebook?"))try{await RL(W),de(oe=>oe.filter(pe=>pe.id!==W))}catch(oe){console.error(oe)}},oa=W=>{const{name:oe,value:pe}=W.target;Xn(lt=>({...lt,[oe]:pe}))},oo=async W=>{if(W.preventDefault(),!Jt.title||!Jt.imageLink||!Jt.price)return alert("All fields required for premium ebook.");xn(!0);try{const oe=await CL(Jt);Qn(pe=>[...pe,{id:oe,...Jt}]),Xn({title:"",imageLink:"",price:""}),alert("Premium ebook added!")}catch(oe){console.error(oe),alert("Failed to add premium ebook")}finally{xn(!1)}},ni=W=>{Sn(W.id),Xn({title:W.title||"",imageLink:W.imageLink||"",price:W.price||""}),window.scrollTo({top:0,behavior:"smooth"})},ws=async W=>{if(W.preventDefault(),!!wn){xn(!0);try{await IL(wn,Jt),Qn(oe=>oe.map(pe=>pe.id===wn?{id:wn,...Jt}:pe)),Sn(null),Xn({title:"",imageLink:"",price:""}),alert("Premium ebook updated!")}catch(oe){console.error(oe),alert("Failed to update premium ebook")}finally{xn(!1)}}},kl=async W=>{if(window.confirm("Delete this premium ebook?"))try{await NL(W),Qn(oe=>oe.filter(pe=>pe.id!==W))}catch(oe){console.error(oe)}};if(w)return T.jsx("div",{className:"min-h-screen flex items-center justify-center text-green-700",children:"Loading dashboard..."});const Ss={weekly:n.filter(W=>W.category==="weekly"),monthly:n.filter(W=>W.category==="monthly"),yearly:n.filter(W=>W.category==="yearly")};return T.jsx("div",{className:"min-h-screen bg-white flex flex-col items-center py-8 px-3 sm:px-6 md:px-10",children:T.jsxs("div",{className:"w-full max-w-6xl bg-green-50 shadow-lg rounded-2xl p-4 sm:p-8 border border-green-100",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-3 text-center sm:text-left",children:[T.jsx("h1",{className:"text-2xl font-semibold text-green-800",children:"Admin Dashboard "}),T.jsx("button",{onClick:je,className:"bg-red-600 hover:bg-red-700 text-white px-5 py-2 rounded-md w-full sm:w-auto transition",children:"Logout"})]}),T.jsxs("div",{className:"mb-8",children:[T.jsxs("button",{onClick:()=>I(!ce),className:"w-full flex justify-between items-center bg-green-700 text-white px-4 py-3 rounded-md text-base sm:text-lg",children:[T.jsx("span",{className:"font-semibold",children:"Donation Bank Details"}),T.jsx("span",{children:ce?"":"+"})]}),ce&&T.jsxs("form",{onSubmit:ra,className:"space-y-8 bg-white border border-green-100 rounded-lg shadow p-4 sm:p-6 mt-4",children:[Object.keys(t).map(W=>T.jsxs("div",{className:"p-5 border border-green-100 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-semibold text-green-700 mb-4 capitalize",children:W==="tithe"?"Tithe, Offerings & Seeds":W==="mission"?"Mission Offerings":W==="building"?"Building Project":"Care Ministry"}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:["accountName","accountNumber","bank"].map(oe=>T.jsx("input",{type:"text",placeholder:oe.replace("account","Account "),value:t[W][oe],onChange:pe=>Es(pe,W,oe),className:"border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none w-full"},oe))})]},W)),T.jsx("div",{className:"flex justify-center",children:T.jsx("button",{type:"submit",disabled:O,className:`w-full sm:w-auto px-8 py-3 rounded-full text-white transition ${O?"bg-green-400 cursor-not-allowed":"bg-green-700 hover:bg-green-800"}`,children:O?"Saving...":"Save Bank Details"})})]})]}),T.jsxs("div",{className:"mb-8",children:[T.jsxs("button",{onClick:()=>P(!k),className:"w-full flex justify-between items-center bg-green-700 text-white px-4 py-3 rounded-md text-base sm:text-lg",children:[T.jsx("span",{className:"font-semibold",children:"YouTube Live Link"}),T.jsx("span",{children:k?"":"+"})]}),k&&T.jsxs("form",{onSubmit:aa,className:"bg-white border border-green-100 rounded-lg shadow p-4 sm:p-6 mt-4",children:[T.jsx("input",{type:"text",placeholder:"Enter YouTube live embed link",value:c,onChange:W=>d(W.target.value),className:"w-full border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none mb-4"}),T.jsx("div",{className:"flex justify-center",children:T.jsx("button",{type:"submit",disabled:le,className:`w-full sm:w-auto px-8 py-3 rounded-full text-white transition ${le?"bg-green-400 cursor-not-allowed":"bg-green-700 hover:bg-green-800"}`,children:le?"Saving...":"Save YouTube Link"})})]})]}),T.jsxs("div",{className:"mb-8",children:[T.jsxs("button",{onClick:()=>C(!A),className:"w-full flex justify-between items-center bg-green-700 text-white px-4 py-3 rounded-md text-base sm:text-lg",children:[T.jsx("span",{className:"font-semibold",children:"Programs"}),T.jsx("span",{children:A?"":"+"})]}),A&&T.jsxs("div",{className:"mt-4 bg-white border border-green-100 rounded-lg shadow p-4 sm:p-6",children:[T.jsxs("form",{onSubmit:m?io:Pl,className:"space-y-6 mb-8",children:[T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[T.jsxs("select",{name:"category",value:a.category,onChange:_n,className:"border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none w-full",children:[T.jsx("option",{value:"weekly",children:"Weekly"}),T.jsx("option",{value:"monthly",children:"Monthly"}),T.jsx("option",{value:"yearly",children:"Yearly"})]}),T.jsx("input",{type:"datetime-local",name:"date",value:a.date,onChange:_n,className:"border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none w-full"}),T.jsx("input",{type:"text",name:"day",placeholder:"e.g. Sun 9:00 AM",value:a.day,onChange:_n,className:"border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none w-full"}),T.jsx("input",{type:"text",name:"title",placeholder:"Program Title",value:a.title,onChange:_n,className:"border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none w-full"}),T.jsx("input",{type:"text",name:"location",placeholder:"Location",value:a.location,onChange:_n,className:"border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none w-full"}),T.jsx("textarea",{name:"description",rows:"3",placeholder:"Brief description...",value:a.description,onChange:_n,className:"md:col-span-3 border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none resize-none w-full"})]}),T.jsx("div",{className:"flex justify-center",children:T.jsx("button",{type:"submit",disabled:N||H,className:`w-full sm:w-auto px-8 py-3 rounded-full text-white transition ${N||H?"bg-green-400 cursor-not-allowed":"bg-green-700 hover:bg-green-800"}`,children:m?H?"Updating...":"Update Program":N?"Adding...":"Add Program"})})]}),Object.entries(Ss).map(([W,oe])=>T.jsxs("div",{className:"mb-8",children:[T.jsxs("h3",{className:"text-lg font-semibold text-green-800 capitalize mb-3 border-b border-green-200 pb-1",children:[W," Programs"]}),oe.length===0?T.jsxs("p",{className:"text-gray-500 italic text-sm",children:["No ",W," programs yet."]}):T.jsx("div",{className:"grid gap-4",children:oe.map(pe=>T.jsxs("div",{className:"bg-white border border-green-100 rounded-lg p-4 shadow-sm flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 break-words",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"font-semibold text-green-800",children:pe.title}),T.jsx("p",{className:"text-sm text-gray-600",children:pe.day}),T.jsx("p",{className:"text-sm text-gray-600",children:pe.location}),T.jsx("p",{className:"text-sm text-gray-700 mt-1 break-words",children:pe.description})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[T.jsx("button",{onClick:()=>no(pe),className:"px-3 py-2 rounded bg-green-600 text-white text-sm hover:bg-green-700 w-full sm:w-auto",children:"Edit"}),T.jsx("button",{onClick:()=>so(pe.id),className:"px-3 py-2 rounded bg-red-600 text-white text-sm hover:bg-red-700 w-full sm:w-auto",children:"Delete"})]})]},pe.id))})]},W))]})]}),T.jsxs("div",{className:"mb-8",children:[T.jsxs("button",{onClick:()=>Ol(!Zn),className:"w-full flex justify-between items-center bg-green-700 text-white px-4 py-3 rounded-md text-base sm:text-lg",children:[T.jsx("span",{className:"font-semibold",children:"Resources (Sermons & Ebooks)"}),T.jsx("span",{children:Zn?"":"+"})]}),Zn&&T.jsxs("div",{className:"mt-4 bg-white border border-green-100 rounded-lg shadow p-4 sm:p-6 space-y-6",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"Sermon Videos"}),T.jsxs("form",{onSubmit:L?nr:vt,className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-4",children:[T.jsx("input",{type:"text",name:"title",placeholder:"Title",value:ye.title,onChange:fn,className:"border border-green-200 rounded-md px-3 py-2 outline-none w-full md:col-span-1"}),T.jsx("input",{type:"text",name:"youtubeLink",placeholder:"YouTube Link",value:ye.youtubeLink,onChange:fn,className:"border border-green-200 rounded-md px-3 py-2 outline-none w-full md:col-span-2"}),T.jsx("input",{type:"text",name:"thumbnail",placeholder:"Thumbnail URL (optional)",value:ye.thumbnail,onChange:fn,className:"border border-green-200 rounded-md px-3 py-2 outline-none w-full"}),T.jsxs("div",{className:"md:col-span-4 flex gap-2",children:[T.jsx("button",{type:"submit",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 transition",children:L?tr?"Updating...":"Update Sermon":tr?"Adding...":"Add Sermon"}),L&&T.jsx("button",{type:"button",onClick:()=>{te(null),Ce({title:"",youtubeLink:"",thumbnail:""})},className:"bg-gray-300 text-black px-4 py-2 rounded hover:bg-gray-400 transition",children:"Cancel Edit"})]})]}),T.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Ke.length===0?T.jsx("p",{className:"text-gray-500 italic",children:"No sermons added yet."}):Ke.map(W=>T.jsxs("div",{className:"border rounded p-3 flex gap-3 items-start",children:[T.jsx("img",{src:Ht(W.youtubeLink,W.thumbnail),alt:W.title,className:"w-32 h-20 object-cover rounded"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"font-semibold text-green-800",children:W.title}),T.jsx("p",{className:"text-xs text-gray-600 break-words",children:W.youtubeLink}),T.jsxs("div",{className:"mt-2 flex gap-2",children:[T.jsx("button",{onClick:()=>ro(W),className:"px-3 py-1 rounded bg-green-600 text-white hover:bg-green-700",children:"Edit"}),T.jsx("button",{onClick:()=>ao(W.id),className:"px-3 py-1 rounded bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})]},W.id))}),T.jsxs("div",{className:"mt-4",children:[T.jsx("h4",{className:"font-semibold mb-2",children:'"View More" Link (channel or playlist)'}),T.jsxs("form",{onSubmit:Jn,className:"flex gap-2",children:[T.jsx("input",{type:"text",placeholder:"Channel or playlist URL",value:re,onChange:W=>fe(W.target.value),className:"flex-1 border border-green-200 rounded-md px-3 py-2 outline-none"}),T.jsx("button",{type:"submit",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 transition",children:Et?"Saving...":"Save"})]})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"Ebooks"}),T.jsxs("div",{className:"mb-6",children:[T.jsx("h4",{className:"font-semibold mb-2",children:"Add / Edit Free Ebook"}),T.jsxs("form",{onSubmit:Me?ti:St,className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-4",children:[T.jsx("input",{type:"text",name:"title",placeholder:"Title",value:be.title,onChange:Si,className:"border border-green-200 rounded-md px-3 py-2 outline-none"}),T.jsx("input",{type:"text",name:"imageLink",placeholder:"Image URL",value:be.imageLink,onChange:Si,className:"border border-green-200 rounded-md px-3 py-2 outline-none"}),T.jsx("input",{type:"text",name:"downloadLink",placeholder:"Download Link",value:be.downloadLink,onChange:Si,className:"border border-green-200 rounded-md px-3 py-2 outline-none"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{type:"submit",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 transition",children:Me?Bi?"Updating...":"Update Free Ebook":Bi?"Adding...":"Add Free Ebook"}),Me&&T.jsx("button",{type:"button",onClick:()=>{yt(null),Re({title:"",imageLink:"",downloadLink:""})},className:"bg-gray-300 text-black px-4 py-2 rounded hover:bg-gray-400 transition",children:"Cancel Edit"})]})]}),T.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:he.length===0?T.jsx("p",{className:"text-gray-500 italic",children:"No free ebooks yet."}):he.map(W=>T.jsxs("div",{className:"border rounded p-3",children:[T.jsx("img",{src:W.imageLink,alt:W.title,className:"w-full h-40 object-cover rounded mb-2"}),T.jsx("p",{className:"font-semibold",children:W.title}),T.jsx("a",{href:W.downloadLink,target:"_blank",rel:"noreferrer",className:"text-green-600 text-sm",children:"Download"}),T.jsxs("div",{className:"mt-2 flex gap-2",children:[T.jsx("button",{onClick:()=>ei(W),className:"px-3 py-1 rounded bg-green-600 text-white hover:bg-green-700",children:"Edit"}),T.jsx("button",{onClick:()=>jn(W.id),className:"px-3 py-1 rounded bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]},W.id))})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-semibold mb-2",children:"Add / Edit Premium Ebook"}),T.jsxs("form",{onSubmit:wn?ws:oo,className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-4",children:[T.jsx("input",{type:"text",name:"title",placeholder:"Title",value:Jt.title,onChange:oa,className:"border border-green-200 rounded-md px-3 py-2 outline-none"}),T.jsx("input",{type:"text",name:"imageLink",placeholder:"Image URL",value:Jt.imageLink,onChange:oa,className:"border border-green-200 rounded-md px-3 py-2 outline-none"}),T.jsx("input",{type:"text",name:"price",placeholder:"Price ()",value:Jt.price,onChange:oa,className:"border border-green-200 rounded-md px-3 py-2 outline-none"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{type:"submit",className:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 transition",children:wn?Bi?"Updating...":"Update Premium Ebook":Bi?"Adding...":"Add Premium Ebook"}),wn&&T.jsx("button",{type:"button",onClick:()=>{Sn(null),Xn({title:"",imageLink:"",price:""})},className:"bg-gray-300 text-black px-4 py-2 rounded hover:bg-gray-400 transition",children:"Cancel Edit"})]})]}),T.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:rt.length===0?T.jsx("p",{className:"text-gray-500 italic",children:"No premium ebooks yet."}):rt.map(W=>T.jsxs("div",{className:"border rounded p-3",children:[T.jsx("img",{src:W.imageLink,alt:W.title,className:"w-full h-40 object-cover rounded mb-2"}),T.jsx("p",{className:"font-semibold",children:W.title}),T.jsx("p",{className:"text-green-700 font-medium",children:W.price}),T.jsxs("div",{className:"mt-2 flex gap-2",children:[T.jsx("button",{onClick:()=>ni(W),className:"px-3 py-1 rounded bg-green-600 text-white hover:bg-green-700",children:"Edit"}),T.jsx("button",{onClick:()=>kl(W.id),className:"px-3 py-1 rounded bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]},W.id))})]})]})]})]}),T.jsxs("div",{className:"mb-8",children:[T.jsxs("button",{onClick:()=>D(!B),className:"w-full flex justify-between items-center bg-green-700 text-white px-4 py-3 rounded-md text-base sm:text-lg",children:[T.jsx("span",{className:"font-semibold",children:"Contact Messages"}),T.jsx("span",{children:B?"":"+"})]}),B&&T.jsx("div",{className:"mt-4 bg-white border border-green-100 rounded-lg shadow p-4 sm:p-6 overflow-x-auto",children:y.length===0?T.jsx("p",{className:"text-gray-500 italic text-sm",children:"No messages yet."}):T.jsx("div",{className:"space-y-4",children:y.map(W=>T.jsxs("div",{className:`border p-3 rounded-md shadow-sm flex flex-col sm:flex-row justify-between items-start gap-3 ${W.read?"bg-gray-50":"bg-green-50"}`,children:[T.jsxs("div",{className:"break-words",children:[T.jsx("p",{className:"font-semibold text-green-800",children:W.fullName}),T.jsx("p",{className:"text-sm text-gray-600",children:W.email}),T.jsx("p",{className:"text-sm text-gray-700 mt-2",children:W.message}),T.jsx("p",{className:"text-xs text-gray-500 mt-1",children:W.timestamp?new Date(W.timestamp.seconds*1e3).toLocaleString():""})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[!W.read&&T.jsx("button",{onClick:()=>Ln(W.id),className:"px-3 py-2 rounded bg-blue-600 text-white text-sm hover:bg-blue-700 w-full sm:w-auto",children:"Mark as Read"}),T.jsx("button",{onClick:()=>qt(W.id),className:"px-3 py-2 rounded bg-red-600 text-white text-sm hover:bg-red-700 w-full sm:w-auto",children:"Delete"})]})]},W.id))})})]})]})})};function C5(){return T.jsxs("div",{className:"font-sans",children:[T.jsx(DL,{}),T.jsxs("main",{className:"pt-16",children:[T.jsx("section",{id:"home",children:T.jsx(OL,{})}),T.jsx("section",{id:"about",children:T.jsx(d5,{})}),T.jsx("section",{id:"programs",children:T.jsx(p5,{})}),T.jsx("section",{id:"departments",children:T.jsx(y5,{})}),T.jsx("section",{id:"pastorsection",children:T.jsx(v5,{})}),T.jsx("section",{id:"contact",children:T.jsx(_5,{})})]})]})}const I5=({children:t})=>Sx().currentUser?t:T.jsx(b2,{to:"/admin-login",replace:!0});DI.createRoot(document.getElementById("root")).render(T.jsx(wI.StrictMode,{children:T.jsx(G2,{children:T.jsx(A5,{children:T.jsxs(E2,{children:[T.jsx(Va,{path:"/",element:T.jsx(C5,{})}),T.jsx(Va,{path:"/live",element:T.jsx(b5,{})}),T.jsx(Va,{path:"/departments",element:T.jsx(E5,{})}),T.jsx(Va,{path:"/resources",element:T.jsx(w5,{})}),T.jsx(Va,{path:"/admin-login",element:T.jsx(S5,{})}),T.jsx(Va,{path:"/admin-dashboard",element:T.jsx(I5,{children:T.jsx(R5,{})})})]})})})}));
