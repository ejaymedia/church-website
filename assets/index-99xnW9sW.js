(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function fw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xp={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function gI(){if(iE)return _u;iE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return _u.Fragment=e,_u.jsx=n,_u.jsxs=n,_u}var sE;function dw(){return sE||(sE=1,xp.exports=gI()),xp.exports}var S=dw(),Rp={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function yI(){if(rE)return xe;rE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function R(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,P={};function F(U,te,he){this.props=U,this.context=te,this.refs=P,this.updater=he||M}F.prototype.isReactComponent={},F.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},F.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function G(){}G.prototype=F.prototype;function Y(U,te,he){this.props=U,this.context=te,this.refs=P,this.updater=he||M}var oe=Y.prototype=new G;oe.constructor=Y,z(oe,F.prototype),oe.isPureReactComponent=!0;var ae=Array.isArray;function ce(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(U,te,he){var J=he.ref;return{$$typeof:t,type:U,key:te,ref:J!==void 0?J:null,props:he}}function O(U,te){return C(U.type,te,U.props)}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function j(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(he){return te[he]})}var D=/\/+/g;function Pe(U,te){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):te.toString(36)}function He(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ce,ce):(U.status="pending",U.then(function(te){U.status==="pending"&&(U.status="fulfilled",U.value=te)},function(te){U.status==="pending"&&(U.status="rejected",U.reason=te)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function W(U,te,he,J,le){var de=typeof U;(de==="undefined"||de==="boolean")&&(U=null);var Ce=!1;if(U===null)Ce=!0;else switch(de){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(U.$$typeof){case t:case e:Ce=!0;break;case y:return Ce=U._init,W(Ce(U._payload),te,he,J,le)}}if(Ce)return le=le(U),Ce=J===""?"."+Pe(U,0):J,ae(le)?(he="",Ce!=null&&(he=Ce.replace(D,"$&/")+"/"),W(le,te,he,"",function(os){return os})):le!=null&&(V(le)&&(le=O(le,he+(le.key==null||U&&U.key===le.key?"":(""+le.key).replace(D,"$&/")+"/")+Ce)),te.push(le)),1;Ce=0;var ft=J===""?".":J+":";if(ae(U))for(var it=0;it<U.length;it++)J=U[it],de=ft+Pe(J,it),Ce+=W(J,te,he,de,le);else if(it=R(U),typeof it=="function")for(U=it.call(U),it=0;!(J=U.next()).done;)J=J.value,de=ft+Pe(J,it++),Ce+=W(J,te,he,de,le);else if(de==="object"){if(typeof U.then=="function")return W(He(U),te,he,J,le);throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function re(U,te,he){if(U==null)return U;var J=[],le=0;return W(U,J,"","",function(de){return te.call(he,de,le++)}),J}function fe(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(he){(U._status===0||U._status===-1)&&(U._status=1,U._result=he)},function(he){(U._status===0||U._status===-1)&&(U._status=2,U._result=he)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var Se=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ie={map:re,forEach:function(U,te,he){re(U,function(){te.apply(this,arguments)},he)},count:function(U){var te=0;return re(U,function(){te++}),te},toArray:function(U){return re(U,function(te){return te})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return xe.Activity=_,xe.Children=Ie,xe.Component=F,xe.Fragment=n,xe.Profiler=a,xe.PureComponent=Y,xe.StrictMode=s,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},xe.cache=function(U){return function(){return U.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(U,te,he){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var J=z({},U.props),le=U.key;if(te!=null)for(de in te.key!==void 0&&(le=""+te.key),te)!x.call(te,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&te.ref===void 0||(J[de]=te[de]);var de=arguments.length-2;if(de===1)J.children=he;else if(1<de){for(var Ce=Array(de),ft=0;ft<de;ft++)Ce[ft]=arguments[ft+2];J.children=Ce}return C(U.type,le,J)},xe.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},xe.createElement=function(U,te,he){var J,le={},de=null;if(te!=null)for(J in te.key!==void 0&&(de=""+te.key),te)x.call(te,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(le[J]=te[J]);var Ce=arguments.length-2;if(Ce===1)le.children=he;else if(1<Ce){for(var ft=Array(Ce),it=0;it<Ce;it++)ft[it]=arguments[it+2];le.children=ft}if(U&&U.defaultProps)for(J in Ce=U.defaultProps,Ce)le[J]===void 0&&(le[J]=Ce[J]);return C(U,de,le)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(U){return{$$typeof:d,render:U}},xe.isValidElement=V,xe.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:fe}},xe.memo=function(U,te){return{$$typeof:p,type:U,compare:te===void 0?null:te}},xe.startTransition=function(U){var te=I.T,he={};I.T=he;try{var J=U(),le=I.S;le!==null&&le(he,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ce,Se)}catch(de){Se(de)}finally{te!==null&&he.types!==null&&(te.types=he.types),I.T=te}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(U){return I.H.use(U)},xe.useActionState=function(U,te,he){return I.H.useActionState(U,te,he)},xe.useCallback=function(U,te){return I.H.useCallback(U,te)},xe.useContext=function(U){return I.H.useContext(U)},xe.useDebugValue=function(){},xe.useDeferredValue=function(U,te){return I.H.useDeferredValue(U,te)},xe.useEffect=function(U,te){return I.H.useEffect(U,te)},xe.useEffectEvent=function(U){return I.H.useEffectEvent(U)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(U,te,he){return I.H.useImperativeHandle(U,te,he)},xe.useInsertionEffect=function(U,te){return I.H.useInsertionEffect(U,te)},xe.useLayoutEffect=function(U,te){return I.H.useLayoutEffect(U,te)},xe.useMemo=function(U,te){return I.H.useMemo(U,te)},xe.useOptimistic=function(U,te){return I.H.useOptimistic(U,te)},xe.useReducer=function(U,te,he){return I.H.useReducer(U,te,he)},xe.useRef=function(U){return I.H.useRef(U)},xe.useState=function(U){return I.H.useState(U)},xe.useSyncExternalStore=function(U,te,he){return I.H.useSyncExternalStore(U,te,he)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.0",xe}var aE;function Zf(){return aE||(aE=1,Rp.exports=yI()),Rp.exports}var k=Zf();const vI=fw(k);var Cp={exports:{}},Tu={},Ip={exports:{}},Dp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function _I(){return oE||(oE=1,(function(t){function e(W,re){var fe=W.length;W.push(re);e:for(;0<fe;){var Se=fe-1>>>1,Ie=W[Se];if(0<a(Ie,re))W[Se]=re,W[fe]=Ie,fe=Se;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var re=W[0],fe=W.pop();if(fe!==re){W[0]=fe;e:for(var Se=0,Ie=W.length,U=Ie>>>1;Se<U;){var te=2*(Se+1)-1,he=W[te],J=te+1,le=W[J];if(0>a(he,fe))J<Ie&&0>a(le,he)?(W[Se]=le,W[J]=fe,Se=J):(W[Se]=he,W[te]=fe,Se=te);else if(J<Ie&&0>a(le,fe))W[Se]=le,W[J]=fe,Se=J;else break e}}return re}function a(W,re){var fe=W.sortIndex-re.sortIndex;return fe!==0?fe:W.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,b=3,R=!1,M=!1,z=!1,P=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function oe(W){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=W)s(p),re.sortIndex=re.expirationTime,e(m,re);else break;re=n(p)}}function ae(W){if(z=!1,oe(W),!M)if(n(m)!==null)M=!0,ce||(ce=!0,j());else{var re=n(p);re!==null&&He(ae,re.startTime-W)}}var ce=!1,I=-1,x=5,C=-1;function O(){return P?!0:!(t.unstable_now()-C<x)}function V(){if(P=!1,ce){var W=t.unstable_now();C=W;var re=!0;try{e:{M=!1,z&&(z=!1,G(I),I=-1),R=!0;var fe=b;try{t:{for(oe(W),_=n(m);_!==null&&!(_.expirationTime>W&&O());){var Se=_.callback;if(typeof Se=="function"){_.callback=null,b=_.priorityLevel;var Ie=Se(_.expirationTime<=W);if(W=t.unstable_now(),typeof Ie=="function"){_.callback=Ie,oe(W),re=!0;break t}_===n(m)&&s(m),oe(W)}else s(m);_=n(m)}if(_!==null)re=!0;else{var U=n(p);U!==null&&He(ae,U.startTime-W),re=!1}}break e}finally{_=null,b=fe,R=!1}re=void 0}}finally{re?j():ce=!1}}}var j;if(typeof Y=="function")j=function(){Y(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Pe=D.port2;D.port1.onmessage=V,j=function(){Pe.postMessage(null)}}else j=function(){F(V,0)};function He(W,re){I=F(function(){W(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(W){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var fe=b;b=re;try{return W()}finally{b=fe}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var fe=b;b=W;try{return re()}finally{b=fe}},t.unstable_scheduleCallback=function(W,re,fe){var Se=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Se+fe:Se):fe=Se,W){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=fe+Ie,W={id:y++,callback:re,priorityLevel:W,startTime:fe,expirationTime:Ie,sortIndex:-1},fe>Se?(W.sortIndex=fe,e(p,W),n(m)===null&&W===n(p)&&(z?(G(I),I=-1):z=!0,He(ae,fe-Se))):(W.sortIndex=Ie,e(m,W),M||R||(M=!0,ce||(ce=!0,j()))),W},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(W){var re=b;return function(){var fe=b;b=re;try{return W.apply(this,arguments)}finally{b=fe}}}})(Dp)),Dp}var lE;function TI(){return lE||(lE=1,Ip.exports=_I()),Ip.exports}var Np={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function EI(){if(uE)return nn;uE=1;var t=Zf();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},nn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},nn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},nn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},nn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},nn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},nn.requestFormReset=function(m){s.d.r(m)},nn.unstable_batchedUpdates=function(m,p){return m(p)},nn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var cE;function bI(){if(cE)return Np.exports;cE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Np.exports=EI(),Np.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function SI(){if(hE)return Tu;hE=1;var t=TI(),e=Zf(),n=bI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),i;if(g===u)return m(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var T=!1,w=f.child;w;){if(w===o){T=!0,o=f,u=g;break}if(w===u){T=!0,u=f,o=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===o){T=!0,o=g,u=f;break}if(w===u){T=!0,u=g,o=f;break}w=w.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Pe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case F:return"Profiler";case P:return"StrictMode";case ae:return"Suspense";case ce:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case Y:return i.displayName||"Context";case G:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:Pe(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return Pe(i(r))}catch{}}return null}var He=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Se=[],Ie=-1;function U(i){return{current:i}}function te(i){0>Ie||(i.current=Se[Ie],Se[Ie]=null,Ie--)}function he(i,r){Ie++,Se[Ie]=i.current,i.current=r}var J=U(null),le=U(null),de=U(null),Ce=U(null);function ft(i,r){switch(he(de,r),he(le,i),he(J,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?xT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=xT(r),i=RT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(J),he(J,i)}function it(){te(J),te(le),te(de)}function os(i){i.memoizedState!==null&&he(Ce,i);var r=J.current,o=RT(r,i.type);r!==o&&(he(le,i),he(J,o))}function ls(i){le.current===i&&(te(J),te(le)),Ce.current===i&&(te(Ce),pu._currentValue=fe)}var Bs,Gr;function On(i){if(Bs===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Bs=r&&r[1]||"",Gr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+i+Gr}var ii=!1;function Kr(i,r){if(!i||ii)return"";ii=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var $=X}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(X){$=X}i.call(ne.prototype)}}else{try{throw Error()}catch(X){$=X}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var N=T.split(`
`),K=w.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===K.length)for(u=N.length-1,f=K.length-1;1<=u&&0<=f&&N[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==K[f]){var Z=`
`+N[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{ii=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?On(o):""}function gl(i,r){switch(i.tag){case 26:case 27:case 5:return On(i.type);case 16:return On("Lazy");case 13:return i.child!==r&&r!==null?On("Suspense Fallback"):On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return Kr(i.type,!1);case 11:return Kr(i.type.render,!1);case 1:return Kr(i.type,!0);case 31:return On("Activity");default:return""}}function yl(i){try{var r="",o=null;do r+=gl(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var wt=Object.prototype.hasOwnProperty,Lt=t.unstable_scheduleCallback,zs=t.unstable_cancelCallback,Cd=t.unstable_shouldYield,Tc=t.unstable_requestPaint,un=t.unstable_now,Yr=t.unstable_getCurrentPriorityLevel,vl=t.unstable_ImmediatePriority,_l=t.unstable_UserBlockingPriority,Fs=t.unstable_NormalPriority,Id=t.unstable_LowPriority,Ec=t.unstable_IdlePriority,bc=t.log,Sc=t.unstable_setDisableYieldValue,si=null,Kt=null;function Pn(i){if(typeof bc=="function"&&Sc(i),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(si,i)}catch{}}var vt=Math.clz32?Math.clz32:Ac,wc=Math.log,Ga=Math.LN2;function Ac(i){return i>>>=0,i===0?32:31-(wc(i)/Ga|0)|0}var Si=256,$r=262144,At=4194304;function wi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ai(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?f=wi(u):(T&=w,T!==0?f=wi(T):o||(o=w&~i,o!==0&&(f=wi(o))))):(w=u&~g,w!==0?f=wi(w):T!==0?f=wi(T):o||(o=u&~i,o!==0&&(f=wi(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function ri(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Dd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var i=At;return At<<=1,(At&62914560)===0&&(At=4194304),i}function xi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Qr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Nd(i,r,o,u,f,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,N=i.expirationTimes,K=i.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-vt(o),ne=1<<Z;w[Z]=0,N[Z]=-1;var $=K[Z];if($!==null)for(K[Z]=null,Z=0;Z<$.length;Z++){var X=$[Z];X!==null&&(X.lane&=-536870913)}o&=~ne}u!==0&&Xr(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function Xr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-vt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Tl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-vt(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function El(i,r){var o=r&-r;return o=(o&42)!==0?1:Wr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Wr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function us(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Rc(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:XT(i.type))}function ai(i,r){var o=re.p;try{return re.p=i,r()}finally{re.p=o}}var oi=Math.random().toString(36).slice(2),xt="__reactFiber$"+oi,zt="__reactProps$"+oi,Ri="__reactContainer$"+oi,Ka="__reactEvents$"+oi,Md="__reactListeners$"+oi,Cc="__reactHandles$"+oi,Ic="__reactResources$"+oi,Ci="__reactMarker$"+oi;function Ya(i){delete i[xt],delete i[zt],delete i[Ka],delete i[Md],delete i[Cc]}function Ii(i){var r=i[xt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ri]||o[xt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=OT(i);i!==null;){if(o=i[xt])return o;i=OT(i)}return r}i=o,o=i.parentNode}return null}function kn(i){if(i=i[xt]||i[Ri]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function wn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Di(i){var r=i[Ic];return r||(r=i[Ic]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Rt(i){i[Ci]=!0}var bl=new Set,Sl={};function Ni(i,r){Mi(i,r),Mi(i+"Capture",r)}function Mi(i,r){for(Sl[i]=r,i=0;i<r.length;i++)bl.add(r[i])}var wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},xl={};function Dc(i){return wt.call(xl,i)?!0:wt.call(Al,i)?!1:wl.test(i)?xl[i]=!0:(Al[i]=!0,!1)}function $a(i,r,o){if(Dc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function An(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ct(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Ft(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Hs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Rl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qe(i){if(!i._valueTracker){var r=Hs(i)?"checked":"value";i._valueTracker=Rl(i,r,""+i[r])}}function Zr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Hs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Vi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Jr=/[\n"\\]/g;function mn(i){return i.replace(Jr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Qa(i,r,o,u,f,g,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Ft(r)):i.value!==""+Ft(r)&&(i.value=""+Ft(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Cl(i,T,Ft(r)):o!=null?Cl(i,T,Ft(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+Ft(w):i.removeAttribute("name")}function Nc(i,r,o,u,f,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Qe(i);return}o=o!=null?""+Ft(o):"",r=r!=null?""+Ft(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Qe(i)}function Cl(i,r,o){r==="number"&&Vi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function qs(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Ft(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Mc(i,r,o){if(r!=null&&(r=""+Ft(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Ft(o):""}function Gs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(He(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Ft(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Qe(i)}function pn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Il(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Vc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Dl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Il(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Il(i,g,r[g])}function Xa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(i){return Ks.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function li(){}var Nl=null;function Ln(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ys=null,Oi=null;function ea(i){var r=kn(i);if(r&&(i=r.stateNode)){var o=i[zt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Qa(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+mn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[zt]||null;if(!f)throw Error(s(90));Qa(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Zr(u)}break e;case"textarea":Mc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&qs(i,!!o.multiple,r,!1)}}}var Za=!1;function $s(i,r,o){if(Za)return i(r,o);Za=!0;try{var u=i(r);return u}finally{if(Za=!1,(Ys!==null||Oi!==null)&&(Rh(),Ys&&(r=Ys,i=Oi,Oi=Ys=null,ea(r),i)))for(r=0;r<i.length;r++)ea(i[r])}}function ui(i,r){var o=i.stateNode;if(o===null)return null;var u=o[zt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=!1;if(Un)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ta=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{ta=!1}var Pi=null,Ml=null,na=null;function Vl(){if(na)return na;var i,r=Ml,o=r.length,u,f="value"in Pi?Pi.value:Pi.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===f[g-u];u++);return na=f.slice(i,1<u?1-u:void 0)}function ia(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function cs(){return!0}function ci(){return!1}function Yt(i){function r(o,u,f,g,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?cs:ci,this.isPropagationStopped=ci,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),r}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Yt(hs),Qs=_({},hs,{view:0,detail:0}),Ol=Yt(Qs),Xs,Ja,Li,eo=_({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Li&&(Li&&i.type==="mousemove"?(Xs=i.screenX-Li.screenX,Ja=i.screenY-Li.screenY):Ja=Xs=0,Li=i),Xs)},movementY:function(i){return"movementY"in i?i.movementY:Ja}}),Pl=Yt(eo),sa=_({},eo,{dataTransfer:0}),Pc=Yt(sa),kc=_({},Qs,{relatedTarget:0}),ra=Yt(kc),kl=_({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Lc=Yt(kl),to=_({},hs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Uc=Yt(to),jc=_({},hs,{data:0}),Ui=Yt(jc),Bc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Fc[i])?!!r[i]:!1}function Ws(){return Hc}var cn=_({},Qs,{key:function(i){if(i.key){var r=Bc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ia(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?zc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(i){return i.type==="keypress"?ia(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ia(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qc=Yt(cn),Gc=_({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fs=Yt(Gc),h=_({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),v=Yt(h),E=_({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Yt(E),H=_({},eo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Yt(H),ue=_({},hs,{newState:0,oldState:0}),De=Yt(ue),_t=[9,13,27,32],Ke=Un&&"CompositionEvent"in window,lt=null;Un&&"documentMode"in document&&(lt=document.documentMode);var jn=Un&&"TextEvent"in window&&!lt,ji=Un&&(!Ke||lt&&8<lt&&11>=lt),hi=" ",fi=!1;function aa(i,r){switch(i){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function no(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var io=!1;function BR(i,r){switch(i){case"compositionend":return no(r);case"keypress":return r.which!==32?null:(fi=!0,hi);case"textInput":return i=r.data,i===hi&&fi?null:i;default:return null}}function zR(i,r){if(io)return i==="compositionend"||!Ke&&aa(i,r)?(i=Vl(),na=Ml=Pi=null,io=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ji&&r.locale!=="ko"?null:r.data;default:return null}}var FR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!FR[i.type]:r==="textarea"}function Uv(i,r,o,u){Ys?Oi?Oi.push(u):Oi=[u]:Ys=u,r=Oh(r,"onChange"),0<r.length&&(o=new ki("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Ll=null,Ul=null;function HR(i){TT(i,0)}function Kc(i){var r=wn(i);if(Zr(r))return i}function jv(i,r){if(i==="change")return r}var Bv=!1;if(Un){var Vd;if(Un){var Od="oninput"in document;if(!Od){var zv=document.createElement("div");zv.setAttribute("oninput","return;"),Od=typeof zv.oninput=="function"}Vd=Od}else Vd=!1;Bv=Vd&&(!document.documentMode||9<document.documentMode)}function Fv(){Ll&&(Ll.detachEvent("onpropertychange",Hv),Ul=Ll=null)}function Hv(i){if(i.propertyName==="value"&&Kc(Ul)){var r=[];Uv(r,Ul,i,Ln(i)),$s(HR,r)}}function qR(i,r,o){i==="focusin"?(Fv(),Ll=r,Ul=o,Ll.attachEvent("onpropertychange",Hv)):i==="focusout"&&Fv()}function GR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Kc(Ul)}function KR(i,r){if(i==="click")return Kc(r)}function YR(i,r){if(i==="input"||i==="change")return Kc(r)}function $R(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var xn=typeof Object.is=="function"?Object.is:$R;function jl(i,r){if(xn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!wt.call(r,f)||!xn(i[f],r[f]))return!1}return!0}function qv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Gv(i,r){var o=qv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=qv(o)}}function Kv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Kv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Yv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Vi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Vi(i.document)}return r}function Pd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var QR=Un&&"documentMode"in document&&11>=document.documentMode,so=null,kd=null,Bl=null,Ld=!1;function $v(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ld||so==null||so!==Vi(u)||(u=so,"selectionStart"in u&&Pd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bl&&jl(Bl,u)||(Bl=u,u=Oh(kd,"onSelect"),0<u.length&&(r=new ki("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=so)))}function oa(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var ro={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Ud={},Qv={};Un&&(Qv=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function la(i){if(Ud[i])return Ud[i];if(!ro[i])return i;var r=ro[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Qv)return Ud[i]=r[o];return i}var Xv=la("animationend"),Wv=la("animationiteration"),Zv=la("animationstart"),XR=la("transitionrun"),WR=la("transitionstart"),ZR=la("transitioncancel"),Jv=la("transitionend"),e_=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function di(i,r){e_.set(i,r),Ni(r,[i])}var Yc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],ao=0,Bd=0;function $c(){for(var i=ao,r=Bd=ao=0;r<i;){var o=Bn[r];Bn[r++]=null;var u=Bn[r];Bn[r++]=null;var f=Bn[r];Bn[r++]=null;var g=Bn[r];if(Bn[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}g!==0&&t_(o,f,g)}}function Qc(i,r,o,u){Bn[ao++]=i,Bn[ao++]=r,Bn[ao++]=o,Bn[ao++]=u,Bd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function zd(i,r,o,u){return Qc(i,r,o,u),Xc(i)}function ua(i,r){return Qc(i,null,null,r),Xc(i)}function t_(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-vt(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function Xc(i){if(50<lu)throw lu=0,Xm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var oo={};function JR(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(i,r,o,u){return new JR(i,r,o,u)}function Fd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ds(i,r){var o=i.alternate;return o===null?(o=Rn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function n_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Wc(i,r,o,u,f,g){var T=0;if(u=i,typeof i=="function")Fd(i)&&(T=1);else if(typeof i=="string")T=sI(i,o,J.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Rn(31,o,r,f),i.elementType=C,i.lanes=g,i;case z:return ca(o.children,f,g,r);case P:T=8,f|=24;break;case F:return i=Rn(12,o,r,f|2),i.elementType=F,i.lanes=g,i;case ae:return i=Rn(13,o,r,f),i.elementType=ae,i.lanes=g,i;case ce:return i=Rn(19,o,r,f),i.elementType=ce,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:T=10;break e;case G:T=9;break e;case oe:T=11;break e;case I:T=14;break e;case x:T=16,u=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Rn(T,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function ca(i,r,o,u){return i=Rn(7,i,u,r),i.lanes=o,i}function Hd(i,r,o){return i=Rn(6,i,null,r),i.lanes=o,i}function i_(i){var r=Rn(18,null,null,0);return r.stateNode=i,r}function qd(i,r,o){return r=Rn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var s_=new WeakMap;function zn(i,r){if(typeof i=="object"&&i!==null){var o=s_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:yl(r)},s_.set(i,r),r)}return{value:i,source:r,stack:yl(r)}}var lo=[],uo=0,Zc=null,zl=0,Fn=[],Hn=0,Zs=null,Bi=1,zi="";function ms(i,r){lo[uo++]=zl,lo[uo++]=Zc,Zc=i,zl=r}function r_(i,r,o){Fn[Hn++]=Bi,Fn[Hn++]=zi,Fn[Hn++]=Zs,Zs=i;var u=Bi;i=zi;var f=32-vt(u)-1;u&=~(1<<f),o+=1;var g=32-vt(r)+f;if(30<g){var T=f-f%5;g=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Bi=1<<32-vt(r)+f|o<<f|u,zi=g+i}else Bi=1<<g|o<<f|u,zi=i}function Gd(i){i.return!==null&&(ms(i,1),r_(i,1,0))}function Kd(i){for(;i===Zc;)Zc=lo[--uo],lo[uo]=null,zl=lo[--uo],lo[uo]=null;for(;i===Zs;)Zs=Fn[--Hn],Fn[Hn]=null,zi=Fn[--Hn],Fn[Hn]=null,Bi=Fn[--Hn],Fn[Hn]=null}function a_(i,r){Fn[Hn++]=Bi,Fn[Hn++]=zi,Fn[Hn++]=Zs,Bi=r.id,zi=r.overflow,Zs=i}var $t=null,st=null,ze=!1,Js=null,qn=!1,Yd=Error(s(519));function er(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(zn(r,i)),Yd}function o_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[xt]=i,r[zt]=u,o){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(o=0;o<cu.length;o++)Oe(cu[o],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Nc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Gs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||wT(r.textContent,o)?(u.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),u.onScroll!=null&&Oe("scroll",r),u.onScrollEnd!=null&&Oe("scrollend",r),u.onClick!=null&&(r.onclick=li),r=!0):r=!1,r||er(i,!0)}function l_(i){for($t=i.return;$t;)switch($t.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:$t=$t.return}}function co(i){if(i!==$t)return!1;if(!ze)return l_(i),ze=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||hp(i.type,i.memoizedProps)),o=!o),o&&st&&er(i),l_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));st=VT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));st=VT(i)}else r===27?(r=st,mr(i.type)?(i=gp,gp=null,st=i):st=r):st=$t?Kn(i.stateNode.nextSibling):null;return!0}function ha(){st=$t=null,ze=!1}function $d(){var i=Js;return i!==null&&(_n===null?_n=i:_n.push.apply(_n,i),Js=null),i}function Fl(i){Js===null?Js=[i]:Js.push(i)}var Qd=U(null),fa=null,ps=null;function tr(i,r,o){he(Qd,r._currentValue),r._currentValue=o}function gs(i){i._currentValue=Qd.current,te(Qd)}function Xd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Wd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var T=f.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=f;for(var N=0;N<r.length;N++)if(w.context===r[N]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Xd(g.return,o,i),u||(T=null);break e}g=w.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Xd(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function ho(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=f.type;xn(f.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(f===Ce.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(pu):i=[pu])}f=f.return}i!==null&&Wd(r,i,o,u),r.flags|=262144}function Jc(i){for(i=i.firstContext;i!==null;){if(!xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function da(i){fa=i,ps=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qt(i){return u_(fa,i)}function eh(i,r){return fa===null&&da(i),u_(i,r)}function u_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ps===null){if(i===null)throw Error(s(308));ps=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ps=ps.next=r;return o}var eC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},tC=t.unstable_scheduleCallback,nC=t.unstable_NormalPriority,It={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zd(){return{controller:new eC,data:new Map,refCount:0}}function Hl(i){i.refCount--,i.refCount===0&&tC(nC,function(){i.controller.abort()})}var ql=null,Jd=0,fo=0,mo=null;function iC(i,r){if(ql===null){var o=ql=[];Jd=0,fo=np(),mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Jd++,r.then(c_,c_),r}function c_(){if(--Jd===0&&ql!==null){mo!==null&&(mo.status="fulfilled");var i=ql;ql=null,fo=0,mo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function sC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var h_=W.S;W.S=function(i,r){$0=un(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&iC(i,r),h_!==null&&h_(i,r)};var ma=U(null);function em(){var i=ma.current;return i!==null?i:nt.pooledCache}function th(i,r){r===null?he(ma,ma.current):he(ma,r.pool)}function f_(){var i=em();return i===null?null:{parent:It._currentValue,pool:i}}var po=Error(s(460)),tm=Error(s(474)),nh=Error(s(542)),ih={then:function(){}};function d_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function m_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(li,li),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,g_(i),i;default:if(typeof r.status=="string")r.then(li,li);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,g_(i),i}throw ga=r,po}}function pa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ga=o,po):o}}var ga=null;function p_(){if(ga===null)throw Error(s(459));var i=ga;return ga=null,i}function g_(i){if(i===po||i===nh)throw Error(s(483))}var go=null,Gl=0;function sh(i){var r=Gl;return Gl+=1,go===null&&(go=[]),m_(go,i,r)}function Kl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function rh(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function y_(i){function r(B,L){if(i){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function o(B,L){if(!i)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function u(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=ds(B,L),B.index=0,B.sibling=null,B}function g(B,L,q){return B.index=q,i?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=67108866,L):q):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function T(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function w(B,L,q,ee){return L===null||L.tag!==6?(L=Hd(q,B.mode,ee),L.return=B,L):(L=f(L,q),L.return=B,L)}function N(B,L,q,ee){var ve=q.type;return ve===z?Z(B,L,q.props.children,ee,q.key):L!==null&&(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&pa(ve)===L.type)?(L=f(L,q.props),Kl(L,q),L.return=B,L):(L=Wc(q.type,q.key,q.props,null,B.mode,ee),Kl(L,q),L.return=B,L)}function K(B,L,q,ee){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=qd(q,B.mode,ee),L.return=B,L):(L=f(L,q.children||[]),L.return=B,L)}function Z(B,L,q,ee,ve){return L===null||L.tag!==7?(L=ca(q,B.mode,ee,ve),L.return=B,L):(L=f(L,q),L.return=B,L)}function ne(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Hd(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case R:return q=Wc(L.type,L.key,L.props,null,B.mode,q),Kl(q,L),q.return=B,q;case M:return L=qd(L,B.mode,q),L.return=B,L;case x:return L=pa(L),ne(B,L,q)}if(He(L)||j(L))return L=ca(L,B.mode,q,null),L.return=B,L;if(typeof L.then=="function")return ne(B,sh(L),q);if(L.$$typeof===Y)return ne(B,eh(B,L),q);rh(B,L)}return null}function $(B,L,q,ee){var ve=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ve!==null?null:w(B,L,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return q.key===ve?N(B,L,q,ee):null;case M:return q.key===ve?K(B,L,q,ee):null;case x:return q=pa(q),$(B,L,q,ee)}if(He(q)||j(q))return ve!==null?null:Z(B,L,q,ee,null);if(typeof q.then=="function")return $(B,L,sh(q),ee);if(q.$$typeof===Y)return $(B,L,eh(B,q),ee);rh(B,q)}return null}function X(B,L,q,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(q)||null,w(L,B,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case R:return B=B.get(ee.key===null?q:ee.key)||null,N(L,B,ee,ve);case M:return B=B.get(ee.key===null?q:ee.key)||null,K(L,B,ee,ve);case x:return ee=pa(ee),X(B,L,q,ee,ve)}if(He(ee)||j(ee))return B=B.get(q)||null,Z(L,B,ee,ve,null);if(typeof ee.then=="function")return X(B,L,q,sh(ee),ve);if(ee.$$typeof===Y)return X(B,L,q,eh(L,ee),ve);rh(L,ee)}return null}function pe(B,L,q,ee){for(var ve=null,qe=null,ye=L,Me=L=0,Le=null;ye!==null&&Me<q.length;Me++){ye.index>Me?(Le=ye,ye=null):Le=ye.sibling;var Ge=$(B,ye,q[Me],ee);if(Ge===null){ye===null&&(ye=Le);break}i&&ye&&Ge.alternate===null&&r(B,ye),L=g(Ge,L,Me),qe===null?ve=Ge:qe.sibling=Ge,qe=Ge,ye=Le}if(Me===q.length)return o(B,ye),ze&&ms(B,Me),ve;if(ye===null){for(;Me<q.length;Me++)ye=ne(B,q[Me],ee),ye!==null&&(L=g(ye,L,Me),qe===null?ve=ye:qe.sibling=ye,qe=ye);return ze&&ms(B,Me),ve}for(ye=u(ye);Me<q.length;Me++)Le=X(ye,B,Me,q[Me],ee),Le!==null&&(i&&Le.alternate!==null&&ye.delete(Le.key===null?Me:Le.key),L=g(Le,L,Me),qe===null?ve=Le:qe.sibling=Le,qe=Le);return i&&ye.forEach(function(_r){return r(B,_r)}),ze&&ms(B,Me),ve}function Te(B,L,q,ee){if(q==null)throw Error(s(151));for(var ve=null,qe=null,ye=L,Me=L=0,Le=null,Ge=q.next();ye!==null&&!Ge.done;Me++,Ge=q.next()){ye.index>Me?(Le=ye,ye=null):Le=ye.sibling;var _r=$(B,ye,Ge.value,ee);if(_r===null){ye===null&&(ye=Le);break}i&&ye&&_r.alternate===null&&r(B,ye),L=g(_r,L,Me),qe===null?ve=_r:qe.sibling=_r,qe=_r,ye=Le}if(Ge.done)return o(B,ye),ze&&ms(B,Me),ve;if(ye===null){for(;!Ge.done;Me++,Ge=q.next())Ge=ne(B,Ge.value,ee),Ge!==null&&(L=g(Ge,L,Me),qe===null?ve=Ge:qe.sibling=Ge,qe=Ge);return ze&&ms(B,Me),ve}for(ye=u(ye);!Ge.done;Me++,Ge=q.next())Ge=X(ye,B,Me,Ge.value,ee),Ge!==null&&(i&&Ge.alternate!==null&&ye.delete(Ge.key===null?Me:Ge.key),L=g(Ge,L,Me),qe===null?ve=Ge:qe.sibling=Ge,qe=Ge);return i&&ye.forEach(function(pI){return r(B,pI)}),ze&&ms(B,Me),ve}function tt(B,L,q,ee){if(typeof q=="object"&&q!==null&&q.type===z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case R:e:{for(var ve=q.key;L!==null;){if(L.key===ve){if(ve=q.type,ve===z){if(L.tag===7){o(B,L.sibling),ee=f(L,q.props.children),ee.return=B,B=ee;break e}}else if(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&pa(ve)===L.type){o(B,L.sibling),ee=f(L,q.props),Kl(ee,q),ee.return=B,B=ee;break e}o(B,L);break}else r(B,L);L=L.sibling}q.type===z?(ee=ca(q.props.children,B.mode,ee,q.key),ee.return=B,B=ee):(ee=Wc(q.type,q.key,q.props,null,B.mode,ee),Kl(ee,q),ee.return=B,B=ee)}return T(B);case M:e:{for(ve=q.key;L!==null;){if(L.key===ve)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){o(B,L.sibling),ee=f(L,q.children||[]),ee.return=B,B=ee;break e}else{o(B,L);break}else r(B,L);L=L.sibling}ee=qd(q,B.mode,ee),ee.return=B,B=ee}return T(B);case x:return q=pa(q),tt(B,L,q,ee)}if(He(q))return pe(B,L,q,ee);if(j(q)){if(ve=j(q),typeof ve!="function")throw Error(s(150));return q=ve.call(q),Te(B,L,q,ee)}if(typeof q.then=="function")return tt(B,L,sh(q),ee);if(q.$$typeof===Y)return tt(B,L,eh(B,q),ee);rh(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(o(B,L.sibling),ee=f(L,q),ee.return=B,B=ee):(o(B,L),ee=Hd(q,B.mode,ee),ee.return=B,B=ee),T(B)):o(B,L)}return function(B,L,q,ee){try{Gl=0;var ve=tt(B,L,q,ee);return go=null,ve}catch(ye){if(ye===po||ye===nh)throw ye;var qe=Rn(29,ye,null,B.mode);return qe.lanes=ee,qe.return=B,qe}finally{}}}var ya=y_(!0),v_=y_(!1),nr=!1;function nm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function im(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ir(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function sr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Xc(i),t_(i,null,o),r}return Qc(i,u,r,o),Xc(i)}function Yl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Tl(i,o)}}function sm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var rm=!1;function $l(){if(rm){var i=mo;if(i!==null)throw i}}function Ql(i,r,o,u){rm=!1;var f=i.updateQueue;nr=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,K=N.next;N.next=null,T===null?g=K:T.next=K,T=N;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==T&&(w===null?Z.firstBaseUpdate=K:w.next=K,Z.lastBaseUpdate=N))}if(g!==null){var ne=f.baseState;T=0,Z=K=N=null,w=g;do{var $=w.lane&-536870913,X=$!==w.lane;if(X?(ke&$)===$:(u&$)===$){$!==0&&$===fo&&(rm=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var pe=i,Te=w;$=r;var tt=o;switch(Te.tag){case 1:if(pe=Te.payload,typeof pe=="function"){ne=pe.call(tt,ne,$);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Te.payload,$=typeof pe=="function"?pe.call(tt,ne,$):pe,$==null)break e;ne=_({},ne,$);break e;case 2:nr=!0}}$=w.callback,$!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(K=Z=X,N=ne):Z=Z.next=X,T|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;X=w,w=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(N=ne),f.baseState=N,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),ur|=T,i.lanes=T,i.memoizedState=ne}}function __(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function T_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)__(o[i],r)}var yo=U(null),ah=U(0);function E_(i,r){i=As,he(ah,i),he(yo,r),As=i|r.baseLanes}function am(){he(ah,As),he(yo,yo.current)}function om(){As=ah.current,te(yo),te(ah)}var Cn=U(null),Gn=null;function rr(i){var r=i.alternate;he(Tt,Tt.current&1),he(Cn,i),Gn===null&&(r===null||yo.current!==null||r.memoizedState!==null)&&(Gn=i)}function lm(i){he(Tt,Tt.current),he(Cn,i),Gn===null&&(Gn=i)}function b_(i){i.tag===22?(he(Tt,Tt.current),he(Cn,i),Gn===null&&(Gn=i)):ar()}function ar(){he(Tt,Tt.current),he(Cn,Cn.current)}function In(i){te(Cn),Gn===i&&(Gn=null),te(Tt)}var Tt=U(0);function oh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||mp(o)||pp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ys=0,Ne=null,Je=null,Dt=null,lh=!1,vo=!1,va=!1,uh=0,Xl=0,_o=null,rC=0;function pt(){throw Error(s(321))}function um(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!xn(i[o],r[o]))return!1;return!0}function cm(i,r,o,u,f,g){return ys=g,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?r0:Am,va=!1,g=o(u,f),va=!1,vo&&(g=w_(r,o,u,f)),S_(i),g}function S_(i){W.H=Jl;var r=Je!==null&&Je.next!==null;if(ys=0,Dt=Je=Ne=null,lh=!1,Xl=0,_o=null,r)throw Error(s(300));i===null||Nt||(i=i.dependencies,i!==null&&Jc(i)&&(Nt=!0))}function w_(i,r,o,u){Ne=i;var f=0;do{if(vo&&(_o=null),Xl=0,vo=!1,25<=f)throw Error(s(301));if(f+=1,Dt=Je=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=a0,g=r(o,u)}while(vo);return g}function aC(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Wl(r):r,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(Ne.flags|=1024),r}function hm(){var i=uh!==0;return uh=0,i}function fm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function dm(i){if(lh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}lh=!1}ys=0,Dt=Je=Ne=null,vo=!1,Xl=uh=0,_o=null}function hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ne.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function Et(){if(Je===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var r=Dt===null?Ne.memoizedState:Dt.next;if(r!==null)Dt=r,Je=i;else{if(i===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Dt===null?Ne.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(i){var r=Xl;return Xl+=1,_o===null&&(_o=[]),i=m_(_o,i,r),r=Ne,(Dt===null?r.memoizedState:Dt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?r0:Am),i}function hh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wl(i);if(i.$$typeof===Y)return Qt(i)}throw Error(s(438,String(i)))}function mm(i){var r=null,o=Ne.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=ch(),Ne.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=O;return r.index++,o}function vs(i,r){return typeof r=="function"?r(i):r}function fh(i){var r=Et();return pm(r,Je,i)}function pm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var w=T=null,N=null,K=r,Z=!1;do{var ne=K.lane&-536870913;if(ne!==K.lane?(ke&ne)===ne:(ys&ne)===ne){var $=K.revertLane;if($===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ne===fo&&(Z=!0);else if((ys&$)===$){K=K.next,$===fo&&(Z=!0);continue}else ne={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(w=N=ne,T=g):N=N.next=ne,Ne.lanes|=$,ur|=$;ne=K.action,va&&o(g,ne),g=K.hasEagerState?K.eagerState:o(g,ne)}else $={lane:ne,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(w=N=$,T=g):N=N.next=$,Ne.lanes|=ne,ur|=ne;K=K.next}while(K!==null&&K!==r);if(N===null?T=g:N.next=w,!xn(g,i.memoizedState)&&(Nt=!0,Z&&(o=mo,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=N,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function gm(i){var r=Et(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do g=i(g,T.action),T=T.next;while(T!==f);xn(g,r.memoizedState)||(Nt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function A_(i,r,o){var u=Ne,f=Et(),g=ze;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!xn((Je||f).memoizedState,o);if(T&&(f.memoizedState=o,Nt=!0),f=f.queue,_m(C_.bind(null,u,f,i),[i]),f.getSnapshot!==r||T||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,To(9,{destroy:void 0},R_.bind(null,u,f,o,r),null),nt===null)throw Error(s(349));g||(ys&127)!==0||x_(u,r,o)}return o}function x_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ne.updateQueue,r===null?(r=ch(),Ne.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function R_(i,r,o,u){r.value=o,r.getSnapshot=u,I_(r)&&D_(i)}function C_(i,r,o){return o(function(){I_(r)&&D_(i)})}function I_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!xn(i,o)}catch{return!0}}function D_(i){var r=ua(i,2);r!==null&&Tn(r,i,2)}function ym(i){var r=hn();if(typeof i=="function"){var o=i;if(i=o(),va){Pn(!0);try{o()}finally{Pn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:i},r}function N_(i,r,o,u){return i.baseState=o,pm(i,Je,typeof u=="function"?u:vs)}function oC(i,r,o,u,f){if(ph(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,M_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function M_(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=W.T,T={};W.T=T;try{var w=o(f,u),N=W.S;N!==null&&N(T,w),V_(i,r,w)}catch(K){vm(i,r,K)}finally{g!==null&&T.types!==null&&(g.types=T.types),W.T=g}}else try{g=o(f,u),V_(i,r,g)}catch(K){vm(i,r,K)}}function V_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){O_(i,r,u)},function(u){return vm(i,r,u)}):O_(i,r,o)}function O_(i,r,o){r.status="fulfilled",r.value=o,P_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,M_(i,o)))}function vm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,P_(r),r=r.next;while(r!==u)}i.action=null}function P_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function k_(i,r){return r}function L_(i,r){if(ze){var o=nt.formState;if(o!==null){e:{var u=Ne;if(ze){if(st){t:{for(var f=st,g=qn;f.nodeType!==8;){if(!g){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){st=Kn(f.nextSibling),u=f.data==="F!";break e}}er(u)}u=!1}u&&(r=o[0])}}return o=hn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k_,lastRenderedState:r},o.queue=u,o=n0.bind(null,Ne,u),u.dispatch=o,u=ym(!1),g=wm.bind(null,Ne,!1,u.queue),u=hn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=oC.bind(null,Ne,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function U_(i){var r=Et();return j_(r,Je,i)}function j_(i,r,o){if(r=pm(i,r,k_)[0],i=fh(vs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Wl(r)}catch(T){throw T===po?nh:T}else u=r;r=Et();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Ne.flags|=2048,To(9,{destroy:void 0},lC.bind(null,f,o),null)),[u,g,i]}function lC(i,r){i.action=r}function B_(i){var r=Et(),o=Je;if(o!==null)return j_(r,o,i);Et(),r=r.memoizedState,o=Et();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function To(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=ch(),Ne.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function z_(){return Et().memoizedState}function dh(i,r,o,u){var f=hn();Ne.flags|=i,f.memoizedState=To(1|r,{destroy:void 0},o,u===void 0?null:u)}function mh(i,r,o,u){var f=Et();u=u===void 0?null:u;var g=f.memoizedState.inst;Je!==null&&u!==null&&um(u,Je.memoizedState.deps)?f.memoizedState=To(r,g,o,u):(Ne.flags|=i,f.memoizedState=To(1|r,g,o,u))}function F_(i,r){dh(8390656,8,i,r)}function _m(i,r){mh(2048,8,i,r)}function uC(i){Ne.flags|=4;var r=Ne.updateQueue;if(r===null)r=ch(),Ne.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function H_(i){var r=Et().memoizedState;return uC({ref:r,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function q_(i,r){return mh(4,2,i,r)}function G_(i,r){return mh(4,4,i,r)}function K_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Y_(i,r,o){o=o!=null?o.concat([i]):null,mh(4,4,K_.bind(null,r,i),o)}function Tm(){}function $_(i,r){var o=Et();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&um(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function Q_(i,r){var o=Et();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&um(r,u[1]))return u[0];if(u=i(),va){Pn(!0);try{i()}finally{Pn(!1)}}return o.memoizedState=[u,r],u}function Em(i,r,o){return o===void 0||(ys&1073741824)!==0&&(ke&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=X0(),Ne.lanes|=i,ur|=i,o)}function X_(i,r,o,u){return xn(o,r)?o:yo.current!==null?(i=Em(i,o,u),xn(i,r)||(Nt=!0),i):(ys&42)===0||(ys&1073741824)!==0&&(ke&261930)===0?(Nt=!0,i.memoizedState=o):(i=X0(),Ne.lanes|=i,ur|=i,r)}function W_(i,r,o,u,f){var g=re.p;re.p=g!==0&&8>g?g:8;var T=W.T,w={};W.T=w,wm(i,!1,r,o);try{var N=f(),K=W.S;if(K!==null&&K(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=sC(N,u);Zl(i,r,Z,Mn(i))}else Zl(i,r,u,Mn(i))}catch(ne){Zl(i,r,{then:function(){},status:"rejected",reason:ne},Mn())}finally{re.p=g,T!==null&&w.types!==null&&(T.types=w.types),W.T=T}}function cC(){}function bm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=Z_(i).queue;W_(i,f,r,fe,o===null?cC:function(){return J_(i),o(u)})}function Z_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function J_(i){var r=Z_(i);r.next===null&&(r=i.alternate.memoizedState),Zl(i,r.next.queue,{},Mn())}function Sm(){return Qt(pu)}function e0(){return Et().memoizedState}function t0(){return Et().memoizedState}function hC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Mn();i=ir(o);var u=sr(r,i,o);u!==null&&(Tn(u,r,o),Yl(u,r,o)),r={cache:Zd()},i.payload=r;return}r=r.return}}function fC(i,r,o){var u=Mn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ph(i)?i0(r,o):(o=zd(i,r,o,u),o!==null&&(Tn(o,i,u),s0(o,r,u)))}function n0(i,r,o){var u=Mn();Zl(i,r,o,u)}function Zl(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ph(i))i0(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,w=g(T,o);if(f.hasEagerState=!0,f.eagerState=w,xn(w,T))return Qc(i,r,f,0),nt===null&&$c(),!1}catch{}finally{}if(o=zd(i,r,f,u),o!==null)return Tn(o,i,u),s0(o,r,u),!0}return!1}function wm(i,r,o,u){if(u={lane:2,revertLane:np(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ph(i)){if(r)throw Error(s(479))}else r=zd(i,o,u,2),r!==null&&Tn(r,i,2)}function ph(i){var r=i.alternate;return i===Ne||r!==null&&r===Ne}function i0(i,r){vo=lh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function s0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Tl(i,o)}}var Jl={readContext:Qt,use:hh,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Jl.useEffectEvent=pt;var r0={readContext:Qt,use:hh,useCallback:function(i,r){return hn().memoizedState=[i,r===void 0?null:r],i},useContext:Qt,useEffect:F_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,dh(4194308,4,K_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return dh(4194308,4,i,r)},useInsertionEffect:function(i,r){dh(4,2,i,r)},useMemo:function(i,r){var o=hn();r=r===void 0?null:r;var u=i();if(va){Pn(!0);try{i()}finally{Pn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=hn();if(o!==void 0){var f=o(r);if(va){Pn(!0);try{o(r)}finally{Pn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=fC.bind(null,Ne,i),[u.memoizedState,i]},useRef:function(i){var r=hn();return i={current:i},r.memoizedState=i},useState:function(i){i=ym(i);var r=i.queue,o=n0.bind(null,Ne,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Tm,useDeferredValue:function(i,r){var o=hn();return Em(o,i,r)},useTransition:function(){var i=ym(!1);return i=W_.bind(null,Ne,i.queue,!0,!1),hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ne,f=hn();if(ze){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),nt===null)throw Error(s(349));(ke&127)!==0||x_(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,F_(C_.bind(null,u,g,i),[i]),u.flags|=2048,To(9,{destroy:void 0},R_.bind(null,u,g,o,r),null),o},useId:function(){var i=hn(),r=nt.identifierPrefix;if(ze){var o=zi,u=Bi;o=(u&~(1<<32-vt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=uh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=rC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Sm,useFormState:L_,useActionState:L_,useOptimistic:function(i){var r=hn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=wm.bind(null,Ne,!0,o),o.dispatch=r,[i,r]},useMemoCache:mm,useCacheRefresh:function(){return hn().memoizedState=hC.bind(null,Ne)},useEffectEvent:function(i){var r=hn(),o={impl:i};return r.memoizedState=o,function(){if((Ye&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Am={readContext:Qt,use:hh,useCallback:$_,useContext:Qt,useEffect:_m,useImperativeHandle:Y_,useInsertionEffect:q_,useLayoutEffect:G_,useMemo:Q_,useReducer:fh,useRef:z_,useState:function(){return fh(vs)},useDebugValue:Tm,useDeferredValue:function(i,r){var o=Et();return X_(o,Je.memoizedState,i,r)},useTransition:function(){var i=fh(vs)[0],r=Et().memoizedState;return[typeof i=="boolean"?i:Wl(i),r]},useSyncExternalStore:A_,useId:e0,useHostTransitionStatus:Sm,useFormState:U_,useActionState:U_,useOptimistic:function(i,r){var o=Et();return N_(o,Je,i,r)},useMemoCache:mm,useCacheRefresh:t0};Am.useEffectEvent=H_;var a0={readContext:Qt,use:hh,useCallback:$_,useContext:Qt,useEffect:_m,useImperativeHandle:Y_,useInsertionEffect:q_,useLayoutEffect:G_,useMemo:Q_,useReducer:gm,useRef:z_,useState:function(){return gm(vs)},useDebugValue:Tm,useDeferredValue:function(i,r){var o=Et();return Je===null?Em(o,i,r):X_(o,Je.memoizedState,i,r)},useTransition:function(){var i=gm(vs)[0],r=Et().memoizedState;return[typeof i=="boolean"?i:Wl(i),r]},useSyncExternalStore:A_,useId:e0,useHostTransitionStatus:Sm,useFormState:B_,useActionState:B_,useOptimistic:function(i,r){var o=Et();return Je!==null?N_(o,Je,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:mm,useCacheRefresh:t0};a0.useEffectEvent=H_;function xm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Rm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Mn(),f=ir(u);f.payload=r,o!=null&&(f.callback=o),r=sr(i,f,u),r!==null&&(Tn(r,i,u),Yl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Mn(),f=ir(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=sr(i,f,u),r!==null&&(Tn(r,i,u),Yl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Mn(),u=ir(o);u.tag=2,r!=null&&(u.callback=r),r=sr(i,u,o),r!==null&&(Tn(r,i,o),Yl(r,i,o))}};function o0(i,r,o,u,f,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!jl(o,u)||!jl(f,g):!0}function l0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Rm.enqueueReplaceState(r,r.state,null)}function _a(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function u0(i){Yc(i)}function c0(i){console.error(i)}function h0(i){Yc(i)}function gh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function f0(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Cm(i,r,o){return o=ir(o),o.tag=3,o.payload={element:null},o.callback=function(){gh(i,r)},o}function d0(i){return i=ir(i),i.tag=3,i}function m0(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){f0(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){f0(r,o,u),typeof f!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function dC(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&ho(r,o,f,!0),o=Cn.current,o!==null){switch(o.tag){case 31:case 13:return Gn===null?Ch():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ih?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Jm(i,u,f)),!1;case 22:return o.flags|=65536,u===ih?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Jm(i,u,f)),!1}throw Error(s(435,o.tag))}return Jm(i,u,f),Ch(),!1}if(ze)return r=Cn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Yd&&(i=Error(s(422),{cause:u}),Fl(zn(i,o)))):(u!==Yd&&(r=Error(s(423),{cause:u}),Fl(zn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=zn(u,o),f=Cm(i.stateNode,u,f),sm(i,f),gt!==4&&(gt=2)),!1;var g=Error(s(520),{cause:u});if(g=zn(g,o),ou===null?ou=[g]:ou.push(g),gt!==4&&(gt=2),r===null)return!0;u=zn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Cm(o.stateNode,u,i),sm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cr===null||!cr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=d0(f),m0(f,i,o,u),sm(o,f),!1}o=o.return}while(o!==null);return!1}var Im=Error(s(461)),Nt=!1;function Xt(i,r,o,u){r.child=i===null?v_(r,null,o,u):ya(r,i.child,o,u)}function p0(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return da(r),u=cm(i,r,o,T,g,f),w=hm(),i!==null&&!Nt?(fm(i,r,f),_s(i,r,f)):(ze&&w&&Gd(r),r.flags|=1,Xt(i,r,u,f),r.child)}function g0(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!Fd(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,y0(i,r,g,u,f)):(i=Wc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Lm(i,f)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:jl,o(T,u)&&i.ref===r.ref)return _s(i,r,f)}return r.flags|=1,i=ds(g,u),i.ref=r.ref,i.return=r,r.child=i}function y0(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(jl(g,u)&&i.ref===r.ref)if(Nt=!1,r.pendingProps=u=g,Lm(i,f))(i.flags&131072)!==0&&(Nt=!0);else return r.lanes=i.lanes,_s(i,r,f)}return Dm(i,r,o,u,f)}function v0(i,r,o,u){var f=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,r.child=null;return _0(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&th(r,g!==null?g.cachePool:null),g!==null?E_(r,g):am(),b_(r);else return u=r.lanes=536870912,_0(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(th(r,g.cachePool),E_(r,g),ar(),r.memoizedState=null):(i!==null&&th(r,null),am(),ar());return Xt(i,r,f,o),r.child}function eu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function _0(i,r,o,u,f){var g=em();return g=g===null?null:{parent:It._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&th(r,null),am(),b_(r),i!==null&&ho(i,r,u,!0),r.childLanes=f,null}function yh(i,r){return r=_h({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function T0(i,r,o){return ya(r,i.child,null,o),i=yh(r,r.pendingProps),i.flags|=2,In(r),r.memoizedState=null,i}function mC(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(ze){if(u.mode==="hidden")return i=yh(r,u),r.lanes=536870912,eu(null,i);if(lm(r),(i=st)?(i=MT(i,qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Zs!==null?{id:Bi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=i_(i),o.return=r,r.child=o,$t=r,st=null)):i=null,i===null)throw er(r);return r.lanes=536870912,null}return yh(r,u)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(lm(r),f)if(r.flags&256)r.flags&=-257,r=T0(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Nt||ho(i,r,o,!1),f=(o&i.childLanes)!==0,Nt||f){if(u=nt,u!==null&&(T=El(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ua(i,T),Tn(u,i,T),Im;Ch(),r=T0(i,r,o)}else i=g.treeContext,st=Kn(T.nextSibling),$t=r,ze=!0,Js=null,qn=!1,i!==null&&a_(r,i),r=yh(r,u),r.flags|=4096;return r}return i=ds(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function vh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Dm(i,r,o,u,f){return da(r),o=cm(i,r,o,u,void 0,f),u=hm(),i!==null&&!Nt?(fm(i,r,f),_s(i,r,f)):(ze&&u&&Gd(r),r.flags|=1,Xt(i,r,o,f),r.child)}function E0(i,r,o,u,f,g){return da(r),r.updateQueue=null,o=w_(r,u,o,f),S_(i),u=hm(),i!==null&&!Nt?(fm(i,r,g),_s(i,r,g)):(ze&&u&&Gd(r),r.flags|=1,Xt(i,r,o,g),r.child)}function b0(i,r,o,u,f){if(da(r),r.stateNode===null){var g=oo,T=o.contextType;typeof T=="object"&&T!==null&&(g=Qt(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Rm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},nm(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?Qt(T):oo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(xm(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Rm.enqueueReplaceState(g,g.state,null),Ql(r,u,g,f),$l(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,N=_a(o,w);g.props=N;var K=g.context,Z=o.contextType;T=oo,typeof Z=="object"&&Z!==null&&(T=Qt(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||K!==T)&&l0(r,g,u,T),nr=!1;var $=r.memoizedState;g.state=$,Ql(r,u,g,f),$l(),K=r.memoizedState,w||$!==K||nr?(typeof ne=="function"&&(xm(r,o,ne,u),K=r.memoizedState),(N=nr||o0(r,o,N,u,$,K,T))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=T,u=N):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,im(i,r),T=r.memoizedProps,Z=_a(o,T),g.props=Z,ne=r.pendingProps,$=g.context,K=o.contextType,N=oo,typeof K=="object"&&K!==null&&(N=Qt(K)),w=o.getDerivedStateFromProps,(K=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ne||$!==N)&&l0(r,g,u,N),nr=!1,$=r.memoizedState,g.state=$,Ql(r,u,g,f),$l();var X=r.memoizedState;T!==ne||$!==X||nr||i!==null&&i.dependencies!==null&&Jc(i.dependencies)?(typeof w=="function"&&(xm(r,o,w,u),X=r.memoizedState),(Z=nr||o0(r,o,Z,u,$,X,N)||i!==null&&i.dependencies!==null&&Jc(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,N)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=N,u=Z):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,vh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=ya(r,i.child,null,f),r.child=ya(r,null,o,f)):Xt(i,r,o,f),r.memoizedState=g.state,i=r.child):i=_s(i,r,f),i}function S0(i,r,o,u){return ha(),r.flags|=256,Xt(i,r,o,u),r.child}var Nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mm(i){return{baseLanes:i,cachePool:f_()}}function Vm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Nn),i}function w0(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Tt.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(ze){if(f?rr(r):ar(),(i=st)?(i=MT(i,qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Zs!==null?{id:Bi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=i_(i),o.return=r,r.child=o,$t=r,st=null)):i=null,i===null)throw er(r);return pp(i)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,f?(ar(),f=r.mode,w=_h({mode:"hidden",children:w},f),u=ca(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=Mm(o),u.childLanes=Vm(i,T,o),r.memoizedState=Nm,eu(null,u)):(rr(r),Om(r,w))}var N=i.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(g)r.flags&256?(rr(r),r.flags&=-257,r=Pm(i,r,o)):r.memoizedState!==null?(ar(),r.child=i.child,r.flags|=128,r=null):(ar(),w=u.fallback,f=r.mode,u=_h({mode:"visible",children:u.children},f),w=ca(w,f,o,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,ya(r,i.child,null,o),u=r.child,u.memoizedState=Mm(o),u.childLanes=Vm(i,T,o),r.memoizedState=Nm,r=eu(null,u));else if(rr(r),pp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(s(419)),u.stack="",u.digest=T,Fl({value:u,source:null,stack:null}),r=Pm(i,r,o)}else if(Nt||ho(i,r,o,!1),T=(o&i.childLanes)!==0,Nt||T){if(T=nt,T!==null&&(u=El(T,o),u!==0&&u!==N.retryLane))throw N.retryLane=u,ua(i,u),Tn(T,i,u),Im;mp(w)||Ch(),r=Pm(i,r,o)}else mp(w)?(r.flags|=192,r.child=i.child,r=null):(i=N.treeContext,st=Kn(w.nextSibling),$t=r,ze=!0,Js=null,qn=!1,i!==null&&a_(r,i),r=Om(r,u.children),r.flags|=4096);return r}return f?(ar(),w=u.fallback,f=r.mode,N=i.child,K=N.sibling,u=ds(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,K!==null?w=ds(K,w):(w=ca(w,f,o,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,eu(null,u),u=r.child,w=i.child.memoizedState,w===null?w=Mm(o):(f=w.cachePool,f!==null?(N=It._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=f_(),w={baseLanes:w.baseLanes|o,cachePool:f}),u.memoizedState=w,u.childLanes=Vm(i,T,o),r.memoizedState=Nm,eu(i.child,u)):(rr(r),o=i.child,i=o.sibling,o=ds(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Om(i,r){return r=_h({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function _h(i,r){return i=Rn(22,i,null,r),i.lanes=0,i}function Pm(i,r,o){return ya(r,i.child,null,o),i=Om(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function A0(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Xd(i.return,r,o)}function km(i,r,o,u,f,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=f,T.treeForkCount=g)}function x0(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var T=Tt.current,w=(T&2)!==0;if(w?(T=T&1|2,r.flags|=128):T&=1,he(Tt,T),Xt(i,r,u,o),u=ze?zl:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&A0(i,o,r);else if(i.tag===19)A0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&oh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),km(r,!1,f,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&oh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}km(r,!0,o,null,g,u);break;case"together":km(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function _s(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),ur|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(ho(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ds(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ds(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Lm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Jc(i)))}function pC(i,r,o){switch(r.tag){case 3:ft(r,r.stateNode.containerInfo),tr(r,It,i.memoizedState.cache),ha();break;case 27:case 5:os(r);break;case 4:ft(r,r.stateNode.containerInfo);break;case 10:tr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,lm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(rr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?w0(i,r,o):(rr(r),i=_s(i,r,o),i!==null?i.sibling:null);rr(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(ho(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return x0(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),he(Tt,Tt.current),u)break;return null;case 22:return r.lanes=0,v0(i,r,o,r.pendingProps);case 24:tr(r,It,i.memoizedState.cache)}return _s(i,r,o)}function R0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Nt=!0;else{if(!Lm(i,o)&&(r.flags&128)===0)return Nt=!1,pC(i,r,o);Nt=(i.flags&131072)!==0}else Nt=!1,ze&&(r.flags&1048576)!==0&&r_(r,zl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=pa(r.elementType),r.type=i,typeof i=="function")Fd(i)?(u=_a(i,u),r.tag=1,r=b0(null,r,i,u,o)):(r.tag=0,r=Dm(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===oe){r.tag=11,r=p0(null,r,i,u,o);break e}else if(f===I){r.tag=14,r=g0(null,r,i,u,o);break e}}throw r=Pe(i)||i,Error(s(306,r,""))}}return r;case 0:return Dm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=_a(u,r.pendingProps),b0(i,r,u,f,o);case 3:e:{if(ft(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,im(i,r),Ql(r,u,null,o);var T=r.memoizedState;if(u=T.cache,tr(r,It,u),u!==g.cache&&Wd(r,[It],o,!0),$l(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=S0(i,r,u,o);break e}else if(u!==f){f=zn(Error(s(424)),r),Fl(f),r=S0(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(st=Kn(i.firstChild),$t=r,ze=!0,Js=null,qn=!0,o=v_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ha(),u===f){r=_s(i,r,o);break e}Xt(i,r,u,o)}r=r.child}return r;case 26:return vh(i,r),i===null?(o=UT(r.type,null,r.pendingProps,null))?r.memoizedState=o:ze||(o=r.type,i=r.pendingProps,u=Ph(de.current).createElement(o),u[xt]=r,u[zt]=i,Wt(u,o,i),Rt(u),r.stateNode=u):r.memoizedState=UT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return os(r),i===null&&ze&&(u=r.stateNode=PT(r.type,r.pendingProps,de.current),$t=r,qn=!0,f=st,mr(r.type)?(gp=f,st=Kn(u.firstChild)):st=f),Xt(i,r,r.pendingProps.children,o),vh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ze&&((f=u=st)&&(u=GC(u,r.type,r.pendingProps,qn),u!==null?(r.stateNode=u,$t=r,st=Kn(u.firstChild),qn=!1,f=!0):f=!1),f||er(r)),os(r),f=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,hp(f,g)?u=null:T!==null&&hp(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=cm(i,r,aC,null,null,o),pu._currentValue=f),vh(i,r),Xt(i,r,u,o),r.child;case 6:return i===null&&ze&&((i=o=st)&&(o=KC(o,r.pendingProps,qn),o!==null?(r.stateNode=o,$t=r,st=null,i=!0):i=!1),i||er(r)),null;case 13:return w0(i,r,o);case 4:return ft(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ya(r,null,u,o):Xt(i,r,u,o),r.child;case 11:return p0(i,r,r.type,r.pendingProps,o);case 7:return Xt(i,r,r.pendingProps,o),r.child;case 8:return Xt(i,r,r.pendingProps.children,o),r.child;case 12:return Xt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,tr(r,r.type,u.value),Xt(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,da(r),f=Qt(f),u=u(f),r.flags|=1,Xt(i,r,u,o),r.child;case 14:return g0(i,r,r.type,r.pendingProps,o);case 15:return y0(i,r,r.type,r.pendingProps,o);case 19:return x0(i,r,o);case 31:return mC(i,r,o);case 22:return v0(i,r,o,r.pendingProps);case 24:return da(r),u=Qt(It),i===null?(f=em(),f===null&&(f=nt,g=Zd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},nm(r),tr(r,It,f)):((i.lanes&o)!==0&&(im(i,r),Ql(r,null,null,o),$l()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),tr(r,It,u)):(u=g.cache,tr(r,It,u),u!==f.cache&&Wd(r,[It],o,!0))),Xt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ts(i){i.flags|=4}function Um(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(eT())i.flags|=8192;else throw ga=ih,tm}else i.flags&=-16777217}function C0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!HT(r))if(eT())i.flags|=8192;else throw ga=ih,tm}function Th(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?xc():536870912,i.lanes|=r,wo|=r)}function tu(i,r){if(!ze)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function rt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function gC(i,r,o){var u=r.pendingProps;switch(Kd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),gs(It),it(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(co(r)?Ts(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,$d())),rt(r),null;case 26:var f=r.type,g=r.memoizedState;return i===null?(Ts(r),g!==null?(rt(r),C0(r,g)):(rt(r),Um(r,f,null,u,o))):g?g!==i.memoizedState?(Ts(r),rt(r),C0(r,g)):(rt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Ts(r),rt(r),Um(r,f,i,u,o)),null;case 27:if(ls(r),o=de.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ts(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return rt(r),null}i=J.current,co(r)?o_(r):(i=PT(f,u,o),r.stateNode=i,Ts(r))}return rt(r),null;case 5:if(ls(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ts(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(g=J.current,co(r))o_(r);else{var T=Ph(de.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}g[xt]=r,g[zt]=u;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(Wt(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ts(r)}}return rt(r),Um(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Ts(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=de.current,co(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=$t,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[xt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||wT(i.nodeValue,o)),i||er(r,!0)}else i=Ph(i).createTextNode(u),i[xt]=r,r.stateNode=i}return rt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=co(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[xt]=r}else ha(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),i=!1}else o=$d(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=co(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xt]=r}else ha(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),f=!1}else f=$d(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Th(r,r.updateQueue),rt(r),null);case 4:return it(),i===null&&ap(r.stateNode.containerInfo),rt(r),null;case 10:return gs(r.type),rt(r),null;case 19:if(te(Tt),u=r.memoizedState,u===null)return rt(r),null;if(f=(r.flags&128)!==0,g=u.rendering,g===null)if(f)tu(u,!1);else{if(gt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=oh(i),g!==null){for(r.flags|=128,tu(u,!1),i=g.updateQueue,r.updateQueue=i,Th(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)n_(o,i),o=o.sibling;return he(Tt,Tt.current&1|2),ze&&ms(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&un()>Ah&&(r.flags|=128,f=!0,tu(u,!1),r.lanes=4194304)}else{if(!f)if(i=oh(g),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Th(r,i),tu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!ze)return rt(r),null}else 2*un()-u.renderingStartTime>Ah&&o!==536870912&&(r.flags|=128,f=!0,tu(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=un(),i.sibling=null,o=Tt.current,he(Tt,f?o&1|2:o&1),ze&&ms(r,u.treeForkCount),i):(rt(r),null);case 22:case 23:return In(r),om(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),o=r.updateQueue,o!==null&&Th(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&te(ma),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),gs(It),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function yC(i,r){switch(Kd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return gs(It),it(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ls(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(s(340));ha()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(In(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ha()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return te(Tt),null;case 4:return it(),null;case 10:return gs(r.type),null;case 22:case 23:return In(r),om(),i!==null&&te(ma),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return gs(It),null;case 25:return null;default:return null}}function I0(i,r){switch(Kd(r),r.tag){case 3:gs(It),it();break;case 26:case 27:case 5:ls(r);break;case 4:it();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:te(Tt);break;case 10:gs(r.type);break;case 22:case 23:In(r),om(),i!==null&&te(ma);break;case 24:gs(It)}}function nu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==f)}}catch(w){We(r,r.return,w)}}function or(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,f=r;var N=o,K=w;try{K()}catch(Z){We(f,N,Z)}}}u=u.next}while(u!==g)}}catch(Z){We(r,r.return,Z)}}function D0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{T_(r,o)}catch(u){We(i,i.return,u)}}}function N0(i,r,o){o.props=_a(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){We(i,r,u)}}function iu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){We(i,r,f)}}function Fi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){We(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){We(i,r,f)}else o.current=null}function M0(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){We(i,i.return,f)}}function jm(i,r,o){try{var u=i.stateNode;jC(u,i.type,o,r),u[zt]=r}catch(f){We(i,i.return,f)}}function V0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&mr(i.type)||i.tag===4}function Bm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||V0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&mr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=li));else if(u!==4&&(u===27&&mr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(zm(i,r,o),i=i.sibling;i!==null;)zm(i,r,o),i=i.sibling}function Eh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&mr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Eh(i,r,o),i=i.sibling;i!==null;)Eh(i,r,o),i=i.sibling}function O0(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Wt(r,u,o),r[xt]=i,r[zt]=o}catch(g){We(i,i.return,g)}}var Es=!1,Mt=!1,Fm=!1,P0=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function vC(i,r){if(i=i.containerInfo,up=Fh,i=Yv(i),Pd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,w=-1,N=-1,K=0,Z=0,ne=i,$=null;t:for(;;){for(var X;ne!==o||f!==0&&ne.nodeType!==3||(w=T+f),ne!==g||u!==0&&ne.nodeType!==3||(N=T+u),ne.nodeType===3&&(T+=ne.nodeValue.length),(X=ne.firstChild)!==null;)$=ne,ne=X;for(;;){if(ne===i)break t;if($===o&&++K===f&&(w=T),$===g&&++Z===u&&(N=T),(X=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=X}o=w===-1||N===-1?null:{start:w,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(cp={focusedElem:i,selectionRange:o},Fh=!1,Ht=r;Ht!==null;)if(r=Ht,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ht=i;else for(;Ht!==null;){switch(r=Ht,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var pe=_a(o.type,f);i=u.getSnapshotBeforeUpdate(pe,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Te){We(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)dp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":dp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ht=i;break}Ht=r.return}}function k0(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ss(i,o),u&4&&nu(5,o);break;case 1:if(Ss(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){We(o,o.return,T)}else{var f=_a(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){We(o,o.return,T)}}u&64&&D0(o),u&512&&iu(o,o.return);break;case 3:if(Ss(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{T_(i,r)}catch(T){We(o,o.return,T)}}break;case 27:r===null&&u&4&&O0(o);case 26:case 5:Ss(i,o),r===null&&u&4&&M0(o),u&512&&iu(o,o.return);break;case 12:Ss(i,o);break;case 31:Ss(i,o),u&4&&j0(i,o);break;case 13:Ss(i,o),u&4&&B0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=RC.bind(null,o),YC(i,o))));break;case 22:if(u=o.memoizedState!==null||Es,!u){r=r!==null&&r.memoizedState!==null||Mt,f=Es;var g=Mt;Es=u,(Mt=r)&&!g?ws(i,o,(o.subtreeFlags&8772)!==0):Ss(i,o),Es=f,Mt=g}break;case 30:break;default:Ss(i,o)}}function L0(i){var r=i.alternate;r!==null&&(i.alternate=null,L0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ya(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ut=null,gn=!1;function bs(i,r,o){for(o=o.child;o!==null;)U0(i,r,o),o=o.sibling}function U0(i,r,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(si,o)}catch{}switch(o.tag){case 26:Mt||Fi(o,r),bs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mt||Fi(o,r);var u=ut,f=gn;mr(o.type)&&(ut=o.stateNode,gn=!1),bs(i,r,o),fu(o.stateNode),ut=u,gn=f;break;case 5:Mt||Fi(o,r);case 6:if(u=ut,f=gn,ut=null,bs(i,r,o),ut=u,gn=f,ut!==null)if(gn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(o.stateNode)}catch(g){We(o,r,g)}else try{ut.removeChild(o.stateNode)}catch(g){We(o,r,g)}break;case 18:ut!==null&&(gn?(i=ut,DT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Mo(i)):DT(ut,o.stateNode));break;case 4:u=ut,f=gn,ut=o.stateNode.containerInfo,gn=!0,bs(i,r,o),ut=u,gn=f;break;case 0:case 11:case 14:case 15:or(2,o,r),Mt||or(4,o,r),bs(i,r,o);break;case 1:Mt||(Fi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&N0(o,r,u)),bs(i,r,o);break;case 21:bs(i,r,o);break;case 22:Mt=(u=Mt)||o.memoizedState!==null,bs(i,r,o),Mt=u;break;default:bs(i,r,o)}}function j0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Mo(i)}catch(o){We(r,r.return,o)}}}function B0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Mo(i)}catch(o){We(r,r.return,o)}}function _C(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new P0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new P0),r;default:throw Error(s(435,i.tag))}}function bh(i,r){var o=_C(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=CC.bind(null,i,u);u.then(f,f)}})}function yn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,T=r,w=T;e:for(;w!==null;){switch(w.tag){case 27:if(mr(w.type)){ut=w.stateNode,gn=!1;break e}break;case 5:ut=w.stateNode,gn=!1;break e;case 3:case 4:ut=w.stateNode.containerInfo,gn=!0;break e}w=w.return}if(ut===null)throw Error(s(160));U0(g,T,f),ut=null,gn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)z0(r,i),r=r.sibling}var mi=null;function z0(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:yn(r,i),vn(i),u&4&&(or(3,i,i.return),nu(3,i),or(5,i,i.return));break;case 1:yn(r,i),vn(i),u&512&&(Mt||o===null||Fi(o,o.return)),u&64&&Es&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=mi;if(yn(r,i),vn(i),u&512&&(Mt||o===null||Fi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ci]||g[xt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Wt(g,u,o),g[xt]=i,Rt(g),u=g;break e;case"link":var T=zT("link","href",f).get(u+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break t}}g=f.createElement(u),Wt(g,u,o),f.head.appendChild(g);break;case"meta":if(T=zT("meta","content",f).get(u+(o.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break t}}g=f.createElement(u),Wt(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[xt]=i,Rt(g),u=g}i.stateNode=u}else FT(f,i.type,i.stateNode);else i.stateNode=BT(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?FT(f,i.type,i.stateNode):BT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&jm(i,i.memoizedProps,o.memoizedProps)}break;case 27:yn(r,i),vn(i),u&512&&(Mt||o===null||Fi(o,o.return)),o!==null&&u&4&&jm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(yn(r,i),vn(i),u&512&&(Mt||o===null||Fi(o,o.return)),i.flags&32){f=i.stateNode;try{pn(f,"")}catch(pe){We(i,i.return,pe)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,jm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Fm=!0);break;case 6:if(yn(r,i),vn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(pe){We(i,i.return,pe)}}break;case 3:if(Uh=null,f=mi,mi=kh(r.containerInfo),yn(r,i),mi=f,vn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Mo(r.containerInfo)}catch(pe){We(i,i.return,pe)}Fm&&(Fm=!1,F0(i));break;case 4:u=mi,mi=kh(i.stateNode.containerInfo),yn(r,i),vn(i),mi=u;break;case 12:yn(r,i),vn(i);break;case 31:yn(r,i),vn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bh(i,u)));break;case 13:yn(r,i),vn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wh=un()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bh(i,u)));break;case 22:f=i.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,K=Es,Z=Mt;if(Es=K||f,Mt=Z||N,yn(r,i),Mt=Z,Es=K,vn(i),u&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||N||Es||Mt||Ta(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){N=o=r;try{if(g=N.stateNode,f)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=N.stateNode;var ne=N.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(pe){We(N,N.return,pe)}}}else if(r.tag===6){if(o===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(pe){We(N,N.return,pe)}}}else if(r.tag===18){if(o===null){N=r;try{var X=N.stateNode;f?NT(X,!0):NT(N.stateNode,!1)}catch(pe){We(N,N.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,bh(i,o))));break;case 19:yn(r,i),vn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,bh(i,u)));break;case 30:break;case 21:break;default:yn(r,i),vn(i)}}function vn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(V0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Bm(i);Eh(i,g,f);break;case 5:var T=o.stateNode;o.flags&32&&(pn(T,""),o.flags&=-33);var w=Bm(i);Eh(i,w,T);break;case 3:case 4:var N=o.stateNode.containerInfo,K=Bm(i);zm(i,K,N);break;default:throw Error(s(161))}}catch(Z){We(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function F0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;F0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ss(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)k0(i,r.alternate,r),r=r.sibling}function Ta(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:or(4,r,r.return),Ta(r);break;case 1:Fi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&N0(r,r.return,o),Ta(r);break;case 27:fu(r.stateNode);case 26:case 5:Fi(r,r.return),Ta(r);break;case 22:r.memoizedState===null&&Ta(r);break;case 30:Ta(r);break;default:Ta(r)}i=i.sibling}}function ws(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:ws(f,g,o),nu(4,g);break;case 1:if(ws(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){We(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)__(N[f],w)}catch(K){We(u,u.return,K)}}o&&T&64&&D0(g),iu(g,g.return);break;case 27:O0(g);case 26:case 5:ws(f,g,o),o&&u===null&&T&4&&M0(g),iu(g,g.return);break;case 12:ws(f,g,o);break;case 31:ws(f,g,o),o&&T&4&&j0(f,g);break;case 13:ws(f,g,o),o&&T&4&&B0(f,g);break;case 22:g.memoizedState===null&&ws(f,g,o),iu(g,g.return);break;case 30:break;default:ws(f,g,o)}r=r.sibling}}function Hm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Hl(o))}function qm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Hl(i))}function pi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)H0(i,r,o,u),r=r.sibling}function H0(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:pi(i,r,o,u),f&2048&&nu(9,r);break;case 1:pi(i,r,o,u);break;case 3:pi(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Hl(i)));break;case 12:if(f&2048){pi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){We(r,r.return,N)}}else pi(i,r,o,u);break;case 31:pi(i,r,o,u);break;case 13:pi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?pi(i,r,o,u):su(i,r):g._visibility&2?pi(i,r,o,u):(g._visibility|=2,Eo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Hm(T,r);break;case 24:pi(i,r,o,u),f&2048&&qm(r.alternate,r);break;default:pi(i,r,o,u)}}function Eo(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,w=o,N=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:Eo(g,T,w,N,f),nu(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Eo(g,T,w,N,f):su(g,T):(Z._visibility|=2,Eo(g,T,w,N,f)),f&&K&2048&&Hm(T.alternate,T);break;case 24:Eo(g,T,w,N,f),f&&K&2048&&qm(T.alternate,T);break;default:Eo(g,T,w,N,f)}r=r.sibling}}function su(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:su(o,u),f&2048&&Hm(u.alternate,u);break;case 24:su(o,u),f&2048&&qm(u.alternate,u);break;default:su(o,u)}r=r.sibling}}var ru=8192;function bo(i,r,o){if(i.subtreeFlags&ru)for(i=i.child;i!==null;)q0(i,r,o),i=i.sibling}function q0(i,r,o){switch(i.tag){case 26:bo(i,r,o),i.flags&ru&&i.memoizedState!==null&&rI(o,mi,i.memoizedState,i.memoizedProps);break;case 5:bo(i,r,o);break;case 3:case 4:var u=mi;mi=kh(i.stateNode.containerInfo),bo(i,r,o),mi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=ru,ru=16777216,bo(i,r,o),ru=u):bo(i,r,o));break;default:bo(i,r,o)}}function G0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function au(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ht=u,Y0(u,i)}G0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)K0(i),i=i.sibling}function K0(i){switch(i.tag){case 0:case 11:case 15:au(i),i.flags&2048&&or(9,i,i.return);break;case 3:au(i);break;case 12:au(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Sh(i)):au(i);break;default:au(i)}}function Sh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ht=u,Y0(u,i)}G0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:or(8,r,r.return),Sh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Sh(r));break;default:Sh(r)}i=i.sibling}}function Y0(i,r){for(;Ht!==null;){var o=Ht;switch(o.tag){case 0:case 11:case 15:or(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Hl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ht=u;else e:for(o=i;Ht!==null;){u=Ht;var f=u.sibling,g=u.return;if(L0(u),u===o){Ht=null;break e}if(f!==null){f.return=g,Ht=f;break e}Ht=g}}}var TC={getCacheForType:function(i){var r=Qt(It),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Qt(It).controller.signal}},EC=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Ve=null,ke=0,Xe=0,Dn=null,lr=!1,So=!1,Gm=!1,As=0,gt=0,ur=0,Ea=0,Km=0,Nn=0,wo=0,ou=null,_n=null,Ym=!1,wh=0,$0=0,Ah=1/0,xh=null,cr=null,Ut=0,hr=null,Ao=null,xs=0,$m=0,Qm=null,Q0=null,lu=0,Xm=null;function Mn(){return(Ye&2)!==0&&ke!==0?ke&-ke:W.T!==null?np():Rc()}function X0(){if(Nn===0)if((ke&536870912)===0||ze){var i=$r;$r<<=1,($r&3932160)===0&&($r=262144),Nn=i}else Nn=536870912;return i=Cn.current,i!==null&&(i.flags|=32),Nn}function Tn(i,r,o){(i===nt&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)&&(xo(i,0),fr(i,ke,Nn,!1)),Qr(i,o),((Ye&2)===0||i!==nt)&&(i===nt&&((Ye&2)===0&&(Ea|=o),gt===4&&fr(i,ke,Nn,!1)),Hi(i))}function W0(i,r,o){if((Ye&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ri(i,r),f=u?wC(i,r):Zm(i,r,!0),g=u;do{if(f===0){So&&!u&&fr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!bC(o)){f=Zm(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var w=i;f=ou;var N=w.current.memoizedState.isDehydrated;if(N&&(xo(w,T).flags|=256),T=Zm(w,T,!1),T!==2){if(Gm&&!N){w.errorRecoveryDisabledLanes|=g,Ea|=g,f=4;break e}g=_n,_n=f,g!==null&&(_n===null?_n=g:_n.push.apply(_n,g))}f=T}if(g=!1,f!==2)continue}}if(f===1){xo(i,0),fr(i,r,0,!0);break}e:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:fr(u,r,Nn,!lr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=wh+300-un(),10<f)){if(fr(u,r,Nn,!lr),Ai(u,0,!0)!==0)break e;xs=r,u.timeoutHandle=CT(Z0.bind(null,u,o,_n,xh,Ym,r,Nn,Ea,wo,lr,g,"Throttled",-0,0),f);break e}Z0(u,o,_n,xh,Ym,r,Nn,Ea,wo,lr,g,null,-0,0)}}break}while(!0);Hi(i)}function Z0(i,r,o,u,f,g,T,w,N,K,Z,ne,$,X){if(i.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},q0(r,g,ne);var pe=(g&62914560)===g?wh-un():(g&4194048)===g?$0-un():0;if(pe=aI(ne,pe),pe!==null){xs=g,i.cancelPendingCommit=pe(aT.bind(null,i,r,g,o,u,f,T,w,N,Z,ne,null,$,X)),fr(i,g,T,!K);return}}aT(i,r,g,o,u,f,T,w,N)}function bC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!xn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function fr(i,r,o,u){r&=~Km,r&=~Ea,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-vt(f),T=1<<g;u[g]=-1,f&=~T}o!==0&&Xr(i,o,r)}function Rh(){return(Ye&6)===0?(uu(0),!1):!0}function Wm(){if(Ve!==null){if(Xe===0)var i=Ve.return;else i=Ve,ps=fa=null,dm(i),go=null,Gl=0,i=Ve;for(;i!==null;)I0(i.alternate,i),i=i.return;Ve=null}}function xo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,FC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),xs=0,Wm(),nt=i,Ve=o=ds(i.current,null),ke=r,Xe=0,Dn=null,lr=!1,So=ri(i,r),Gm=!1,wo=Nn=Km=Ea=ur=gt=0,_n=ou=null,Ym=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-vt(u),g=1<<f;r|=i[f],u&=~g}return As=r,$c(),o}function J0(i,r){Ne=null,W.H=Jl,r===po||r===nh?(r=p_(),Xe=3):r===tm?(r=p_(),Xe=4):Xe=r===Im?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Ve===null&&(gt=1,gh(i,zn(r,i.current)))}function eT(){var i=Cn.current;return i===null?!0:(ke&4194048)===ke?Gn===null:(ke&62914560)===ke||(ke&536870912)!==0?i===Gn:!1}function tT(){var i=W.H;return W.H=Jl,i===null?Jl:i}function nT(){var i=W.A;return W.A=TC,i}function Ch(){gt=4,lr||(ke&4194048)!==ke&&Cn.current!==null||(So=!0),(ur&134217727)===0&&(Ea&134217727)===0||nt===null||fr(nt,ke,Nn,!1)}function Zm(i,r,o){var u=Ye;Ye|=2;var f=tT(),g=nT();(nt!==i||ke!==r)&&(xh=null,xo(i,r)),r=!1;var T=gt;e:do try{if(Xe!==0&&Ve!==null){var w=Ve,N=Dn;switch(Xe){case 8:Wm(),T=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(r=!0);var K=Xe;if(Xe=0,Dn=null,Ro(i,w,N,K),o&&So){T=0;break e}break;default:K=Xe,Xe=0,Dn=null,Ro(i,w,N,K)}}SC(),T=gt;break}catch(Z){J0(i,Z)}while(!0);return r&&i.shellSuspendCounter++,ps=fa=null,Ye=u,W.H=f,W.A=g,Ve===null&&(nt=null,ke=0,$c()),T}function SC(){for(;Ve!==null;)iT(Ve)}function wC(i,r){var o=Ye;Ye|=2;var u=tT(),f=nT();nt!==i||ke!==r?(xh=null,Ah=un()+500,xo(i,r)):So=ri(i,r);e:do try{if(Xe!==0&&Ve!==null){r=Ve;var g=Dn;t:switch(Xe){case 1:Xe=0,Dn=null,Ro(i,r,g,1);break;case 2:case 9:if(d_(g)){Xe=0,Dn=null,sT(r);break}r=function(){Xe!==2&&Xe!==9||nt!==i||(Xe=7),Hi(i)},g.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:d_(g)?(Xe=0,Dn=null,sT(r)):(Xe=0,Dn=null,Ro(i,r,g,7));break;case 5:var T=null;switch(Ve.tag){case 26:T=Ve.memoizedState;case 5:case 27:var w=Ve;if(T?HT(T):w.stateNode.complete){Xe=0,Dn=null;var N=w.sibling;if(N!==null)Ve=N;else{var K=w.return;K!==null?(Ve=K,Ih(K)):Ve=null}break t}}Xe=0,Dn=null,Ro(i,r,g,5);break;case 6:Xe=0,Dn=null,Ro(i,r,g,6);break;case 8:Wm(),gt=6;break e;default:throw Error(s(462))}}AC();break}catch(Z){J0(i,Z)}while(!0);return ps=fa=null,W.H=u,W.A=f,Ye=o,Ve!==null?0:(nt=null,ke=0,$c(),gt)}function AC(){for(;Ve!==null&&!Cd();)iT(Ve)}function iT(i){var r=R0(i.alternate,i,As);i.memoizedProps=i.pendingProps,r===null?Ih(i):Ve=r}function sT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=E0(o,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=E0(o,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:dm(r);default:I0(o,r),r=Ve=n_(r,As),r=R0(o,r,As)}i.memoizedProps=i.pendingProps,r===null?Ih(i):Ve=r}function Ro(i,r,o,u){ps=fa=null,dm(r),go=null,Gl=0;var f=r.return;try{if(dC(i,f,r,o,ke)){gt=1,gh(i,zn(o,i.current)),Ve=null;return}}catch(g){if(f!==null)throw Ve=f,g;gt=1,gh(i,zn(o,i.current)),Ve=null;return}r.flags&32768?(ze||u===1?i=!0:So||(ke&536870912)!==0?i=!1:(lr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Cn.current,u!==null&&u.tag===13&&(u.flags|=16384))),rT(r,i)):Ih(r)}function Ih(i){var r=i;do{if((r.flags&32768)!==0){rT(r,lr);return}i=r.return;var o=gC(r.alternate,r,As);if(o!==null){Ve=o;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=i}while(r!==null);gt===0&&(gt=5)}function rT(i,r){do{var o=yC(i.alternate,i);if(o!==null){o.flags&=32767,Ve=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=o}while(i!==null);gt=6,Ve=null}function aT(i,r,o,u,f,g,T,w,N){i.cancelPendingCommit=null;do Dh();while(Ut!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Bd,Nd(i,o,g,T,w,N),i===nt&&(Ve=nt=null,ke=0),Ao=r,hr=i,xs=o,$m=g,Qm=f,Q0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,IC(Fs,function(){return hT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=re.p,re.p=2,T=Ye,Ye|=4;try{vC(i,r,o)}finally{Ye=T,re.p=f,W.T=u}}Ut=1,oT(),lT(),uT()}}function oT(){if(Ut===1){Ut=0;var i=hr,r=Ao,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=re.p;re.p=2;var f=Ye;Ye|=4;try{z0(r,i);var g=cp,T=Yv(i.containerInfo),w=g.focusedElem,N=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&Kv(w.ownerDocument.documentElement,w)){if(N!==null&&Pd(w)){var K=N.start,Z=N.end;if(Z===void 0&&(Z=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(Z,w.value.length);else{var ne=w.ownerDocument||document,$=ne&&ne.defaultView||window;if($.getSelection){var X=$.getSelection(),pe=w.textContent.length,Te=Math.min(N.start,pe),tt=N.end===void 0?Te:Math.min(N.end,pe);!X.extend&&Te>tt&&(T=tt,tt=Te,Te=T);var B=Gv(w,Te),L=Gv(w,tt);if(B&&L&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var q=ne.createRange();q.setStart(B.node,B.offset),X.removeAllRanges(),Te>tt?(X.addRange(q),X.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),X.addRange(q))}}}}for(ne=[],X=w;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ne.length;w++){var ee=ne[w];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Fh=!!up,cp=up=null}finally{Ye=f,re.p=u,W.T=o}}i.current=r,Ut=2}}function lT(){if(Ut===2){Ut=0;var i=hr,r=Ao,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=re.p;re.p=2;var f=Ye;Ye|=4;try{k0(i,r.alternate,r)}finally{Ye=f,re.p=u,W.T=o}}Ut=3}}function uT(){if(Ut===4||Ut===3){Ut=0,Tc();var i=hr,r=Ao,o=xs,u=Q0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,Ao=hr=null,cT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(cr=null),us(o),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(si,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=re.p,re.p=2,W.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var w=u[T];g(w.value,{componentStack:w.stack})}}finally{W.T=r,re.p=f}}(xs&3)!==0&&Dh(),Hi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Xm?lu++:(lu=0,Xm=i):lu=0,uu(0)}}function cT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Hl(r)))}function Dh(){return oT(),lT(),uT(),hT()}function hT(){if(Ut!==5)return!1;var i=hr,r=$m;$m=0;var o=us(xs),u=W.T,f=re.p;try{re.p=32>o?32:o,W.T=null,o=Qm,Qm=null;var g=hr,T=xs;if(Ut=0,Ao=hr=null,xs=0,(Ye&6)!==0)throw Error(s(331));var w=Ye;if(Ye|=4,K0(g.current),H0(g,g.current,T,o),Ye=w,uu(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(si,g)}catch{}return!0}finally{re.p=f,W.T=u,cT(i,r)}}function fT(i,r,o){r=zn(o,r),r=Cm(i.stateNode,r,2),i=sr(i,r,2),i!==null&&(Qr(i,2),Hi(i))}function We(i,r,o){if(i.tag===3)fT(i,i,o);else for(;r!==null;){if(r.tag===3){fT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(cr===null||!cr.has(u))){i=zn(o,i),o=d0(2),u=sr(r,o,2),u!==null&&(m0(o,u,r,i),Qr(u,2),Hi(u));break}}r=r.return}}function Jm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new EC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Gm=!0,f.add(o),i=xC.bind(null,i,r,o),r.then(i,i))}function xC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(ke&o)===o&&(gt===4||gt===3&&(ke&62914560)===ke&&300>un()-wh?(Ye&2)===0&&xo(i,0):Km|=o,wo===ke&&(wo=0)),Hi(i)}function dT(i,r){r===0&&(r=xc()),i=ua(i,r),i!==null&&(Qr(i,r),Hi(i))}function RC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),dT(i,o)}function CC(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),dT(i,o)}function IC(i,r){return Lt(i,r)}var Nh=null,Co=null,ep=!1,Mh=!1,tp=!1,dr=0;function Hi(i){i!==Co&&i.next===null&&(Co===null?Nh=Co=i:Co=Co.next=i),Mh=!0,ep||(ep=!0,NC())}function uu(i,r){if(!tp&&Mh){tp=!0;do for(var o=!1,u=Nh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var T=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-vt(42|i)+1)-1,g&=f&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,yT(u,g))}else g=ke,g=Ai(u,u===nt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ri(u,g)||(o=!0,yT(u,g));u=u.next}while(o);tp=!1}}function DC(){mT()}function mT(){Mh=ep=!1;var i=0;dr!==0&&zC()&&(i=dr);for(var r=un(),o=null,u=Nh;u!==null;){var f=u.next,g=pT(u,r);g===0?(u.next=null,o===null?Nh=f:o.next=f,f===null&&(Co=o)):(o=u,(i!==0||(g&3)!==0)&&(Mh=!0)),u=f}Ut!==0&&Ut!==5||uu(i),dr!==0&&(dr=0)}function pT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-vt(g),w=1<<T,N=f[T];N===-1?((w&o)===0||(w&u)!==0)&&(f[T]=Dd(w,r)):N<=r&&(i.expiredLanes|=w),g&=~w}if(r=nt,o=ke,o=Ai(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&zs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ri(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&zs(u),us(o)){case 2:case 8:o=_l;break;case 32:o=Fs;break;case 268435456:o=Ec;break;default:o=Fs}return u=gT.bind(null,i),o=Lt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&zs(u),i.callbackPriority=2,i.callbackNode=null,2}function gT(i,r){if(Ut!==0&&Ut!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Dh()&&i.callbackNode!==o)return null;var u=ke;return u=Ai(i,i===nt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(W0(i,u,r),pT(i,un()),i.callbackNode!=null&&i.callbackNode===o?gT.bind(null,i):null)}function yT(i,r){if(Dh())return null;W0(i,r,!0)}function NC(){HC(function(){(Ye&6)!==0?Lt(vl,DC):mT()})}function np(){if(dr===0){var i=fo;i===0&&(i=Si,Si<<=1,(Si&261888)===0&&(Si=256)),dr=i}return dr}function vT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Wa(""+i)}function _T(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function MC(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=vT((f[zt]||null).action),T=u.submitter;T&&(r=(r=T[zt]||null)?vT(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var w=new ki("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(dr!==0){var N=T?_T(f,T):new FormData(f);bm(o,{pending:!0,data:N,method:f.method,action:g},null,N)}}else typeof g=="function"&&(w.preventDefault(),N=T?_T(f,T):new FormData(f),bm(o,{pending:!0,data:N,method:f.method,action:g},g,N))},currentTarget:f}]})}}for(var ip=0;ip<jd.length;ip++){var sp=jd[ip],VC=sp.toLowerCase(),OC=sp[0].toUpperCase()+sp.slice(1);di(VC,"on"+OC)}di(Xv,"onAnimationEnd"),di(Wv,"onAnimationIteration"),di(Zv,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(XR,"onTransitionRun"),di(WR,"onTransitionStart"),di(ZR,"onTransitionCancel"),di(Jv,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function TT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var w=u[T],N=w.instance,K=w.currentTarget;if(w=w.listener,N!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=K;try{g(f)}catch(Z){Yc(Z)}f.currentTarget=null,g=N}else for(T=0;T<u.length;T++){if(w=u[T],N=w.instance,K=w.currentTarget,w=w.listener,N!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=K;try{g(f)}catch(Z){Yc(Z)}f.currentTarget=null,g=N}}}}function Oe(i,r){var o=r[Ka];o===void 0&&(o=r[Ka]=new Set);var u=i+"__bubble";o.has(u)||(ET(r,i,2,!1),o.add(u))}function rp(i,r,o){var u=0;r&&(u|=4),ET(o,i,u,r)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function ap(i){if(!i[Vh]){i[Vh]=!0,bl.forEach(function(o){o!=="selectionchange"&&(PC.has(o)||rp(o,!1,i),rp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Vh]||(r[Vh]=!0,rp("selectionchange",!1,r))}}function ET(i,r,o,u){switch(XT(r)){case 2:var f=uI;break;case 8:f=cI;break;default:f=Ep}o=f.bind(null,r,o,i),f=void 0,!ta||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function op(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===f)break;if(T===4)for(T=u.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;w!==null;){if(T=Ii(w),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){u=g=T;continue e}w=w.parentNode}}u=u.return}$s(function(){var K=g,Z=Ln(o),ne=[];e:{var $=e_.get(i);if($!==void 0){var X=ki,pe=i;switch(i){case"keypress":if(ia(o)===0)break e;case"keydown":case"keyup":X=qc;break;case"focusin":pe="focus",X=ra;break;case"focusout":pe="blur",X=ra;break;case"beforeblur":case"afterblur":X=ra;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case Xv:case Wv:case Zv:X=Lc;break;case Jv:X=A;break;case"scroll":case"scrollend":X=Ol;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=fs;break;case"toggle":case"beforetoggle":X=De}var Te=(r&4)!==0,tt=!Te&&(i==="scroll"||i==="scrollend"),B=Te?$!==null?$+"Capture":null:$;Te=[];for(var L=K,q;L!==null;){var ee=L;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||B===null||(ee=ui(L,B),ee!=null&&Te.push(hu(L,ee,q))),tt)break;L=L.return}0<Te.length&&($=new X($,pe,null,o,Z),ne.push({event:$,listeners:Te}))}}if((r&7)===0){e:{if($=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",$&&o!==Nl&&(pe=o.relatedTarget||o.fromElement)&&(Ii(pe)||pe[Ri]))break e;if((X||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,X?(pe=o.relatedTarget||o.toElement,X=K,pe=pe?Ii(pe):null,pe!==null&&(tt=l(pe),Te=pe.tag,pe!==tt||Te!==5&&Te!==27&&Te!==6)&&(pe=null)):(X=null,pe=K),X!==pe)){if(Te=Pl,ee="onMouseLeave",B="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(Te=fs,ee="onPointerLeave",B="onPointerEnter",L="pointer"),tt=X==null?$:wn(X),q=pe==null?$:wn(pe),$=new Te(ee,L+"leave",X,o,Z),$.target=tt,$.relatedTarget=q,ee=null,Ii(Z)===K&&(Te=new Te(B,L+"enter",pe,o,Z),Te.target=q,Te.relatedTarget=tt,ee=Te),tt=ee,X&&pe)t:{for(Te=kC,B=X,L=pe,q=0,ee=B;ee;ee=Te(ee))q++;ee=0;for(var ve=L;ve;ve=Te(ve))ee++;for(;0<q-ee;)B=Te(B),q--;for(;0<ee-q;)L=Te(L),ee--;for(;q--;){if(B===L||L!==null&&B===L.alternate){Te=B;break t}B=Te(B),L=Te(L)}Te=null}else Te=null;X!==null&&bT(ne,$,X,Te,!1),pe!==null&&tt!==null&&bT(ne,tt,pe,Te,!0)}}e:{if($=K?wn(K):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var qe=jv;else if(Lv($))if(Bv)qe=YR;else{qe=GR;var ye=qR}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&Xa(K.elementType)&&(qe=jv):qe=KR;if(qe&&(qe=qe(i,K))){Uv(ne,qe,o,Z);break e}ye&&ye(i,$,K),i==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&Cl($,"number",$.value)}switch(ye=K?wn(K):window,i){case"focusin":(Lv(ye)||ye.contentEditable==="true")&&(so=ye,kd=K,Bl=null);break;case"focusout":Bl=kd=so=null;break;case"mousedown":Ld=!0;break;case"contextmenu":case"mouseup":case"dragend":Ld=!1,$v(ne,o,Z);break;case"selectionchange":if(QR)break;case"keydown":case"keyup":$v(ne,o,Z)}var Me;if(Ke)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else io?aa(i,o)&&(Le="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(ji&&o.locale!=="ko"&&(io||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&io&&(Me=Vl()):(Pi=Z,Ml="value"in Pi?Pi.value:Pi.textContent,io=!0)),ye=Oh(K,Le),0<ye.length&&(Le=new Ui(Le,i,null,o,Z),ne.push({event:Le,listeners:ye}),Me?Le.data=Me:(Me=no(o),Me!==null&&(Le.data=Me)))),(Me=jn?BR(i,o):zR(i,o))&&(Le=Oh(K,"onBeforeInput"),0<Le.length&&(ye=new Ui("onBeforeInput","beforeinput",null,o,Z),ne.push({event:ye,listeners:Le}),ye.data=Me)),MC(ne,i,K,o,Z)}TT(ne,r)})}function hu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Oh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=ui(i,o),f!=null&&u.unshift(hu(i,f,g)),f=ui(i,r),f!=null&&u.push(hu(i,f,g))),i.tag===3)return u;i=i.return}return[]}function kC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function bT(i,r,o,u,f){for(var g=r._reactName,T=[];o!==null&&o!==u;){var w=o,N=w.alternate,K=w.stateNode;if(w=w.tag,N!==null&&N===u)break;w!==5&&w!==26&&w!==27||K===null||(N=K,f?(K=ui(o,g),K!=null&&T.unshift(hu(o,K,N))):f||(K=ui(o,g),K!=null&&T.push(hu(o,K,N)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var LC=/\r\n?/g,UC=/\u0000|\uFFFD/g;function ST(i){return(typeof i=="string"?i:""+i).replace(LC,`
`).replace(UC,"")}function wT(i,r){return r=ST(r),ST(i)===r}function et(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||pn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&pn(i,""+u);break;case"className":An(i,"class",u);break;case"tabIndex":An(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,o,u);break;case"style":Dl(i,u,g);break;case"data":if(r!=="object"){An(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Wa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&et(i,r,"name",f.name,f,null),et(i,r,"formEncType",f.formEncType,f,null),et(i,r,"formMethod",f.formMethod,f,null),et(i,r,"formTarget",f.formTarget,f,null)):(et(i,r,"encType",f.encType,f,null),et(i,r,"method",f.method,f,null),et(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Wa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=li);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Wa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),$a(i,"popover",u);break;case"xlinkActuate":Ct(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ct(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ct(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ct(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ct(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ct(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ct(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ct(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ct(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$a(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Oc.get(o)||o,$a(i,o,u))}}function lp(i,r,o,u,f,g){switch(o){case"style":Dl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?pn(i,u):(typeof u=="number"||typeof u=="bigint")&&pn(i,""+u);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[zt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):$a(i,o,u)}}}function Wt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,g,T,o,null)}}f&&et(i,r,"srcSet",o.srcSet,o,null),u&&et(i,r,"src",o.src,o,null);return;case"input":Oe("invalid",i);var w=g=T=f=null,N=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":T=Z;break;case"checked":N=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:et(i,r,u,Z,o,null)}}Nc(i,g,w,N,K,T,f,!1);return;case"select":Oe("invalid",i),u=T=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:et(i,r,f,w,o,null)}r=g,o=T,i.multiple=!!u,r!=null?qs(i,!!u,r,!1):o!=null&&qs(i,!!u,o,!0);return;case"textarea":Oe("invalid",i),g=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:et(i,r,T,w,o,null)}Gs(i,u,f,g);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(i,r,N,u,o,null)}return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(u=0;u<cu.length;u++)Oe(cu[u],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,K,u,o,null)}return;default:if(Xa(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&lp(i,r,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&et(i,r,w,u,o,null))}function jC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,T=null,w=null,N=null,K=null,Z=null;for(X in o){var ne=o[X];if(o.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=ne;default:u.hasOwnProperty(X)||et(i,r,X,null,u,ne)}}for(var $ in u){var X=u[$];if(ne=o[$],u.hasOwnProperty($)&&(X!=null||ne!=null))switch($){case"type":g=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":Z=X;break;case"value":T=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ne&&et(i,r,$,X,u,ne)}}Qa(i,T,w,N,K,Z,g,f);return;case"select":X=T=w=$=null;for(g in o)if(N=o[g],o.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":X=N;default:u.hasOwnProperty(g)||et(i,r,g,null,u,N)}for(f in u)if(g=u[f],N=o[f],u.hasOwnProperty(f)&&(g!=null||N!=null))switch(f){case"value":$=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==N&&et(i,r,f,g,u,N)}r=w,o=T,u=X,$!=null?qs(i,!!o,$,!1):!!u!=!!o&&(r!=null?qs(i,!!o,r,!0):qs(i,!!o,o?[]:"",!1));return;case"textarea":X=$=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(i,r,w,null,u,f)}for(T in u)if(f=u[T],g=o[T],u.hasOwnProperty(T)&&(f!=null||g!=null))switch(T){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&et(i,r,T,f,u,g)}Mc(i,$,X);return;case"option":for(var pe in o)if($=o[pe],o.hasOwnProperty(pe)&&$!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:et(i,r,pe,null,u,$)}for(N in u)if($=u[N],X=o[N],u.hasOwnProperty(N)&&$!==X&&($!=null||X!=null))switch(N){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:et(i,r,N,$,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)$=o[Te],o.hasOwnProperty(Te)&&$!=null&&!u.hasOwnProperty(Te)&&et(i,r,Te,null,u,$);for(K in u)if($=u[K],X=o[K],u.hasOwnProperty(K)&&$!==X&&($!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:et(i,r,K,$,u,X)}return;default:if(Xa(r)){for(var tt in o)$=o[tt],o.hasOwnProperty(tt)&&$!==void 0&&!u.hasOwnProperty(tt)&&lp(i,r,tt,void 0,u,$);for(Z in u)$=u[Z],X=o[Z],!u.hasOwnProperty(Z)||$===X||$===void 0&&X===void 0||lp(i,r,Z,$,u,X);return}}for(var B in o)$=o[B],o.hasOwnProperty(B)&&$!=null&&!u.hasOwnProperty(B)&&et(i,r,B,null,u,$);for(ne in u)$=u[ne],X=o[ne],!u.hasOwnProperty(ne)||$===X||$==null&&X==null||et(i,r,ne,$,u,X)}function AT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],g=f.transferSize,T=f.initiatorType,w=f.duration;if(g&&w&&AT(T)){for(T=0,w=f.responseEnd,u+=1;u<o.length;u++){var N=o[u],K=N.startTime;if(K>w)break;var Z=N.transferSize,ne=N.initiatorType;Z&&AT(ne)&&(N=N.responseEnd,T+=Z*(N<w?1:(w-K)/(N-K)))}if(--u,r+=8*(g+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var up=null,cp=null;function Ph(i){return i.nodeType===9?i:i.ownerDocument}function xT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function hp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var fp=null;function zC(){var i=window.event;return i&&i.type==="popstate"?i===fp?!1:(fp=i,!0):(fp=null,!1)}var CT=typeof setTimeout=="function"?setTimeout:void 0,FC=typeof clearTimeout=="function"?clearTimeout:void 0,IT=typeof Promise=="function"?Promise:void 0,HC=typeof queueMicrotask=="function"?queueMicrotask:typeof IT<"u"?function(i){return IT.resolve(null).then(i).catch(qC)}:CT;function qC(i){setTimeout(function(){throw i})}function mr(i){return i==="head"}function DT(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),Mo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")fu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,fu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,w=g.nodeName;g[Ci]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&fu(i.ownerDocument.body);o=f}while(o);Mo(r)}function NT(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function dp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":dp(o),Ya(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function GC(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ci])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Kn(i.nextSibling),i===null)break}return null}function KC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Kn(i.nextSibling),i===null))return null;return i}function MT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Kn(i.nextSibling),i===null))return null;return i}function mp(i){return i.data==="$?"||i.data==="$~"}function pp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function YC(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Kn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var gp=null;function VT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Kn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function OT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function PT(i,r,o){switch(r=Ph(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function fu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ya(i)}var Yn=new Map,kT=new Set;function kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Rs=re.d;re.d={f:$C,r:QC,D:XC,C:WC,L:ZC,m:JC,X:tI,S:eI,M:nI};function $C(){var i=Rs.f(),r=Rh();return i||r}function QC(i){var r=kn(i);r!==null&&r.tag===5&&r.type==="form"?J_(r):Rs.r(i)}var Io=typeof document>"u"?null:document;function LT(i,r,o){var u=Io;if(u&&typeof r=="string"&&r){var f=mn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),kT.has(f)||(kT.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Wt(r,"link",i),Rt(r),u.head.appendChild(r)))}}function XC(i){Rs.D(i),LT("dns-prefetch",i,null)}function WC(i,r){Rs.C(i,r),LT("preconnect",i,r)}function ZC(i,r,o){Rs.L(i,r,o);var u=Io;if(u&&i&&r){var f='link[rel="preload"][as="'+mn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+mn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+mn(o.imageSizes)+'"]')):f+='[href="'+mn(i)+'"]';var g=f;switch(r){case"style":g=Do(i);break;case"script":g=No(i)}Yn.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Yn.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(du(g))||r==="script"&&u.querySelector(mu(g))||(r=u.createElement("link"),Wt(r,"link",i),Rt(r),u.head.appendChild(r)))}}function JC(i,r){Rs.m(i,r);var o=Io;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+mn(u)+'"][href="'+mn(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=No(i)}if(!Yn.has(g)&&(i=_({rel:"modulepreload",href:i},r),Yn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(mu(g)))return}u=o.createElement("link"),Wt(u,"link",i),Rt(u),o.head.appendChild(u)}}}function eI(i,r,o){Rs.S(i,r,o);var u=Io;if(u&&i){var f=Di(u).hoistableStyles,g=Do(i);r=r||"default";var T=f.get(g);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(du(g)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Yn.get(g))&&yp(i,o);var N=T=u.createElement("link");Rt(N),Wt(N,"link",i),N._p=new Promise(function(K,Z){N.onload=K,N.onerror=Z}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Lh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:w},f.set(g,T)}}}function tI(i,r){Rs.X(i,r);var o=Io;if(o&&i){var u=Di(o).hoistableScripts,f=No(i),g=u.get(f);g||(g=o.querySelector(mu(f)),g||(i=_({src:i,async:!0},r),(r=Yn.get(f))&&vp(i,r),g=o.createElement("script"),Rt(g),Wt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function nI(i,r){Rs.M(i,r);var o=Io;if(o&&i){var u=Di(o).hoistableScripts,f=No(i),g=u.get(f);g||(g=o.querySelector(mu(f)),g||(i=_({src:i,async:!0,type:"module"},r),(r=Yn.get(f))&&vp(i,r),g=o.createElement("script"),Rt(g),Wt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function UT(i,r,o,u){var f=(f=de.current)?kh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Do(o.href),o=Di(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Do(o.href);var g=Di(f).hoistableStyles,T=g.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=f.querySelector(du(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Yn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Yn.set(i,o),g||iI(f,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=No(o),o=Di(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Do(i){return'href="'+mn(i)+'"'}function du(i){return'link[rel="stylesheet"]['+i+"]"}function jT(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function iI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Wt(r,"link",o),Rt(r),i.head.appendChild(r))}function No(i){return'[src="'+mn(i)+'"]'}function mu(i){return"script[async]"+i}function BT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+mn(o.href)+'"]');if(u)return r.instance=u,Rt(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Rt(u),Wt(u,"style",f),Lh(u,o.precedence,i),r.instance=u;case"stylesheet":f=Do(o.href);var g=i.querySelector(du(f));if(g)return r.state.loading|=4,r.instance=g,Rt(g),g;u=jT(o),(f=Yn.get(f))&&yp(u,f),g=(i.ownerDocument||i).createElement("link"),Rt(g);var T=g;return T._p=new Promise(function(w,N){T.onload=w,T.onerror=N}),Wt(g,"link",u),r.state.loading|=4,Lh(g,o.precedence,i),r.instance=g;case"script":return g=No(o.src),(f=i.querySelector(mu(g)))?(r.instance=f,Rt(f),f):(u=o,(f=Yn.get(g))&&(u=_({},o),vp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Rt(f),Wt(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Lh(u,o.precedence,i));return r.instance}function Lh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===r)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function yp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function vp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Uh=null;function zT(i,r,o){if(Uh===null){var u=new Map,f=Uh=new Map;f.set(o,u)}else f=Uh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Ci]||g[xt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var w=u.get(T);w?w.push(g):u.set(T,[g])}}return u}function FT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function sI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function HT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function rI(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Do(u.href),g=r.querySelector(du(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=jh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Rt(g);return}g=r.ownerDocument||r,u=jT(u),(f=Yn.get(f))&&yp(u,f),g=g.createElement("link"),Rt(g);var T=g;T._p=new Promise(function(w,N){T.onload=w,T.onerror=N}),Wt(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=jh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var _p=0;function aI(i,r){return i.stylesheets&&i.count===0&&zh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&zh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&_p===0&&(_p=62500*BC());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&zh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>_p?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function jh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Bh=null;function zh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Bh=new Map,r.forEach(oI,i),Bh=null,jh.call(i))}function oI(i,r){if(!(r.state.loading&4)){var o=Bh.get(i);if(o)var u=o.get(null);else{o=new Map,Bh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var T=f[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,f),o.set(T,f),this.count++,u=jh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var pu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function lI(i,r,o,u,f,g,T,w,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function qT(i,r,o,u,f,g,T,w,N,K,Z,ne){return i=new lI(i,r,o,T,N,K,Z,ne,w),r=1,g===!0&&(r|=24),g=Rn(3,null,null,r),i.current=g,g.stateNode=i,r=Zd(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},nm(g),i}function GT(i){return i?(i=oo,i):oo}function KT(i,r,o,u,f,g){f=GT(f),u.context===null?u.context=f:u.pendingContext=f,u=ir(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=sr(i,u,r),o!==null&&(Tn(o,i,r),Yl(o,i,r))}function YT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Tp(i,r){YT(i,r),(i=i.alternate)&&YT(i,r)}function $T(i){if(i.tag===13||i.tag===31){var r=ua(i,67108864);r!==null&&Tn(r,i,67108864),Tp(i,67108864)}}function QT(i){if(i.tag===13||i.tag===31){var r=Mn();r=Wr(r);var o=ua(i,r);o!==null&&Tn(o,i,r),Tp(i,r)}}var Fh=!0;function uI(i,r,o,u){var f=W.T;W.T=null;var g=re.p;try{re.p=2,Ep(i,r,o,u)}finally{re.p=g,W.T=f}}function cI(i,r,o,u){var f=W.T;W.T=null;var g=re.p;try{re.p=8,Ep(i,r,o,u)}finally{re.p=g,W.T=f}}function Ep(i,r,o,u){if(Fh){var f=bp(u);if(f===null)op(i,r,u,Hh,o),WT(i,u);else if(fI(f,i,r,o,u))u.stopPropagation();else if(WT(i,u),r&4&&-1<hI.indexOf(i)){for(;f!==null;){var g=kn(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=wi(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var N=1<<31-vt(T);w.entanglements[1]|=N,T&=~N}Hi(g),(Ye&6)===0&&(Ah=un()+500,uu(0))}}break;case 31:case 13:w=ua(g,2),w!==null&&Tn(w,g,2),Rh(),Tp(g,2)}if(g=bp(u),g===null&&op(i,r,u,Hh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else op(i,r,u,null,o)}}function bp(i){return i=Ln(i),Sp(i)}var Hh=null;function Sp(i){if(Hh=null,i=Ii(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Hh=i,null}function XT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yr()){case vl:return 2;case _l:return 8;case Fs:case Id:return 32;case Ec:return 268435456;default:return 32}default:return 32}}var wp=!1,pr=null,gr=null,yr=null,gu=new Map,yu=new Map,vr=[],hI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WT(i,r){switch(i){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":gu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(r.pointerId)}}function vu(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=kn(r),r!==null&&$T(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function fI(i,r,o,u,f){switch(r){case"focusin":return pr=vu(pr,i,r,o,u,f),!0;case"dragenter":return gr=vu(gr,i,r,o,u,f),!0;case"mouseover":return yr=vu(yr,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return gu.set(g,vu(gu.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,yu.set(g,vu(yu.get(g)||null,i,r,o,u,f)),!0}return!1}function ZT(i){var r=Ii(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ai(i.priority,function(){QT(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,ai(i.priority,function(){QT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function qh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=bp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Nl=u,o.target.dispatchEvent(u),Nl=null}else return r=kn(o),r!==null&&$T(r),i.blockedOn=o,!1;r.shift()}return!0}function JT(i,r,o){qh(i)&&o.delete(r)}function dI(){wp=!1,pr!==null&&qh(pr)&&(pr=null),gr!==null&&qh(gr)&&(gr=null),yr!==null&&qh(yr)&&(yr=null),gu.forEach(JT),yu.forEach(JT)}function Gh(i,r){i.blockedOn===r&&(i.blockedOn=null,wp||(wp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dI)))}var Kh=null;function eE(i){Kh!==i&&(Kh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kh===i&&(Kh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Sp(u||o)===null)continue;break}var g=kn(o);g!==null&&(i.splice(r,3),r-=3,bm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Mo(i){function r(N){return Gh(N,i)}pr!==null&&Gh(pr,i),gr!==null&&Gh(gr,i),yr!==null&&Gh(yr,i),gu.forEach(r),yu.forEach(r);for(var o=0;o<vr.length;o++){var u=vr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<vr.length&&(o=vr[0],o.blockedOn===null);)ZT(o),o.blockedOn===null&&vr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],T=f[zt]||null;if(typeof g=="function")T||eE(o);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,T=g[zt]||null)w=T.formAction;else if(Sp(f)!==null)continue}else w=T.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),eE(o)}}}function tE(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Ap(i){this._internalRoot=i}Yh.prototype.render=Ap.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Mn();KT(o,u,i,r,null,null)},Yh.prototype.unmount=Ap.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;KT(i.current,2,null,i,null,null),Rh(),r[Ri]=null}};function Yh(i){this._internalRoot=i}Yh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Rc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<vr.length&&r!==0&&r<vr[o].priority;o++);vr.splice(o,0,i),o===0&&ZT(i)}};var nE=e.version;if(nE!=="19.2.0")throw Error(s(527,nE,"19.2.0"));re.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var mI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{si=$h.inject(mI),Kt=$h}catch{}}return Tu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=u0,g=c0,T=h0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=qT(i,1,!1,null,null,o,u,null,f,g,T,tE),i[Ri]=r.current,ap(i),new Ap(r)},Tu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=u0,T=c0,w=h0,N=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(N=o.formState)),r=qT(i,1,!0,r,o??null,u,f,N,g,T,w,tE),r.context=GT(null),o=r.current,u=Mn(),u=Wr(u),f=ir(u),f.callback=null,sr(o,f,u),o=u,r.current.lanes=o,Qr(r,o),Hi(r),i[Ri]=r.current,ap(i),new Yh(r)},Tu.version="19.2.0",Tu}var fE;function wI(){if(fE)return Cp.exports;fE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cp.exports=SI(),Cp.exports}var AI=wI();const xI=fw(AI);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dE="popstate";function RI(t={}){function e(a,l){let{pathname:c="/",search:d="",hash:m=""}=Ua(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),lg("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");d=p===-1?m:m.slice(0,p)}return d+"#"+(typeof l=="string"?l:Fu(l))}function s(a,l){ti(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return II(e,n,s,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ti(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CI(){return Math.random().toString(36).substring(2,10)}function mE(t,e){return{usr:t.state,key:t.key,idx:e}}function lg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ua(e):e,state:n,key:e&&e.key||s||CI()}}function Fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ua(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function II(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let P=y(),F=P==null?null:P-p;p=P,m&&m({action:d,location:z.location,delta:F})}function b(P,F){d="PUSH";let G=lg(z.location,P,F);n&&n(G,P),p=y()+1;let Y=mE(G,p),oe=z.createHref(G);try{c.pushState(Y,"",oe)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(oe)}l&&m&&m({action:d,location:z.location,delta:1})}function R(P,F){d="REPLACE";let G=lg(z.location,P,F);n&&n(G,P),p=y();let Y=mE(G,p),oe=z.createHref(G);c.replaceState(Y,"",oe),l&&m&&m({action:d,location:z.location,delta:0})}function M(P){return DI(P)}let z={get action(){return d},get location(){return t(a,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(dE,_),m=P,()=>{a.removeEventListener(dE,_),m=null}},createHref(P){return e(a,P)},createURL:M,encodeLocation(P){let F=M(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:R,go(P){return c.go(P)}};return z}function DI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Fu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function mw(t,e,n="/"){return NI(t,e,n,!1)}function NI(t,e,n,s){let a=typeof e=="string"?Ua(e):e,l=Ms(a.pathname||"/",n);if(l==null)return null;let c=pw(t);MI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=HI(l);d=zI(c[m],p,s)}return d}function pw(t,e=[],n=[],s="",a=!1){let l=(c,d,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;ht(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Ds([s,y.relativePath]),b=n.concat(y);c.children&&c.children.length>0&&(ht(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),pw(c.children,e,b,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:jI(_,c.index),routesMeta:b})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of gw(c.path))l(c,d,!0,m)}),e}function gw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=gw(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function MI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var VI=/^:[\w-]+$/,OI=3,PI=2,kI=1,LI=10,UI=-2,pE=t=>t==="*";function jI(t,e){let n=t.split("/"),s=n.length;return n.some(pE)&&(s+=UI),e&&(s+=PI),n.filter(a=>!pE(a)).reduce((a,l)=>a+(VI.test(l)?OI:l===""?kI:LI),s)}function BI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function zI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Sf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Sf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Ds([l,_.pathname]),pathnameBase:YI(Ds([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=Ds([l,_.pathnameBase]))}return c}function Sf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=FI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},b)=>{if(y==="*"){let M=d[b]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const R=d[b];return _&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function FI(t,e=!1,n=!0){ti(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function HI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ti(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function qI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Ua(t):t;return{pathname:n?n.startsWith("/")?n:GI(n,e):e,search:$I(s),hash:QI(a)}}function GI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Mp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sy(t){let e=KI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ry(t,e,n,s=!1){let a;typeof t=="string"?a=Ua(t):(a={...t},ht(!a.pathname||!a.pathname.includes("?"),Mp("?","pathname","search",a)),ht(!a.pathname||!a.pathname.includes("#"),Mp("#","pathname","hash",a)),ht(!a.search||!a.search.includes("#"),Mp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}d=_>=0?e[_]:"/"}let m=qI(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ds=t=>t.join("/").replace(/\/\/+/g,"/"),YI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$I=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var yw=["POST","PUT","PATCH","DELETE"];new Set(yw);var WI=["GET",...yw];new Set(WI);var rl=k.createContext(null);rl.displayName="DataRouter";var Jf=k.createContext(null);Jf.displayName="DataRouterState";k.createContext(!1);var vw=k.createContext({isTransitioning:!1});vw.displayName="ViewTransition";var ZI=k.createContext(new Map);ZI.displayName="Fetchers";var JI=k.createContext(null);JI.displayName="Await";var bi=k.createContext(null);bi.displayName="Navigation";var sc=k.createContext(null);sc.displayName="Location";var is=k.createContext({outlet:null,matches:[],isDataRoute:!1});is.displayName="Route";var ay=k.createContext(null);ay.displayName="RouteError";function e2(t,{relative:e}={}){ht(al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(bi),{hash:a,pathname:l,search:c}=rc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Ds([n,l])),s.createHref({pathname:d,search:c,hash:a})}function al(){return k.useContext(sc)!=null}function js(){return ht(al(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(sc).location}var _w="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tw(t){k.useContext(bi).static||k.useLayoutEffect(t)}function ss(){let{isDataRoute:t}=k.useContext(is);return t?d2():t2()}function t2(){ht(al(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(rl),{basename:e,navigator:n}=k.useContext(bi),{matches:s}=k.useContext(is),{pathname:a}=js(),l=JSON.stringify(sy(s)),c=k.useRef(!1);return Tw(()=>{c.current=!0}),k.useCallback((m,p={})=>{if(ti(c.current,_w),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=ry(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ds([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}k.createContext(null);function rc(t,{relative:e}={}){let{matches:n}=k.useContext(is),{pathname:s}=js(),a=JSON.stringify(sy(n));return k.useMemo(()=>ry(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function n2(t,e){return Ew(t,e)}function Ew(t,e,n,s,a){ht(al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(bi),{matches:c}=k.useContext(is),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let G=_&&_.path||"";bw(p,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let b=js(),R;if(e){let G=typeof e=="string"?Ua(e):e;ht(y==="/"||G.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),R=G}else R=b;let M=R.pathname||"/",z=M;if(y!=="/"){let G=y.replace(/^\//,"").split("/");z="/"+M.replace(/^\//,"").split("/").slice(G.length).join("/")}let P=mw(t,{pathname:z});ti(_||P!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ti(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=o2(P&&P.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:Ds([y,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:Ds([y,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,n,s,a);return e&&F?k.createElement(sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},F):F}function i2(){let t=f2(),e=XI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,c)}var s2=k.createElement(i2,null),r2=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(is.Provider,{value:this.props.routeContext},k.createElement(ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function a2({routeContext:t,match:e,children:n}){let s=k.useContext(rl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(is.Provider,{value:t},n)}function o2(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ht(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:_,errors:b}=n,R=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||R){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,_)=>{let b,R=!1,M=null,z=null;n&&(b=c&&y.route.id?c[y.route.id]:void 0,M=y.route.errorElement||s2,d&&(m<0&&_===0?(bw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,z=null):m===_&&(R=!0,z=y.route.hydrateFallbackElement||null)));let P=e.concat(l.slice(0,_+1)),F=()=>{let G;return b?G=M:R?G=z:y.route.Component?G=k.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=p,k.createElement(a2,{match:y,routeContext:{outlet:p,matches:P,isDataRoute:n!=null},children:G})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?k.createElement(r2,{location:n.location,revalidation:n.revalidation,component:M,error:b,children:F(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):F()},null)}function oy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l2(t){let e=k.useContext(rl);return ht(e,oy(t)),e}function u2(t){let e=k.useContext(Jf);return ht(e,oy(t)),e}function c2(t){let e=k.useContext(is);return ht(e,oy(t)),e}function ly(t){let e=c2(t),n=e.matches[e.matches.length-1];return ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function h2(){return ly("useRouteId")}function f2(){let t=k.useContext(ay),e=u2("useRouteError"),n=ly("useRouteError");return t!==void 0?t:e.errors?.[n]}function d2(){let{router:t}=l2("useNavigate"),e=ly("useNavigate"),n=k.useRef(!1);return Tw(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{ti(n.current,_w),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var gE={};function bw(t,e,n){!e&&!gE[t]&&(gE[t]=!0,ti(!1,n))}k.memo(m2);function m2({routes:t,future:e,state:n,unstable_onError:s}){return Ew(t,void 0,n,s,e)}function p2({to:t,replace:e,state:n,relative:s}){ht(al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(bi);ti(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(is),{pathname:c}=js(),d=ss(),m=ry(t,sy(l),c,s==="path"),p=JSON.stringify(m);return k.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:s})},[d,p,s,e,n]),null}function Sa(t){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g2({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){ht(!al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Ua(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:b="default"}=n,R=k.useMemo(()=>{let M=Ms(m,c);return M==null?null:{location:{pathname:M,search:p,hash:y,state:_,key:b},navigationType:s}},[c,m,p,y,_,b,s]);return ti(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:k.createElement(bi.Provider,{value:d},k.createElement(sc.Provider,{children:e,value:R}))}function y2({children:t,location:e}){return n2(ug(t),e)}function ug(t,e=[]){let n=[];return k.Children.forEach(t,(s,a)=>{if(!k.isValidElement(s))return;let l=[...e,a];if(s.type===k.Fragment){n.push.apply(n,ug(s.props.children,l));return}ht(s.type===Sa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=ug(s.props.children,l)),n.push(c)}),n}var of="get",lf="application/x-www-form-urlencoded";function ed(t){return t!=null&&typeof t.tagName=="string"}function v2(t){return ed(t)&&t.tagName.toLowerCase()==="button"}function _2(t){return ed(t)&&t.tagName.toLowerCase()==="form"}function T2(t){return ed(t)&&t.tagName.toLowerCase()==="input"}function E2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function b2(t,e){return t.button===0&&(!e||e==="_self")&&!E2(t)}var Qh=null;function S2(){if(Qh===null)try{new FormData(document.createElement("form"),0),Qh=!1}catch{Qh=!0}return Qh}var w2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vp(t){return t!=null&&!w2.has(t)?(ti(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lf}"`),null):t}function A2(t,e){let n,s,a,l,c;if(_2(t)){let d=t.getAttribute("action");s=d?Ms(d,e):null,n=t.getAttribute("method")||of,a=Vp(t.getAttribute("enctype"))||lf,l=new FormData(t)}else if(v2(t)||T2(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Ms(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||of,a=Vp(t.getAttribute("formenctype"))||Vp(d.getAttribute("enctype"))||lf,l=new FormData(d,t),!S2()){let{name:p,type:y,value:_}=t;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,_)}}else{if(ed(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=of,s=null,a=lf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function x2(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ms(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function R2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function C2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function I2(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await R2(l,n);return c.links?c.links():[]}return[]}));return V2(s.flat(1).filter(C2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function yE(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function D2(t,e,{includeHydrateFallback:n}={}){return N2(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function N2(t){return[...new Set(t)]}function M2(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function V2(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(M2(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function Sw(){let t=k.useContext(rl);return uy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function O2(){let t=k.useContext(Jf);return uy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cy=k.createContext(void 0);cy.displayName="FrameworkContext";function ww(){let t=k.useContext(cy);return uy(t,"You must render this element inside a <HydratedRouter> element"),t}function P2(t,e){let n=k.useContext(cy),[s,a]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,b=k.useRef(null);k.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let z=F=>{F.forEach(G=>{c(G.isIntersecting)})},P=new IntersectionObserver(z,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[t]),k.useEffect(()=>{if(s){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[s]);let R=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Eu(d,R),onBlur:Eu(m,M),onMouseEnter:Eu(p,R),onMouseLeave:Eu(y,M),onTouchStart:Eu(_,R)}]:[!1,b,{}]}function Eu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function k2({page:t,...e}){let{router:n}=Sw(),s=k.useMemo(()=>mw(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?k.createElement(U2,{page:t,matches:s,...e}):null}function L2(t){let{manifest:e,routeModules:n}=ww(),[s,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return I2(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function U2({page:t,matches:e,...n}){let s=js(),{manifest:a,routeModules:l}=ww(),{basename:c}=Sw(),{loaderData:d,matches:m}=O2(),p=k.useMemo(()=>yE(t,e,m,a,s,"data"),[t,e,m,a,s]),y=k.useMemo(()=>yE(t,e,m,a,s,"assets"),[t,e,m,a,s]),_=k.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let M=new Set,z=!1;if(e.forEach(F=>{let G=a.routes[F.route.id];!G||!G.hasLoader||(!p.some(Y=>Y.route.id===F.route.id)&&F.route.id in d&&l[F.route.id]?.shouldRevalidate||G.hasClientLoader?z=!0:M.add(F.route.id))}),M.size===0)return[];let P=x2(t,c,"data");return z&&M.size>0&&P.searchParams.set("_routes",e.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[P.pathname+P.search]},[c,d,s,a,p,e,t,l]),b=k.useMemo(()=>D2(y,a),[y,a]),R=L2(y);return k.createElement(k.Fragment,null,_.map(M=>k.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),b.map(M=>k.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),R.map(({key:M,link:z})=>k.createElement("link",{key:M,nonce:n.nonce,...z})))}function j2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Aw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Aw&&(window.__reactRouterVersion="7.9.4")}catch{}function B2({basename:t,children:e,window:n}){let s=k.useRef();s.current==null&&(s.current=RI({window:n,v5Compat:!0}));let a=s.current,[l,c]=k.useState({action:a.action,location:a.location}),d=k.useCallback(m=>{k.startTransition(()=>c(m))},[c]);return k.useLayoutEffect(()=>a.listen(d),[a,d]),k.createElement(g2,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var xw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hy=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,...b},R){let{basename:M}=k.useContext(bi),z=typeof p=="string"&&xw.test(p),P,F=!1;if(typeof p=="string"&&z&&(P=p,Aw))try{let C=new URL(window.location.href),O=p.startsWith("//")?new URL(C.protocol+p):new URL(p),V=Ms(O.pathname,M);O.origin===C.origin&&V!=null?p=V+O.search+O.hash:F=!0}catch{ti(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=e2(p,{relative:a}),[Y,oe,ae]=P2(s,b),ce=q2(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_});function I(C){e&&e(C),C.defaultPrevented||ce(C)}let x=k.createElement("a",{...b,...ae,href:P||G,onClick:F||l?e:I,ref:j2(R,oe),target:m,"data-discover":!z&&n==="render"?"true":void 0});return Y&&!z?k.createElement(k.Fragment,null,x,k.createElement(k2,{page:G})):x});hy.displayName="Link";var z2=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let _=rc(c,{relative:p.relative}),b=js(),R=k.useContext(Jf),{navigator:M,basename:z}=k.useContext(bi),P=R!=null&&Q2(_)&&d===!0,F=M.encodeLocation?M.encodeLocation(_).pathname:_.pathname,G=b.pathname,Y=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(G=G.toLowerCase(),Y=Y?Y.toLowerCase():null,F=F.toLowerCase()),Y&&z&&(Y=Ms(Y,z)||Y);const oe=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ae=G===F||!a&&G.startsWith(F)&&G.charAt(oe)==="/",ce=Y!=null&&(Y===F||!a&&Y.startsWith(F)&&Y.charAt(F.length)==="/"),I={isActive:ae,isPending:ce,isTransitioning:P},x=ae?e:void 0,C;typeof s=="function"?C=s(I):C=[s,ae?"active":null,ce?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(I):l;return k.createElement(hy,{...p,"aria-current":x,className:C,ref:y,style:O,to:c,viewTransition:d},typeof m=="function"?m(I):m)});z2.displayName="NavLink";var F2=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=of,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...b},R)=>{let M=Y2(),z=$2(d,{relative:p}),P=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&xw.test(d),G=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let oe=Y.nativeEvent.submitter,ae=oe?.getAttribute("formmethod")||c;M(oe||Y.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return k.createElement("form",{ref:R,method:P,action:z,onSubmit:s?m:G,...b,"data-discover":!F&&t==="render"?"true":void 0})});F2.displayName="Form";function H2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rw(t){let e=k.useContext(rl);return ht(e,H2(t)),e}function q2(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=ss(),m=js(),p=rc(t,{relative:l});return k.useCallback(y=>{if(b2(y,e)){y.preventDefault();let _=n!==void 0?n:Fu(m)===Fu(p);d(t,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,s,e,t,a,l,c])}var G2=0,K2=()=>`__${String(++G2)}__`;function Y2(){let{router:t}=Rw("useSubmit"),{basename:e}=k.useContext(bi),n=h2();return k.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=A2(s,e);if(a.navigate===!1){let y=a.fetcherKey||K2();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function $2(t,{relative:e}={}){let{basename:n}=k.useContext(bi),s=k.useContext(is);ht(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...rc(t||".",{relative:e})},c=js();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ds([n,l.pathname])),Fu(l)}function Q2(t,{relative:e}={}){let n=k.useContext(vw);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Rw("useViewTransitionState"),a=rc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ms(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ms(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sf(a.pathname,c)!=null||Sf(a.pathname,l)!=null}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),vE=t=>{const e=W2(t);return e.charAt(0).toUpperCase()+e.slice(1)},Cw=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),Z2=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>k.createElement("svg",{ref:m,...J2,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Cw("lucide",a),...!l&&!Z2(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>k.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=(t,e)=>{const n=k.forwardRef(({className:s,...a},l)=>k.createElement(eD,{ref:l,iconNode:e,className:Cw(`lucide-${X2(vE(t))}`,`lucide-${t}`,s),...a}));return n.displayName=vE(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nD=ni("chevron-left",tD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sD=ni("chevron-right",iD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],aD=ni("copy",rD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],lD=ni("facebook",oD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],cD=ni("instagram",uD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],fD=ni("mail",hD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mD=ni("map-pin",dD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gD=ni("menu",pD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],vD=ni("message-circle",yD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],TD=ni("phone",_D);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],bD=ni("twitter",ED);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Iw=ni("x",SD),wD=()=>{};var _E={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},AD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let b=(d&15)<<2|p>>6,R=p&63;m||(R=64,c||(b=64)),s.push(n[y],n[_],n[b],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new xD;const b=l<<2|d>>4;if(s.push(b),p!==64){const R=d<<4&240|p>>2;if(s.push(R),_!==64){const M=p<<6&192|_;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RD=function(t){const e=Dw(t);return Nw.encodeByteArray(e,!0)},wf=function(t){return RD(t).replace(/\./g,"")},Mw=function(t){try{return Nw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=()=>CD().__FIREBASE_DEFAULTS__,DD=()=>{if(typeof process>"u"||typeof _E>"u")return;const t=_E.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ND=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Mw(t[1]);return e&&JSON.parse(e)},td=()=>{try{return wD()||ID()||DD()||ND()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vw=t=>td()?.emulatorHosts?.[t],Ow=t=>{const e=Vw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Pw=()=>td()?.config,kw=t=>td()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wf(JSON.stringify(n)),wf(JSON.stringify(c)),""].join(".")}const Du={};function VD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Du))Du[e]?t.emulator.push(e):t.prod.push(e);return t}function OD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let TE=!1;function dy(t,e){if(typeof window>"u"||typeof document>"u"||!ja(window.location.host)||Du[t]===e||Du[t]||TE)return;Du[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=VD().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{TE=!0,c()},b}function y(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=OD(s),R=n("text"),M=document.getElementById(R)||document.createElement("span"),z=n("learnmore"),P=document.getElementById(z)||document.createElement("a"),F=n("preprendIcon"),G=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Y=b.element;d(Y),y(P,z);const oe=p();m(G,F),Y.append(G,M,P,oe),document.body.appendChild(Y)}l?(M.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function kD(){const t=td()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BD(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zD(){return!kD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FD(){try{return typeof indexedDB=="object"}catch{return!1}}function HD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="FirebaseError";class rs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qD,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?GD(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new rs(a,d,s)}}function GD(t,e){return t.replace(KD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const KD=/\{\$([^}]+)}/g;function YD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Va(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(EE(l)&&EE(c)){if(!Va(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function EE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Su(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function wu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $D(t,e){const n=new QD(t,e);return n.subscribe.bind(n)}class QD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");XD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Op),a.error===void 0&&(a.error=Op),a.complete===void 0&&(a.complete=Op);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){return t&&t._delegate?t._delegate:t}class Mr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new MD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JD(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wa){return this.instances.has(e)}getOptions(e=wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=wa){return this.component?this.component.multipleInstances?e:wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZD(t){return t===wa?void 0:t}function JD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const tN={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},nN=Ue.INFO,iN={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},sN=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=iN[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class my{constructor(e){this.name=e,this._logLevel=nN,this._logHandler=sN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const rN=(t,e)=>e.some(n=>t instanceof n);let bE,SE;function aN(){return bE||(bE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oN(){return SE||(SE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uw=new WeakMap,cg=new WeakMap,jw=new WeakMap,Pp=new WeakMap,py=new WeakMap;function lN(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Rr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Uw.set(n,t)}).catch(()=>{}),py.set(e,t),e}function uN(t){if(cg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});cg.set(t,e)}let hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cN(t){hg=t(hg)}function hN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(kp(this),e,...n);return jw.set(s,e.sort?e.sort():[e]),Rr(s)}:oN().includes(t)?function(...e){return t.apply(kp(this),e),Rr(Uw.get(this))}:function(...e){return Rr(t.apply(kp(this),e))}}function fN(t){return typeof t=="function"?hN(t):(t instanceof IDBTransaction&&uN(t),rN(t,aN())?new Proxy(t,hg):t)}function Rr(t){if(t instanceof IDBRequest)return lN(t);if(Pp.has(t))return Pp.get(t);const e=fN(t);return e!==t&&(Pp.set(t,e),py.set(e,t)),e}const kp=t=>py.get(t);function dN(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Rr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Rr(c.result),m.oldVersion,m.newVersion,Rr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const mN=["get","getKey","getAll","getAllKeys","count"],pN=["put","add","delete","clear"],Lp=new Map;function wE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lp.get(e))return Lp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=pN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||mN.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Lp.set(e,l),l}cN(t=>({...t,get:(e,n,s)=>wE(e,n)||t.get(e,n,s),has:(e,n)=>!!wE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yN(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function yN(t){return t.getComponent()?.type==="VERSION"}const fg="@firebase/app",AE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new my("@firebase/app"),vN="@firebase/app-compat",_N="@firebase/analytics-compat",TN="@firebase/analytics",EN="@firebase/app-check-compat",bN="@firebase/app-check",SN="@firebase/auth",wN="@firebase/auth-compat",AN="@firebase/database",xN="@firebase/data-connect",RN="@firebase/database-compat",CN="@firebase/functions",IN="@firebase/functions-compat",DN="@firebase/installations",NN="@firebase/installations-compat",MN="@firebase/messaging",VN="@firebase/messaging-compat",ON="@firebase/performance",PN="@firebase/performance-compat",kN="@firebase/remote-config",LN="@firebase/remote-config-compat",UN="@firebase/storage",jN="@firebase/storage-compat",BN="@firebase/firestore",zN="@firebase/ai",FN="@firebase/firestore-compat",HN="firebase",qN="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",GN={[fg]:"fire-core",[vN]:"fire-core-compat",[TN]:"fire-analytics",[_N]:"fire-analytics-compat",[bN]:"fire-app-check",[EN]:"fire-app-check-compat",[SN]:"fire-auth",[wN]:"fire-auth-compat",[AN]:"fire-rtdb",[xN]:"fire-data-connect",[RN]:"fire-rtdb-compat",[CN]:"fire-fn",[IN]:"fire-fn-compat",[DN]:"fire-iid",[NN]:"fire-iid-compat",[MN]:"fire-fcm",[VN]:"fire-fcm-compat",[ON]:"fire-perf",[PN]:"fire-perf-compat",[kN]:"fire-rc",[LN]:"fire-rc-compat",[UN]:"fire-gcs",[jN]:"fire-gcs-compat",[BN]:"fire-fst",[FN]:"fire-fst-compat",[zN]:"fire-vertex","fire-js":"fire-js",[HN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Map,KN=new Map,mg=new Map;function xE(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oa(t){const e=t.name;if(mg.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;mg.set(e,t);for(const n of Af.values())xE(n,t);for(const n of KN.values())xE(n,t);return!0}function nd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new ac("app","Firebase",YN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=qN;function Bw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:dg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Cr.create("bad-app-name",{appName:String(a)});if(n||(n=Pw()),!n)throw Cr.create("no-options");const l=Af.get(a);if(l){if(Va(n,l.options)&&Va(s,l.config))return l;throw Cr.create("duplicate-app",{appName:a})}const c=new eN(a);for(const m of mg.values())c.addComponent(m);const d=new $N(n,s,c);return Af.set(a,d),d}function gy(t=dg){const e=Af.get(t);if(!e&&t===dg&&Pw())return Bw();if(!e)throw Cr.create("no-app",{appName:t});return e}function Gi(t,e,n){let s=GN[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(c.join(" "));return}Oa(new Mr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="firebase-heartbeat-database",XN=1,Hu="firebase-heartbeat-store";let Up=null;function zw(){return Up||(Up=dN(QN,XN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),Up}async function WN(t){try{const n=(await zw()).transaction(Hu),s=await n.objectStore(Hu).get(Fw(t));return await n.done,s}catch(e){if(e instanceof rs)Vs.warn(e.message);else{const n=Cr.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(n.message)}}}async function RE(t,e){try{const s=(await zw()).transaction(Hu,"readwrite");await s.objectStore(Hu).put(e,Fw(t)),await s.done}catch(n){if(n instanceof rs)Vs.warn(n.message);else{const s=Cr.create("idb-set",{originalErrorMessage:n?.message});Vs.warn(s.message)}}}function Fw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=1024,JN=30;class eM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=CE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>JN){const a=iM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=CE(),{heartbeatsToSend:n,unsentEntries:s}=tM(this._heartbeatsCache.heartbeats),a=wf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Vs.warn(e),""}}}function CE(){return new Date().toISOString().substring(0,10)}function tM(t,e=ZN){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),IE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),IE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FD()?HD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return RE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return RE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function IE(t){return wf(JSON.stringify({version:2,heartbeats:t})).length}function iM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){Oa(new Mr("platform-logger",e=>new gN(e),"PRIVATE")),Oa(new Mr("heartbeat",e=>new eM(e),"PRIVATE")),Gi(fg,AE,t),Gi(fg,AE,"esm2020"),Gi("fire-js","")}sM("");var rM="firebase",aM="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(rM,aM,"app");function Hw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oM=Hw,qw=new ac("auth","Firebase",Hw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new my("@firebase/auth");function lM(t,...e){xf.logLevel<=Ue.WARN&&xf.warn(`Auth (${Ba}): ${t}`,...e)}function uf(t,...e){xf.logLevel<=Ue.ERROR&&xf.error(`Auth (${Ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,...e){throw yy(t,...e)}function Ki(t,...e){return yy(t,...e)}function Gw(t,e,n){const s={...oM(),[e]:n};return new ac("auth","Firebase",s).create(e,{appName:t.name})}function Ir(t){return Gw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return qw.create(t,...e)}function Ee(t,e,...n){if(!t)throw yy(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uf(e),new Error(e)}function Os(t,e){t||Cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(){return typeof self<"u"&&self.location?.href||""}function uM(){return DE()==="http:"||DE()==="https:"}function DE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uM()||UD()||"connection"in navigator)?navigator.onLine:!0}function hM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Os(n>e,"Short delay should be less than long delay!"),this.isMobile=PD()||jD()}get(){return cM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e){Os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mM=new lc(3e4,6e4);function za(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function zr(t,e,n,s,a={}){return Yw(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=oc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return LD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ja(t.emulatorConfig.host)&&(p.credentials="include"),Kw.fetch()(await $w(t,t.config.apiHost,n,d),p)})}async function Yw(t,e,n){t._canInitEmulator=!1;const s={...fM,...e};try{const a=new gM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Xh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Xh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Xh(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Gw(t,y,p);Ti(t,y)}}catch(a){if(a instanceof rs)throw a;Ti(t,"network-request-failed",{message:String(a)})}}async function id(t,e,n,s,a={}){const l=await zr(t,e,n,s,a);return"mfaPendingCredential"in l&&Ti(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function $w(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?vy(t.config,a):`${t.config.apiScheme}://${a}`;return dM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function pM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ki(this.auth,"network-request-failed")),mM.get())})}}function Xh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ki(t,e,s);return a.customData._tokenResponse=n,a}function NE(t){return t!==void 0&&t.enterprise!==void 0}class yM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vM(t,e){return zr(t,"GET","/v2/recaptchaConfig",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t,e){return zr(t,"POST","/v1/accounts:delete",e)}async function Rf(t,e){return zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TM(t,e=!1){const n=Gt(t),s=await n.getIdToken(e),a=_y(s);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Nu(jp(a.auth_time)),issuedAtTime:Nu(jp(a.iat)),expirationTime:Nu(jp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function jp(t){return Number(t)*1e3}function _y(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Mw(n);return a?JSON.parse(a):(uf("Failed to decode base64 JWT payload"),null)}catch(a){return uf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ME(t){const e=_y(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof rs&&EM(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function EM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(t){const e=t.auth,n=await t.getIdToken(),s=await qu(t,Rf(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?Qw(a.providerUserInfo):[],c=wM(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new gg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function SM(t){const e=Gt(t);await Cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wM(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function Qw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(t,e){const n=await Yw(t,{},async()=>{const s=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await $w(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&ja(t.emulatorConfig.host)&&(m.credentials="include"),Kw.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xM(t,e){return zr(t,"POST","/v2/accounts:revokeToken",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ME(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=ME(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await AM(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new qo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Ee(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new bM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new gg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await qu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TM(this,e)}reload(){return SM(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Cf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Ir(this.auth));const e=await this.getIdToken();return await qu(this,_M(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:R,providerData:M,stsTokenManager:z}=n;Ee(_&&z,e,"internal-error");const P=qo.fromJSON(this.name,z);Ee(typeof _=="string",e,"internal-error"),Tr(s,e.name),Tr(a,e.name),Ee(typeof b=="boolean",e,"internal-error"),Ee(typeof R=="boolean",e,"internal-error"),Tr(l,e.name),Tr(c,e.name),Tr(d,e.name),Tr(m,e.name),Tr(p,e.name),Tr(y,e.name);const F=new vi({uid:_,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:P,createdAt:p,lastLoginAt:y});return M&&Array.isArray(M)&&(F.providerData=M.map(G=>({...G}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(e,n,s=!1){const a=new qo;a.updateFromServerResponse(n);const l=new vi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Cf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Qw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new qo;d.updateFromIdToken(s);const m=new vi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new gg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function Is(t){Os(t instanceof Function,"Expected a class definition");let e=VE.get(t);return e?(Os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xw.type="NONE";const OE=Xw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e,n){return`firebase:${t}:${e}:${n}`}class Go{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=cf(this.userKey,a.apiKey,l),this.fullPersistenceKey=cf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rf(this.auth,{idToken:e}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Go(Is(OE),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Is(OE);const c=cf(s,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const b=await Rf(e,{idToken:y}).catch(()=>{});if(!b)break;_=await vi._fromGetAccountInfoResponse(e,b,y)}else _=vi._fromJSON(e,y);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Go(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Go(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ww(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nA(e))return"Blackberry";if(iA(e))return"Webos";if(Zw(e))return"Safari";if((e.includes("chrome/")||Jw(e))&&!e.includes("edge/"))return"Chrome";if(tA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function Ww(t=ln()){return/firefox\//i.test(t)}function Zw(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jw(t=ln()){return/crios\//i.test(t)}function eA(t=ln()){return/iemobile/i.test(t)}function tA(t=ln()){return/android/i.test(t)}function nA(t=ln()){return/blackberry/i.test(t)}function iA(t=ln()){return/webos/i.test(t)}function Ty(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RM(t=ln()){return Ty(t)&&!!window.navigator?.standalone}function CM(){return BD()&&document.documentMode===10}function sA(t=ln()){return Ty(t)||tA(t)||iA(t)||nA(t)||/windows phone/i.test(t)||eA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t,e=[]){let n;switch(t){case"Browser":n=PE(ln());break;case"Worker":n=`${PE(ln())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ba}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(t,e={}){return zr(t,"GET","/v2/passwordPolicy",za(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=6;class MM{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??NM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kE(this),this.idTokenSubscription=new kE(this),this.beforeStateQueue=new IM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Is(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rf(this,{idToken:e}),s=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(Ir(this));const n=e?Gt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(Ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DM(this),n=new MM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await xM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Is(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ol(t){return Gt(t)}class kE{constructor(e){this.auth=e,this.observer=null,this.addObserver=$D(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OM(t){sd=t}function aA(t){return sd.loadJS(t)}function PM(){return sd.recaptchaEnterpriseScript}function kM(){return sd.gapiScript}function LM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class UM{constructor(){this.enterprise=new jM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class jM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const BM="recaptcha-enterprise",oA="NO_RECAPTCHA";class zM{constructor(e){this.type=BM,this.auth=ol(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{vM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new yM(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;NE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(oA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&NE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=PM();m.length!==0&&(m+=d),aA(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function LE(t,e,n,s=!1,a=!1){const l=new zM(t);let c;if(a)c=oA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function UE(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await LE(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await LE(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t,e){const n=nd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Va(l,e??{}))return a;Ti(a,"already-initialized")}return n.initialize({options:e})}function HM(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Is);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function qM(t,e,n){const s=ol(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=lA(e),{host:c,port:d}=GM(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Va(p,s.config.emulator)&&Va(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,ja(c)?(fy(`${l}//${c}${m}`),dy("Auth",!0)):KM()}function lA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GM(t){const e=lA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:jE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:jE(c)}}}function jE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function YM(t,e){return zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e){return id(t,"POST","/v1/accounts:signInWithPassword",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e){return id(t,"POST","/v1/accounts:signInWithEmailLink",za(t,e))}async function XM(t,e){return id(t,"POST","/v1/accounts:signInWithEmailLink",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Ey{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Gu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Gu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UE(e,n,"signInWithPassword",$M);case"emailLink":return QM(e,{email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UE(e,s,"signUpPassword",YM);case"emailLink":return XM(e,{idToken:n,email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t,e){return id(t,"POST","/v1/accounts:signInWithIdp",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="http://localhost";class Pa extends Ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Pa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ko(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ko(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ko(e,n)}buildRequest(){const e={requestUri:WM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JM(t){const e=Su(wu(t)).link,n=e?Su(wu(e)).deep_link_id:null,s=Su(wu(t)).deep_link_id;return(s?Su(wu(s)).link:null)||s||n||e||t}class by{constructor(e){const n=Su(wu(e)),s=n.apiKey??null,a=n.oobCode??null,l=ZM(n.mode??null);Ee(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=JM(e);try{return new by(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(e,n){return Gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=by.parseLink(n);return Ee(s,"argument-error"),Gu._fromEmailAndCode(e,s.code,s.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends uA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends uc{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Sr.credential(n,s)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends uc{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends uc{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ar.credential(n,s)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await vi._fromIdTokenResponse(e,s,a),c=BE(s);return new Xo({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=BE(s);return new Xo({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function BE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends rs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,If.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new If(e,n,s,a)}}function cA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(t,l,e,s):l})}async function eV(t,e,n=!1){const s=await qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(t,e,n=!1){const{auth:s}=t;if(Xn(s.app))return Promise.reject(Ir(s));const a="reauthenticate";try{const l=await qu(t,cA(s,a,e,t),n);Ee(l.idToken,s,"internal-error");const c=_y(l.idToken);Ee(c,s,"internal-error");const{sub:d}=c;return Ee(t.uid===d,s,"user-mismatch"),Xo._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ti(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(t,e,n=!1){if(Xn(t.app))return Promise.reject(Ir(t));const s="signIn",a=await cA(t,s,e),l=await Xo._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function nV(t,e){return hA(ol(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t){const e=ol(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function sV(t,e,n){return Xn(t.app)?Promise.reject(Ir(t)):nV(Gt(t),ll.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&iV(t),s})}function rV(t,e,n,s){return Gt(t).onIdTokenChanged(e,n,s)}function aV(t,e,n){return Gt(t).beforeAuthStateChanged(e,n)}function oV(t,e,n,s){return Gt(t).onAuthStateChanged(e,n,s)}function lV(t){return Gt(t).signOut()}const Df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=1e3,cV=10;class dA extends fA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);CM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,cV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},uV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dA.type="LOCAL";const hV=dA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA extends fA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mA.type="SESSION";const pA=mA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new rd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await fV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Sy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function mV(t){Yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function pV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gV(){return navigator?.serviceWorker?.controller||null}function yV(){return gA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firebaseLocalStorageDb",vV=1,Nf="firebaseLocalStorage",vA="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ad(t,e){return t.transaction([Nf],e?"readwrite":"readonly").objectStore(Nf)}function _V(){const t=indexedDB.deleteDatabase(yA);return new cc(t).toPromise()}function yg(){const t=indexedDB.open(yA,vV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Nf,{keyPath:vA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Nf)?e(s):(s.close(),await _V(),e(await yg()))})})}async function zE(t,e,n){const s=ad(t,!0).put({[vA]:e,value:n});return new cc(s).toPromise()}async function TV(t,e){const n=ad(t,!1).get(e),s=await new cc(n).toPromise();return s===void 0?null:s.value}function FE(t,e){const n=ad(t,!0).delete(e);return new cc(n).toPromise()}const EV=800,bV=3;class _A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>bV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(yV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pV(),!this.activeServiceWorker)return;this.sender=new dV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yg();return await zE(e,Df,"1"),await FE(e,Df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>zE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>TV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=ad(a,!1).getAll();return new cc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_A.type="LOCAL";const SV=_A;new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t,e){return e?Is(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends Ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AV(t){return hA(t.auth,new wy(t),t.bypassAuthState)}function xV(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),tV(n,new wy(t),t.bypassAuthState)}async function RV(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),eV(n,new wy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AV;case"linkViaPopup":case"linkViaRedirect":return RV;case"reauthViaPopup":case"reauthViaRedirect":return xV;default:Ti(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new lc(2e3,1e4);class Uo extends TA{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CV.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="pendingRedirect",hf=new Map;class DV extends TA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hf.get(this.auth._key());if(!e){try{const s=await NV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hf.set(this.auth._key(),e)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NV(t,e){const n=OV(e),s=VV(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function MV(t,e){hf.set(t._key(),e)}function VV(t){return Is(t._redirectPersistence)}function OV(t){return cf(IV,t.config.apiKey,t.name)}async function PV(t,e,n=!1){if(Xn(t.app))return Promise.reject(Ir(t));const s=ol(t),a=wV(s,e),c=await new DV(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=600*1e3;class LV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!EA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ki(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kV&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(e))}saveEventToCache(e){this.cachedEventUids.add(HE(e)),this.lastProcessedEventTime=Date.now()}}function HE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function UV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e={}){return zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zV=/^https?/;async function FV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jV(t);for(const n of e)try{if(HV(n))return}catch{}Ti(t,"unauthorized-domain")}function HV(t){const e=pg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!zV.test(n))return!1;if(BV.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new lc(3e4,6e4);function qE(){const t=Yi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GV(t){return new Promise((e,n)=>{function s(){qE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qE(),n(Ki(t,"network-request-failed"))},timeout:qV.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)s();else{const a=LM("iframefcb");return Yi()[a]=()=>{gapi.load?s():n(Ki(t,"network-request-failed"))},aA(`${kM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ff=null,e})}let ff=null;function KV(t){return ff=ff||GV(t),ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=new lc(5e3,15e3),$V="__/auth/iframe",QV="emulator/auth/iframe",XV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZV(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vy(e,QV):`https://${t.config.authDomain}/${$V}`,s={apiKey:e.apiKey,appName:t.name,v:Ba},a=WV.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${oc(s).slice(1)}`}async function JV(t){const e=await KV(t),n=Yi().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:ZV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XV,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ki(t,"network-request-failed"),d=Yi().setTimeout(()=>{l(c)},YV.get());function m(){Yi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tO=500,nO=600,iO="_blank",sO="http://localhost";class GE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rO(t,e,n,s=tO,a=nO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...eO,width:s.toString(),height:a.toString(),top:l,left:c},p=ln().toLowerCase();n&&(d=Jw(p)?iO:n),Ww(p)&&(e=e||sO,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[R,M])=>`${b}${R}=${M},`,"");if(RM(p)&&d!=="_self")return aO(e||"",d),new GE(null);const _=window.open(e||"",d,y);Ee(_,t,"popup-blocked");try{_.focus()}catch{}return new GE(_)}function aO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="__/auth/handler",lO="emulator/auth/handler",uO=encodeURIComponent("fac");async function KE(t,e,n,s,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ba,eventId:a};if(e instanceof uA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",YD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof uc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),p=m?`#${uO}=${encodeURIComponent(m)}`:"";return`${cO(t)}?${oc(d).slice(1)}${p}`}function cO({config:t}){return t.emulator?vy(t,lO):`https://${t.authDomain}/${oO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="webStorageSupport";class hO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pA,this._completeRedirectFn=PV,this._overrideRedirectResult=MV}async _openPopup(e,n,s,a){Os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await KE(e,n,s,pg(),a);return rO(e,l,Sy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await KE(e,n,s,pg(),a);return mV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Os(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await JV(e),s=new LV(e);return n.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bp,{type:Bp},a=>{const l=a?.[0]?.[Bp];l!==void 0&&n(!!l),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sA()||Zw()||Ty()}}const fO=hO;var YE="@firebase/auth",$E="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pO(t){Oa(new Mr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rA(t)},p=new VM(s,a,l,m);return HM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Oa(new Mr("auth-internal",e=>{const n=ol(e.getProvider("auth").getImmediate());return(s=>new dO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(YE,$E,mO(t)),Gi(YE,$E,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=300,yO=kw("authIdTokenMaxAge")||gO;let QE=null;const vO=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>yO)return;const a=n?.token;QE!==a&&(QE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function bA(t=gy()){const e=nd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FM(t,{popupRedirectResolver:fO,persistence:[SV,hV,pA]}),s=kw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=vO(l.toString());aV(n,c,()=>c(n.currentUser)),rV(n,d=>c(d))}}const a=Vw("auth");return a&&qM(n,`http://${a}`),n}function _O(){return document.getElementsByTagName("head")?.[0]??document}OM({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ki("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",_O().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pO("Browser");var XE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dr,SA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function C(){}C.prototype=x.prototype,I.F=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(O,V,j){for(var D=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)D[Pe-2]=arguments[Pe];return x.prototype[V].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,x,C){C||(C=0);const O=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)O[V]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(V=0;V<16;++V)O[V]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],V=I.g[2];let j=I.g[3],D;D=x+(j^C&(V^j))+O[0]+3614090360&4294967295,x=C+(D<<7&4294967295|D>>>25),D=j+(V^x&(C^V))+O[1]+3905402710&4294967295,j=x+(D<<12&4294967295|D>>>20),D=V+(C^j&(x^C))+O[2]+606105819&4294967295,V=j+(D<<17&4294967295|D>>>15),D=C+(x^V&(j^x))+O[3]+3250441966&4294967295,C=V+(D<<22&4294967295|D>>>10),D=x+(j^C&(V^j))+O[4]+4118548399&4294967295,x=C+(D<<7&4294967295|D>>>25),D=j+(V^x&(C^V))+O[5]+1200080426&4294967295,j=x+(D<<12&4294967295|D>>>20),D=V+(C^j&(x^C))+O[6]+2821735955&4294967295,V=j+(D<<17&4294967295|D>>>15),D=C+(x^V&(j^x))+O[7]+4249261313&4294967295,C=V+(D<<22&4294967295|D>>>10),D=x+(j^C&(V^j))+O[8]+1770035416&4294967295,x=C+(D<<7&4294967295|D>>>25),D=j+(V^x&(C^V))+O[9]+2336552879&4294967295,j=x+(D<<12&4294967295|D>>>20),D=V+(C^j&(x^C))+O[10]+4294925233&4294967295,V=j+(D<<17&4294967295|D>>>15),D=C+(x^V&(j^x))+O[11]+2304563134&4294967295,C=V+(D<<22&4294967295|D>>>10),D=x+(j^C&(V^j))+O[12]+1804603682&4294967295,x=C+(D<<7&4294967295|D>>>25),D=j+(V^x&(C^V))+O[13]+4254626195&4294967295,j=x+(D<<12&4294967295|D>>>20),D=V+(C^j&(x^C))+O[14]+2792965006&4294967295,V=j+(D<<17&4294967295|D>>>15),D=C+(x^V&(j^x))+O[15]+1236535329&4294967295,C=V+(D<<22&4294967295|D>>>10),D=x+(V^j&(C^V))+O[1]+4129170786&4294967295,x=C+(D<<5&4294967295|D>>>27),D=j+(C^V&(x^C))+O[6]+3225465664&4294967295,j=x+(D<<9&4294967295|D>>>23),D=V+(x^C&(j^x))+O[11]+643717713&4294967295,V=j+(D<<14&4294967295|D>>>18),D=C+(j^x&(V^j))+O[0]+3921069994&4294967295,C=V+(D<<20&4294967295|D>>>12),D=x+(V^j&(C^V))+O[5]+3593408605&4294967295,x=C+(D<<5&4294967295|D>>>27),D=j+(C^V&(x^C))+O[10]+38016083&4294967295,j=x+(D<<9&4294967295|D>>>23),D=V+(x^C&(j^x))+O[15]+3634488961&4294967295,V=j+(D<<14&4294967295|D>>>18),D=C+(j^x&(V^j))+O[4]+3889429448&4294967295,C=V+(D<<20&4294967295|D>>>12),D=x+(V^j&(C^V))+O[9]+568446438&4294967295,x=C+(D<<5&4294967295|D>>>27),D=j+(C^V&(x^C))+O[14]+3275163606&4294967295,j=x+(D<<9&4294967295|D>>>23),D=V+(x^C&(j^x))+O[3]+4107603335&4294967295,V=j+(D<<14&4294967295|D>>>18),D=C+(j^x&(V^j))+O[8]+1163531501&4294967295,C=V+(D<<20&4294967295|D>>>12),D=x+(V^j&(C^V))+O[13]+2850285829&4294967295,x=C+(D<<5&4294967295|D>>>27),D=j+(C^V&(x^C))+O[2]+4243563512&4294967295,j=x+(D<<9&4294967295|D>>>23),D=V+(x^C&(j^x))+O[7]+1735328473&4294967295,V=j+(D<<14&4294967295|D>>>18),D=C+(j^x&(V^j))+O[12]+2368359562&4294967295,C=V+(D<<20&4294967295|D>>>12),D=x+(C^V^j)+O[5]+4294588738&4294967295,x=C+(D<<4&4294967295|D>>>28),D=j+(x^C^V)+O[8]+2272392833&4294967295,j=x+(D<<11&4294967295|D>>>21),D=V+(j^x^C)+O[11]+1839030562&4294967295,V=j+(D<<16&4294967295|D>>>16),D=C+(V^j^x)+O[14]+4259657740&4294967295,C=V+(D<<23&4294967295|D>>>9),D=x+(C^V^j)+O[1]+2763975236&4294967295,x=C+(D<<4&4294967295|D>>>28),D=j+(x^C^V)+O[4]+1272893353&4294967295,j=x+(D<<11&4294967295|D>>>21),D=V+(j^x^C)+O[7]+4139469664&4294967295,V=j+(D<<16&4294967295|D>>>16),D=C+(V^j^x)+O[10]+3200236656&4294967295,C=V+(D<<23&4294967295|D>>>9),D=x+(C^V^j)+O[13]+681279174&4294967295,x=C+(D<<4&4294967295|D>>>28),D=j+(x^C^V)+O[0]+3936430074&4294967295,j=x+(D<<11&4294967295|D>>>21),D=V+(j^x^C)+O[3]+3572445317&4294967295,V=j+(D<<16&4294967295|D>>>16),D=C+(V^j^x)+O[6]+76029189&4294967295,C=V+(D<<23&4294967295|D>>>9),D=x+(C^V^j)+O[9]+3654602809&4294967295,x=C+(D<<4&4294967295|D>>>28),D=j+(x^C^V)+O[12]+3873151461&4294967295,j=x+(D<<11&4294967295|D>>>21),D=V+(j^x^C)+O[15]+530742520&4294967295,V=j+(D<<16&4294967295|D>>>16),D=C+(V^j^x)+O[2]+3299628645&4294967295,C=V+(D<<23&4294967295|D>>>9),D=x+(V^(C|~j))+O[0]+4096336452&4294967295,x=C+(D<<6&4294967295|D>>>26),D=j+(C^(x|~V))+O[7]+1126891415&4294967295,j=x+(D<<10&4294967295|D>>>22),D=V+(x^(j|~C))+O[14]+2878612391&4294967295,V=j+(D<<15&4294967295|D>>>17),D=C+(j^(V|~x))+O[5]+4237533241&4294967295,C=V+(D<<21&4294967295|D>>>11),D=x+(V^(C|~j))+O[12]+1700485571&4294967295,x=C+(D<<6&4294967295|D>>>26),D=j+(C^(x|~V))+O[3]+2399980690&4294967295,j=x+(D<<10&4294967295|D>>>22),D=V+(x^(j|~C))+O[10]+4293915773&4294967295,V=j+(D<<15&4294967295|D>>>17),D=C+(j^(V|~x))+O[1]+2240044497&4294967295,C=V+(D<<21&4294967295|D>>>11),D=x+(V^(C|~j))+O[8]+1873313359&4294967295,x=C+(D<<6&4294967295|D>>>26),D=j+(C^(x|~V))+O[15]+4264355552&4294967295,j=x+(D<<10&4294967295|D>>>22),D=V+(x^(j|~C))+O[6]+2734768916&4294967295,V=j+(D<<15&4294967295|D>>>17),D=C+(j^(V|~x))+O[13]+1309151649&4294967295,C=V+(D<<21&4294967295|D>>>11),D=x+(V^(C|~j))+O[4]+4149444226&4294967295,x=C+(D<<6&4294967295|D>>>26),D=j+(C^(x|~V))+O[11]+3174756917&4294967295,j=x+(D<<10&4294967295|D>>>22),D=V+(x^(j|~C))+O[2]+718787259&4294967295,V=j+(D<<15&4294967295|D>>>17),D=C+(j^(V|~x))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+j&4294967295}s.prototype.v=function(I,x){x===void 0&&(x=I.length);const C=x-this.blockSize,O=this.C;let V=this.h,j=0;for(;j<x;){if(V==0)for(;j<=C;)a(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<x;)if(O[V++]=I.charCodeAt(j++),V==this.blockSize){a(this,O),V=0;break}}else for(;j<x;)if(O[V++]=I[j++],V==this.blockSize){a(this,O),V=0;break}}this.h=V,this.o+=x},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)I[x++]=this.g[C]>>>O&255;return I};function l(I,x){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function c(I,x){this.h=x;const C=[];let O=!0;for(let V=I.length-1;V>=0;V--){const j=I[V]|0;O&&j==x||(C[V]=j,O=!1)}this.g=C}var d={};function m(I){return-128<=I&&I<128?l(I,function(x){return new c([x|0],x<0?-1:0)}):new c([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return _;if(I<0)return P(p(-I));const x=[];let C=1;for(let O=0;I>=C;O++)x[O]=I/C|0,C*=4294967296;return new c(x,0)}function y(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return P(y(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(x,8));let O=_;for(let j=0;j<I.length;j+=8){var V=Math.min(8,I.length-j);const D=parseInt(I.substring(j,j+V),x);V<8?(V=p(Math.pow(x,V)),O=O.j(V).add(p(D))):(O=O.j(C),O=O.add(p(D)))}return O}var _=m(0),b=m(1),R=m(16777216);t=c.prototype,t.m=function(){if(z(this))return-P(this).m();let I=0,x=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);I+=(O>=0?O:4294967296+O)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(z(this))return"-"+P(this).toString(I);const x=p(Math.pow(I,6));var C=this;let O="";for(;;){const V=oe(C,x).g;C=F(C,V.j(x));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=V,M(C))return j+O;for(;j.length<6;)j="0"+j;O=j+O}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function z(I){return I.h==-1}t.l=function(I){return I=F(this,I),z(I)?-1:M(I)?0:1};function P(I){const x=I.g.length,C=[];for(let O=0;O<x;O++)C[O]=~I.g[O];return new c(C,~I.h).add(b)}t.abs=function(){return z(this)?P(this):this},t.add=function(I){const x=Math.max(this.g.length,I.g.length),C=[];let O=0;for(let V=0;V<=x;V++){let j=O+(this.i(V)&65535)+(I.i(V)&65535),D=(j>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);O=D>>>16,j&=65535,D&=65535,C[V]=D<<16|j}return new c(C,C[C.length-1]&-2147483648?-1:0)};function F(I,x){return I.add(P(x))}t.j=function(I){if(M(this)||M(I))return _;if(z(this))return z(I)?P(this).j(P(I)):P(P(this).j(I));if(z(I))return P(this.j(P(I)));if(this.l(R)<0&&I.l(R)<0)return p(this.m()*I.m());const x=this.g.length+I.g.length,C=[];for(var O=0;O<2*x;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<I.g.length;V++){const j=this.i(O)>>>16,D=this.i(O)&65535,Pe=I.i(V)>>>16,He=I.i(V)&65535;C[2*O+2*V]+=D*He,G(C,2*O+2*V),C[2*O+2*V+1]+=j*He,G(C,2*O+2*V+1),C[2*O+2*V+1]+=D*Pe,G(C,2*O+2*V+1),C[2*O+2*V+2]+=j*Pe,G(C,2*O+2*V+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new c(C,0)};function G(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function Y(I,x){this.g=I,this.h=x}function oe(I,x){if(M(x))throw Error("division by zero");if(M(I))return new Y(_,_);if(z(I))return x=oe(P(I),x),new Y(P(x.g),P(x.h));if(z(x))return x=oe(I,P(x)),new Y(P(x.g),x.h);if(I.g.length>30){if(z(I)||z(x))throw Error("slowDivide_ only works with positive integers.");for(var C=b,O=x;O.l(I)<=0;)C=ae(C),O=ae(O);var V=ce(C,1),j=ce(O,1);for(O=ce(O,2),C=ce(C,2);!M(O);){var D=j.add(O);D.l(I)<=0&&(V=V.add(C),j=D),O=ce(O,1),C=ce(C,1)}return x=F(I,V.j(x)),new Y(V,x)}for(V=_;I.l(x)>=0;){for(C=Math.max(1,Math.floor(I.m()/x.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),j=p(C),D=j.j(x);z(D)||D.l(I)>0;)C-=O,j=p(C),D=j.j(x);M(j)&&(j=b),V=V.add(j),I=F(I,D)}return new Y(V,I)}t.B=function(I){return oe(this,I).h},t.and=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)&I.i(O);return new c(C,this.h&I.h)},t.or=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)|I.i(O);return new c(C,this.h|I.h)},t.xor=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)^I.i(O);return new c(C,this.h^I.h)};function ae(I){const x=I.g.length+1,C=[];for(let O=0;O<x;O++)C[O]=I.i(O)<<1|I.i(O-1)>>>31;return new c(C,I.h)}function ce(I,x){const C=x>>5;x%=32;const O=I.g.length-C,V=[];for(let j=0;j<O;j++)V[j]=x>0?I.i(j+C)>>>x|I.i(j+C+1)<<32-x:I.i(j+C);return new c(V,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,SA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Dr=c}).apply(typeof XE<"u"?XE:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wA,Au,AA,df,vg,xA,RA,CA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in E))break e;E=E[H]}h=h[h.length-1],A=E[h],v=v(A),v!=A&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.push([A,v[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function p(h,v,E){return p=m,p.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,H,Q){for(var ue=Array(arguments.length-2),De=2;De<arguments.length;De++)ue[De-2]=arguments[De];return v.prototype[H].apply(A,ue)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const E=Array(v);for(let A=0;A<v;A++)E[A]=h[A];return E}return[]}function M(h,v){for(let A=1;A<arguments.length;A++){const H=arguments[A];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=h.length||0;const Q=H.length||0;h.length=E+Q;for(let ue=0;ue<Q;ue++)h[E+ue]=H[ue]}else h.push(H)}}class z{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function P(h){c.setTimeout(()=>{throw h},0)}function F(){var h=I;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class G{constructor(){this.h=this.g=null}add(v,E){const A=Y.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Y=new z(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ce=!1,I=new G,x=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(C)}};function C(){for(var h;h=F();){try{h.h.call(h.g)}catch(E){P(E)}var v=Y;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ce=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Pe(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(Pe,V),Pe.prototype.init=function(h,v){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Pe.Z.h.call(this)},Pe.prototype.h=function(){Pe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var He="closure_listenable_"+(Math.random()*1e6|0),W=0;function re(h,v,E,A,H){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=H,this.key=++W,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Se(h,v,E){for(const A in h)v.call(E,h[A],A,h)}function Ie(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function U(h){const v={};for(const E in h)v[E]=h[E];return v}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,v){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)h[E]=A[E];for(let Q=0;Q<te.length;Q++)E=te[Q],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function J(h){this.src=h,this.g={},this.h=0}J.prototype.add=function(h,v,E,A,H){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ue=de(h,v,A,H);return ue>-1?(v=h[ue],E||(v.fa=!1)):(v=new re(v,this.src,Q,!!A,H),v.fa=E,h.push(v)),v};function le(h,v){const E=v.type;if(E in h.g){var A=h.g[E],H=Array.prototype.indexOf.call(A,v,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(A,H,1),Q&&(fe(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function de(h,v,E,A){for(let H=0;H<h.length;++H){const Q=h[H];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==A)return H}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),ft={};function it(h,v,E,A,H){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)it(h,v[Q],E,A,H);return null}return E=yl(E),h&&h[He]?h.J(v,E,d(A)?!!A.capture:!1,H):os(h,v,E,!1,A,H)}function os(h,v,E,A,H,Q){if(!v)throw Error("Invalid event type");const ue=d(H)?!!H.capture:!!H;let De=Kr(h);if(De||(h[Ce]=De=new J(h)),E=De.add(v,E,A,ue,Q),E.proxy)return E;if(A=ls(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)j||(H=ue),H===void 0&&(H=!1),h.addEventListener(v.toString(),A,H);else if(h.attachEvent)h.attachEvent(On(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ls(){function h(E){return v.call(h.src,h.listener,E)}const v=ii;return h}function Bs(h,v,E,A,H){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Bs(h,v[Q],E,A,H);else A=d(A)?!!A.capture:!!A,E=yl(E),h&&h[He]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],E=de(v,E,A,H),E>-1&&(fe(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Kr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=de(v,E,A,H)),(E=h>-1?v[h]:null)&&Gr(E))}function Gr(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[He])le(v.i,h);else{var E=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(E,A,h.capture):v.detachEvent?v.detachEvent(On(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=Kr(v))?(le(E,h),E.h==0&&(E.src=null,v[Ce]=null)):fe(h)}}}function On(h){return h in ft?ft[h]:ft[h]="on"+h}function ii(h,v){if(h.da)h=!0;else{v=new Pe(v,this);const E=h.listener,A=h.ha||h.src;h.fa&&Gr(h),h=E.call(A,v)}return h}function Kr(h){return h=h[Ce],h instanceof J?h:null}var gl="__closure_events_fn_"+(Math.random()*1e9>>>0);function yl(h){return typeof h=="function"?h:(h[gl]||(h[gl]=function(v){return h.handleEvent(v)}),h[gl])}function wt(){O.call(this),this.i=new J(this),this.M=this,this.G=null}_(wt,O),wt.prototype[He]=!0,wt.prototype.removeEventListener=function(h,v,E,A){Bs(this,h,v,E,A)};function Lt(h,v){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var H=v;v=new V(A,h),he(v,H)}H=!0;let Q,ue;if(E)for(ue=E.length-1;ue>=0;ue--)Q=v.g=E[ue],H=zs(Q,A,!0,v)&&H;if(Q=v.g=h,H=zs(Q,A,!0,v)&&H,H=zs(Q,A,!1,v)&&H,E)for(ue=0;ue<E.length;ue++)Q=v.g=E[ue],H=zs(Q,A,!1,v)&&H}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let A=0;A<E.length;A++)fe(E[A]);delete h.g[v],h.h--}}this.G=null},wt.prototype.J=function(h,v,E,A){return this.i.add(String(h),v,!1,E,A)},wt.prototype.K=function(h,v,E,A){return this.i.add(String(h),v,!0,E,A)};function zs(h,v,E,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let Q=0;Q<v.length;++Q){const ue=v[Q];if(ue&&!ue.da&&ue.capture==E){const De=ue.listener,_t=ue.ha||ue.src;ue.fa&&le(h.i,ue),H=De.call(_t,A)!==!1&&H}}return H&&!A.defaultPrevented}function Cd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Tc(h){h.g=Cd(()=>{h.g=null,h.i&&(h.i=!1,Tc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class un extends O{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Tc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(h){O.call(this),this.h=h,this.g={}}_(Yr,O);var vl=[];function _l(h){Se(h.g,function(v,E){this.g.hasOwnProperty(E)&&Gr(v)},h),h.g={}}Yr.prototype.N=function(){Yr.Z.N.call(this),_l(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fs=c.JSON.stringify,Id=c.JSON.parse,Ec=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function bc(){}function Sc(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){V.call(this,"d")}_(Kt,V);function Pn(){V.call(this,"c")}_(Pn,V);var vt={},wc=null;function Ga(){return wc=wc||new wt}vt.Ia="serverreachability";function Ac(h){V.call(this,vt.Ia,h)}_(Ac,V);function Si(h){const v=Ga();Lt(v,new Ac(v))}vt.STAT_EVENT="statevent";function $r(h,v){V.call(this,vt.STAT_EVENT,h),this.stat=v}_($r,V);function At(h){const v=Ga();Lt(v,new $r(v,h))}vt.Ja="timingevent";function wi(h,v){V.call(this,vt.Ja,h),this.size=v}_(wi,V);function Ai(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function Dd(h,v,E,A,H,Q){h.info(function(){if(h.g)if(Q){var ue="",De=Q.split("&");for(let Ke=0;Ke<De.length;Ke++){var _t=De[Ke].split("=");if(_t.length>1){const lt=_t[0];_t=_t[1];const jn=lt.split("_");ue=jn.length>=2&&jn[1]=="type"?ue+(lt+"="+_t+"&"):ue+(lt+"=redacted&")}}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+v+`
`+E+`
`+ue})}function xc(h,v,E,A,H,Q,ue){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+v+`
`+E+`
`+Q+" "+ue})}function xi(h,v,E,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Nd(h,E)+(A?" "+A:"")})}function Qr(h,v){h.info(function(){return"TIMEOUT: "+v})}ri.prototype.info=function(){};function Nd(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<A.length;ue++)A[ue]=""}}}}return Fs(Q)}catch{return v}}var Xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function Wr(){}_(Wr,bc),Wr.prototype.g=function(){return new XMLHttpRequest},El=new Wr;function us(h){return encodeURIComponent(String(h))}function Rc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function ai(h,v,E,A){this.j=h,this.i=v,this.l=E,this.S=A||1,this.V=new Yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var xt={},zt={};function Ri(h,v,E){h.M=1,h.A=Zr(Ct(v)),h.u=E,h.R=!0,Ka(h,null)}function Ka(h,v){h.F=Date.now(),Ci(h),h.B=Ct(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Xa(E.i,"t",A),h.C=0,E=h.j.L,h.h=new oi,h.g=Fc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new un(p(h.Y,h,h.g),h.P)),v=h.V,E=h.g,A=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(vl[0]=H.toString()),H=vl);for(let Q=0;Q<H.length;Q++){const ue=it(E,H[Q],A||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Si(),Dd(h.i,h.v,h.B,h.l,h.S,h.u)}ai.prototype.ba=function(h){h=h.target;const v=this.O;v&&ci(h)==3?v.j():this.Y(h)},ai.prototype.Y=function(h){try{if(h==this.g)e:{const De=ci(this.g),_t=this.g.ya(),Ke=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||De!=4||_t==7||(_t==8||Ke<=0?Si(3):Si(2)),Ii(this);var v=this.g.ca();this.X=v;var E=Md(this);if(this.o=v==200,xc(this.i,this.v,this.B,this.l,this.S,De,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var Q=A;break t}}Q=null}if(h=Q)xi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Di(this,h);else{this.o=!1,this.m=3,At(12),wn(this),kn(this);break e}}if(this.R){h=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=Ic(this,E),lt==zt){De==4&&(this.m=4,At(14),h=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==xt){this.m=4,At(15),xi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else xi(this.i,this.l,lt,null),Di(this,lt);if(Cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||E.length!=0||this.h.h||(this.m=1,At(16),h=!1),this.o=this.o&&h,!h)xi(this.i,this.l,E,"[Invalid Chunked Response]"),wn(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),kl(ue),ue.P=!0,At(11))}}else xi(this.i,this.l,E,null),Di(this,E);De==4&&wn(this),this.o&&!this.K&&(De==4?Uc(this.j,this):(this.o=!1,Ci(this)))}else hs(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),wn(this),kn(this)}}}catch{}finally{}};function Md(h){if(!Cc(h))return h.g.la();const v=Yt(h.g);if(v==="")return"";let E="";const A=v.length,H=ci(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return wn(h),kn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<A;Q++)h.h.h=!0,E+=h.h.i.decode(v[Q],{stream:!(H&&Q==A-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Cc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ic(h,v){var E=h.C,A=v.indexOf(`
`,E);return A==-1?zt:(E=Number(v.substring(E,A)),isNaN(E)?xt:(A+=1,A+E>v.length?zt:(v=v.slice(A,A+E),h.C=A+E,v)))}ai.prototype.cancel=function(){this.K=!0,wn(this)};function Ci(h){h.T=Date.now()+h.H,Ya(h,h.H)}function Ya(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ai(p(h.aa,h),v)}function Ii(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ai.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Qr(this.i,this.B),this.M!=2&&(Si(),At(17)),wn(this),this.m=2,kn(this)):Ya(this,this.T-h)};function kn(h){h.j.I==0||h.K||Uc(h.j,h)}function wn(h){Ii(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,_l(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Di(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Mi(E.h,h))){if(!h.L&&Mi(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)to(E),Xs(E);else break e;ra(E),At(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ai(p(E.Va,E),6e3));Ni(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ui(E,11)}else if((h.L||E.g==h)&&to(E),!D(v))for(H=E.Ba.g.parse(v),v=0;v<H.length;v++){let Ke=H[v];const lt=Ke[0];if(!(lt<=E.K))if(E.K=lt,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const jn=Ke[3];jn!=null&&(E.ka=jn,E.j.info("VER="+E.ka));const ji=Ke[4];ji!=null&&(E.za=ji,E.j.info("SVER="+E.za));const hi=Ke[5];hi!=null&&typeof hi=="number"&&hi>0&&(A=1.5*hi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const fi=h.g;if(fi){const aa=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var Q=A.h;Q.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(wl(Q,Q.h),Q.h=null))}if(A.G){const no=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;no&&(A.wa=no,Qe(A.J,A.G,no))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ue=h;if(A.na=zc(A,A.L?A.ba:null,A.W),ue.L){Al(A.h,ue);var De=ue,_t=A.O;_t&&(De.H=_t),De.D&&(Ii(De),Ci(De)),A.g=ue}else kc(A);E.i.length>0&&Li(E)}else Ke[0]!="stop"&&Ke[0]!="close"||Ui(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ui(E,7):Ol(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}Si(4)}catch{}}var Rt=class{constructor(h,v){this.g=h,this.map=v}};function bl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ni(h){return h.h?1:h.g?h.g.size:0}function Mi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function wl(h,v){h.g?h.g.add(v):h.h=v}function Al(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}bl.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function xl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return R(h.i)}var Dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let H,Q=null;A>=0?(H=h[E].substring(0,A),Q=h[E].substring(A+1)):H=h[E],v(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,Ft(this,h.j),this.o=h.o,this.g=h.g,Hs(this,h.u),this.h=h.h,Rl(this,Oc(h.i)),this.m=h.m):h&&(v=String(h).match(Dc))?(this.l=!1,Ft(this,v[1]||"",!0),this.o=Vi(v[2]||""),this.g=Vi(v[3]||"",!0),Hs(this,v[4]),this.h=Vi(v[5]||"",!0),Rl(this,v[6]||"",!0),this.m=Vi(v[7]||"")):(this.l=!1,this.i=new Gs(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Jr(v,Qa,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Jr(v,Qa,!0),"@"),h.push(us(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Jr(E,E.charAt(0)=="/"?Cl:Nc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Jr(E,Mc)),h.join("")},An.prototype.resolve=function(h){const v=Ct(this);let E=!!h.j;E?Ft(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var A=h.h;if(E)Hs(v,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=v.h.lastIndexOf("/");H!=-1&&(A=v.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let ue=0;ue<H.length;){const De=H[ue++];De=="."?A&&ue==H.length&&Q.push(""):De==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ue==H.length&&Q.push("")):(Q.push(De),A=!0)}A=Q.join("/")}else A=H}return E?v.h=A:E=h.i.toString()!=="",E?Rl(v,Oc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Ct(h){return new An(h)}function Ft(h,v,E){h.j=E?Vi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Hs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Rl(h,v,E){v instanceof Gs?(h.i=v,Wa(h.i,h.l)):(E||(v=Jr(v,qs)),h.i=new Gs(v,h.l))}function Qe(h,v,E){h.i.set(v,E)}function Zr(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Vi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Jr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,mn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function mn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Qa=/[#\/\?@]/g,Nc=/[#\?:]/g,Cl=/[#\?]/g,qs=/[#\?@]/g,Mc=/#/g;function Gs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function pn(h){h.g||(h.g=new Map,h.h=0,h.i&&$a(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Gs.prototype,t.add=function(h,v){pn(this),this.i=null,h=Ks(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Vc(h,v){pn(h),v=Ks(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Il(h,v){return pn(h),v=Ks(h,v),h.g.has(v)}t.forEach=function(h,v){pn(this),this.g.forEach(function(E,A){E.forEach(function(H){h.call(v,H,A,this)},this)},this)};function Dl(h,v){pn(h);let E=[];if(typeof v=="string")Il(h,v)&&(E=E.concat(h.g.get(Ks(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}t.set=function(h,v){return pn(this),this.i=null,h=Ks(this,h),Il(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=Dl(this,h),h.length>0?String(h[0]):v):v};function Xa(h,v,E){Vc(h,v),E.length>0&&(h.i=null,h.g.set(Ks(h,v),R(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var E=v[A];const H=us(E);E=Dl(this,E);for(let Q=0;Q<E.length;Q++){let ue=H;E[Q]!==""&&(ue+="="+us(E[Q])),h.push(ue)}}return this.i=h.join("&")};function Oc(h){const v=new Gs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Ks(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Wa(h,v){v&&!h.j&&(pn(h),h.i=null,h.g.forEach(function(E,A){const H=A.toLowerCase();A!=H&&(Vc(this,A),Xa(this,H,E))},h)),h.j=v}function li(h,v){const E=new ri;if(c.Image){const A=new Image;A.onload=y(Ln,E,"TestLoadImage: loaded",!0,v,A),A.onerror=y(Ln,E,"TestLoadImage: error",!1,v,A),A.onabort=y(Ln,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=y(Ln,E,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function Nl(h,v){const E=new ri,A=new AbortController,H=setTimeout(()=>{A.abort(),Ln(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(H),Q.ok?Ln(E,"TestPingServer: ok",!0,v):Ln(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Ln(E,"TestPingServer: error",!1,v)})}function Ln(h,v,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function Ys(){this.g=new Ec}function Oi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Oi,bc),Oi.prototype.g=function(){return new ea(this.i,this.h)};function ea(h,v){wt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ea,wt),t=ea.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ui(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Za(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Za(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?$s(this):ui(this),this.readyState==3&&Za(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,$s(this))},t.Na=function(h){this.g&&(this.response=h,$s(this))},t.ga=function(){this.g&&$s(this)};function $s(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ui(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ui(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Un(h){let v="";return Se(h,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function ta(h,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Un(E),typeof h=="string"?E!=null&&us(E):Qe(h,v,E))}function Ze(h){wt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ze,wt);var Pi=/^https?$/i,Ml=["POST","PUT"];t=Ze.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){na(this,Q);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())E.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ml,v,void 0)>=0)||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of E)this.g.setRequestHeader(Q,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){na(this,Q)}};function na(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Vl(h),cs(h)}function Vl(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),cs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cs(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ia(this):this.Xa())},t.Xa=function(){ia(this)};function ia(h){if(h.h&&typeof l<"u"){if(h.v&&ci(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),ci(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=Q===0){let ue=String(h.D).match(Dc)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),A=!Pi.test(ue?ue.toLowerCase():"")}E=A}if(E)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var H=ci(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Vl(h)}}finally{cs(h)}}}}function cs(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Lt(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ci(h){return h.g?h.g.readyState:0}t.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Id(v)}};function Yt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(h){const v={};h=(h.g&&ci(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(D(h[A]))continue;var E=Rc(h[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[H]||[];v[H]=Q,Q.push(E)}Ie(v,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Qs(h){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,h),this.Za=ki("retryDelaySeedMs",1e4,h),this.Ta=ki("forwardChannelMaxRetries",2,h),this.va=ki("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new bl(h&&h.concurrentRequestLimit),this.Ba=new Ys,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Qs.prototype,t.ka=8,t.I=1,t.connect=function(h,v,E,A){At(0),this.W=h,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=zc(this,null,this.W),Li(this)};function Ol(h){if(Ja(h),h.I==3){var v=h.V++,E=Ct(h.J);if(Qe(E,"SID",h.M),Qe(E,"RID",v),Qe(E,"TYPE","terminate"),sa(h,E),v=new ai(h,h.j,v),v.M=2,v.A=Zr(Ct(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Fc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ci(v)}Bc(h)}function Xs(h){h.g&&(kl(h),h.g.cancel(),h.g=null)}function Ja(h){Xs(h),h.v&&(c.clearTimeout(h.v),h.v=null),to(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Li(h){if(!Sl(h.h)&&!h.m){h.m=!0;var v=h.Ea;ae||x(),ce||(ae(),ce=!0),I.add(v,h),h.D=0}}function eo(h,v){return Ni(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ai(p(h.Ea,h,v),jc(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new ai(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=U(Q),he(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Pc(this,H,v),E=Ct(this.J),Qe(E,"RID",h),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),sa(this,E),Q&&(this.R?v="headers="+us(Un(Q))+"&"+v:this.u&&ta(E,this.u,Q)),wl(this.h,H),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",v),Qe(E,"SID","null"),H.U=!0,Ri(H,E,null)):Ri(H,E,v),this.I=2}}else this.I==3&&(h?Pl(this,h):this.i.length==0||Sl(this.h)||Pl(this))};function Pl(h,v){var E;v?E=v.l:E=h.V++;const A=Ct(h.J);Qe(A,"SID",h.M),Qe(A,"RID",E),Qe(A,"AID",h.K),sa(h,A),h.u&&h.o&&ta(A,h.u,h.o),E=new ai(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Pc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),wl(h.h,E),Ri(E,A,v)}function sa(h,v){h.H&&Se(h.H,function(E,A){Qe(v,A,E)}),h.l&&Se({},function(E,A){Qe(v,A,E)})}function Pc(h,v,E){E=Math.min(h.i.length,E);const A=h.l?p(h.l.Ka,h.l,h):null;e:{var H=h.i;let De=-1;for(;;){const _t=["count="+E];De==-1?E>0?(De=H[0].g,_t.push("ofs="+De)):De=0:_t.push("ofs="+De);let Ke=!0;for(let lt=0;lt<E;lt++){var Q=H[lt].g;const jn=H[lt].map;if(Q-=De,Q<0)De=Math.max(0,H[lt].g-100),Ke=!1;else try{Q="req"+Q+"_"||"";try{var ue=jn instanceof Map?jn:Object.entries(jn);for(const[ji,hi]of ue){let fi=hi;d(hi)&&(fi=Fs(hi)),_t.push(Q+ji+"="+encodeURIComponent(fi))}}catch(ji){throw _t.push(Q+"type="+encodeURIComponent("_badmap")),ji}}catch{A&&A(jn)}}if(Ke){ue=_t.join("&");break e}}ue=void 0}return h=h.i.splice(0,E),v.G=h,ue}function kc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ae||x(),ce||(ae(),ce=!0),I.add(v,h),h.A=0}}function ra(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ai(p(h.Da,h),jc(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Lc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ai(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Xs(this),Lc(this))};function kl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Lc(h){h.g=new ai(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Ct(h.na);Qe(v,"RID","rpc"),Qe(v,"SID",h.M),Qe(v,"AID",h.K),Qe(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(v,"TO",h.ia),Qe(v,"TYPE","xmlhttp"),sa(h,v),h.u&&h.o&&ta(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Zr(Ct(v)),E.u=null,E.R=!0,Ka(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Xs(this),ra(this),At(19))};function to(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Uc(h,v){var E=null;if(h.g==v){to(h),kl(h),h.g=null;var A=2}else if(Mi(h.h,v))E=v.G,Al(h.h,v),A=1;else return;if(h.I!=0){if(v.o)if(A==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var H=h.D;A=Ga(),Lt(A,new wi(A,E)),Li(h)}else kc(h);else if(H=v.m,H==3||H==0&&v.X>0||!(A==1&&eo(h,v)||A==2&&ra(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),H){case 1:Ui(h,5);break;case 4:Ui(h,10);break;case 3:Ui(h,6);break;default:Ui(h,2)}}}function jc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Ui(h,v){if(h.j.info("Error code "+v),v==2){var E=p(h.bb,h),A=h.Ua;const H=!A;A=new An(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ft(A,"https"),Zr(A),H?li(A.toString(),E):Nl(A.toString(),E)}else At(2);h.I=0,h.l&&h.l.pa(v),Bc(h),Ja(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Bc(h){if(h.I=0,h.ja=[],h.l){const v=xl(h.h);(v.length!=0||h.i.length!=0)&&(M(h.ja,v),M(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function zc(h,v,E){var A=E instanceof An?Ct(E):new An(E);if(A.g!="")v&&(A.g=v+"."+A.g),Hs(A,A.u);else{var H=c.location;A=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const Q=new An(null);A&&Ft(Q,A),v&&(Q.g=v),H&&Hs(Q,H),E&&(Q.h=E),A=Q}return E=h.G,v=h.wa,E&&v&&Qe(A,E,v),Qe(A,"VER",h.ka),sa(h,A),A}function Fc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Ze(new Oi({ab:E})):new Ze(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hc(){}t=Hc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ws(){}Ws.prototype.g=function(h,v){return new cn(h,v)};function cn(h,v){wt.call(this),this.g=new Qs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new fs(this)}_(cn,wt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ol(this.g)},cn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Fs(h),h=E);v.i.push(new Rt(v.Ya++,h)),v.I==3&&Li(v)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,cn.Z.N.call(this)};function qc(h){Kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(qc,Kt);function Gc(){Pn.call(this),this.status=1}_(Gc,Pn);function fs(h){this.g=h}_(fs,Hc),fs.prototype.ra=function(){Lt(this.g,"a")},fs.prototype.qa=function(h){Lt(this.g,new qc(h))},fs.prototype.pa=function(h){Lt(this.g,new Gc)},fs.prototype.oa=function(){Lt(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,CA=function(){return new Ws},RA=function(){return Ga()},xA=vt,vg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,df=Xr,Tl.COMPLETE="complete",AA=Tl,Sc.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Au=Sc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,wA=Ze}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const WE="@firebase/firestore",ZE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new my("@firebase/firestore");function Oo(){return ka.logLevel}function me(t,...e){if(ka.logLevel<=Ue.DEBUG){const n=e.map(Ay);ka.debug(`Firestore (${ul}): ${t}`,...n)}}function Ps(t,...e){if(ka.logLevel<=Ue.ERROR){const n=e.map(Ay);ka.error(`Firestore (${ul}): ${t}`,...n)}}function Wo(t,...e){if(ka.logLevel<=Ue.WARN){const n=e.map(Ay);ka.warn(`Firestore (${ul}): ${t}`,...n)}}function Ay(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,IA(t,s,n)}function IA(t,e,n){let s=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ps(s),new Error(s)}function $e(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||IA(e,a,s)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class EO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class bO{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ns,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ns)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new DA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class SO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new SO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class JE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new JE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new JE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=xO(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function je(t,e){return t<e?-1:t>e?1:0}function _g(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return zp(a)===zp(l)?je(a,l):zp(a)?1:-1}return je(t.length,e.length)}const RO=55296,CO=57343;function zp(t){const e=t.charCodeAt(0);return e>=RO&&e<=CO}function Zo(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="__name__";class qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=qi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return je(e.length,n.length)}static compareSegments(e,n){const s=qi.isNumericId(e),a=qi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?qi.extractNumericId(e).compare(qi.extractNumericId(n)):_g(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dr.fromString(e.substring(4,e.length-2))}}class at extends qi{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const IO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends qi{construct(e,n,s){return new en(e,n,s)}static isValidIdentifier(e){return IO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eb}static keyField(){return new en([eb])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(at.fromString(e))}static fromName(e){return new _e(at.fromString(e).popFirst(5))}static empty(){return new _e(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t,e,n){if(!n)throw new ge(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DO(t,e,n,s){if(e===!0&&s===!0)throw new ge(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tb(t){if(!_e.isDocumentKey(t))throw new ge(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nb(t){if(_e.isDocumentKey(t))throw new ge(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function MA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ry(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function Ei(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ry(t);throw new ge(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function hc(t,e){if(!MA(t))throw new ge(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ge(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=-62135596800,sb=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*sb);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ib)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sb}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ib;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Pt("string",ot._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ot(0,0))}static max(){return new Ae(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=-1;function NO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new Vr(a,_e.empty(),e)}function MO(t){return new Vr(t.readTime,t.key,Ku)}class Vr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Vr(Ae.min(),_e.empty(),Ku)}static max(){return new Vr(Ae.max(),_e.empty(),Ku)}}function VO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==OO)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((a=>a?ie.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{c[p]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new ie(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function kO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}od.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=-1;function ld(t){return t==null}function Mf(t){return t===0&&1/t==-1/0}function LO(t){return typeof t=="number"&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="";function UO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rb(e)),e=jO(t.get(n),e);return rb(e)}function jO(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case VA:n+="";break;default:n+=l}}return n}function rb(t){return t+VA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}}class Zh{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=a??Jt.EMPTY,this.right=l??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Jt(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Jt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ob(this.data.getIterator())}getIteratorFrom(e){return new ob(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class ob{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Bt(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new PA("Invalid base64 string: "+l):l}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const BO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if($e(!!t,39018),typeof t=="string"){let e=0;const n=BO.exec(t);if($e(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pr(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="server_timestamp",LA="__type__",UA="__previous_value__",jA="__local_write_time__";function Iy(t){return(t?.mapValue?.fields||{})[LA]?.stringValue===kA}function ud(t){const e=t.mapValue.fields[UA];return Iy(e)?ud(e):e}function Yu(t){const e=Or(t.mapValue.fields[jA].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,s,a,l,c,d,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Vf="(default)";class $u{constructor(e,n){this.projectId=e,this.database=n||Vf}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===Vf}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="__type__",FO="__max__",Jh={mapValue:{}},zA="__vector__",Of="value";function kr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iy(t)?4:qO(t)?9007199254740991:HO(t)?10:11:be(28295,{value:t})}function es(t,e){if(t===e)return!0;const n=kr(t);if(n!==kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yu(t).isEqual(Yu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Or(a.timestampValue),d=Or(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Pr(a.bytesValue).isEqual(Pr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=St(a.doubleValue),d=St(l.doubleValue);return c===d?Mf(c)===Mf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Zo(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(ab(c)!==ab(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!es(c[m],d[m])))return!1;return!0})(t,e);default:return be(52216,{left:t})}}function Qu(t,e){return(t.values||[]).find((n=>es(n,e)))!==void 0}function Jo(t,e){if(t===e)return 0;const n=kr(t),s=kr(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=St(l.integerValue||l.doubleValue),m=St(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return lb(t.timestampValue,e.timestampValue);case 4:return lb(Yu(t),Yu(e));case 5:return _g(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Pr(l),m=Pr(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=je(d[p],m[p]);if(y!==0)return y}return je(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=je(St(l.latitude),St(c.latitude));return d!==0?d:je(St(l.longitude),St(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ub(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[Of]?.arrayValue,y=m[Of]?.arrayValue,_=je(p?.values?.length||0,y?.values?.length||0);return _!==0?_:ub(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Jh.mapValue&&c===Jh.mapValue)return 0;if(l===Jh.mapValue)return 1;if(c===Jh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=_g(m[_],y[_]);if(b!==0)return b;const R=Jo(d[m[_]],p[y[_]]);if(R!==0)return R}return je(m.length,y.length)})(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function lb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Or(t),s=Or(e),a=je(n.seconds,s.seconds);return a!==0?a:je(n.nanos,s.nanos)}function ub(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Jo(n[a],s[a]);if(l)return l}return je(n.length,s.length)}function el(t){return Tg(t)}function Tg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Or(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Pr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Tg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Tg(n.fields[c])}`;return a+"}"})(t.mapValue):be(61005,{value:t})}function mf(t){switch(kr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(t);return e?16+mf(e):16;case 5:return 2*t.stringValue.length;case 6:return Pr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+mf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Fr(s.fields,((l,c)=>{a+=l.length+mf(c)})),a})(t.mapValue);default:throw be(13486,{value:t})}}function Eg(t){return!!t&&"integerValue"in t}function Dy(t){return!!t&&"arrayValue"in t}function cb(t){return!!t&&"nullValue"in t}function hb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function HO(t){return(t?.mapValue?.fields||{})[BA]?.stringValue===zA}function Mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Fr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Mu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return{...t}}function qO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===FO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=en.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Mu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Fr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new bn(Mu(this.value))}}function FA(t){const e=[];return Fr(t.fields,((n,s)=>{const a=new en([n]);if(pf(s)){const l=FA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new an(e,0,Ae.min(),Ae.min(),Ae.min(),bn.empty(),0)}static newFoundDocument(e,n,s,a){return new an(e,1,n,Ae.min(),s,a,0)}static newNoDocument(e,n){return new an(e,2,n,Ae.min(),Ae.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Ae.min(),Ae.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.position=e,this.inclusive=n}}function fb(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(c.referenceValue),n.key):s=Jo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function db(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n="asc"){this.field=e,this.dir=n}}function GO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{}class jt extends HA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new YO(e,n,s):n==="array-contains"?new XO(e,s):n==="in"?new WO(e,s):n==="not-in"?new ZO(e,s):n==="array-contains-any"?new JO(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new $O(e,s):new QO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jo(n,this.value)):n!==null&&kr(this.value)===kr(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends HA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ts(e,n)}matches(e){return qA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qA(t){return t.op==="and"}function GA(t){return KO(t)&&qA(t)}function KO(t){for(const e of t.filters)if(e instanceof ts)return!1;return!0}function bg(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+el(t.value);if(GA(t))return t.filters.map((e=>bg(e))).join(",");{const e=t.filters.map((n=>bg(n))).join(",");return`${t.op}(${e})`}}function KA(t,e){return t instanceof jt?(function(s,a){return a instanceof jt&&s.op===a.op&&s.field.isEqual(a.field)&&es(s.value,a.value)})(t,e):t instanceof ts?(function(s,a){return a instanceof ts&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&KA(c,a.filters[d])),!0):!1})(t,e):void be(19439)}function YA(t){return t instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`})(t):t instanceof ts?(function(n){return n.op.toString()+" {"+n.getFilters().map(YA).join(" ,")+"}"})(t):"Filter"}class YO extends jt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class $O extends jt{constructor(e,n){super(e,"in",n),this.keys=$A("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class QO extends jt{constructor(e,n){super(e,"not-in",n),this.keys=$A("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $A(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class XO extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dy(n)&&Qu(n.arrayValue,this.value)}}class WO extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qu(this.value.arrayValue,n)}}class ZO extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qu(this.value.arrayValue,n)}}class JO extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Qu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function mb(t,e=null,n=[],s=[],a=null,l=null,c=null){return new eP(t,e,n,s,a,l,c)}function Ny(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>bg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>el(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>el(s))).join(",")),e.Te=n}return e.Te}function My(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!db(t.startAt,e.startAt)&&db(t.endAt,e.endAt)}function Sg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tP(t,e,n,s,a,l,c,d){return new cd(t,e,n,s,a,l,c,d)}function Vy(t){return new cd(t)}function pb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nP(t){return t.collectionGroup!==null}function Vu(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Bt(en.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new kf(l,s))})),n.has(en.keyField().canonicalString())||e.Ie.push(new kf(en.keyField(),s))}return e.Ie}function $i(t){const e=Re(t);return e.Ee||(e.Ee=iP(e,Vu(t))),e.Ee}function iP(t,e){if(t.limitType==="F")return mb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new kf(a.field,l)}));const n=t.endAt?new Pf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Pf(t.startAt.position,t.startAt.inclusive):null;return mb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function wg(t,e,n){return new cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hd(t,e){return My($i(t),$i(e))&&t.limitType===e.limitType}function QA(t){return`${Ny($i(t))}|lt:${t.limitType}`}function Po(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>YA(a))).join(", ")}]`),ld(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>el(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>el(a))).join(",")),`Target(${s})`})($i(t))}; limitType=${t.limitType})`}function fd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Vu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const p=fb(c,d,m);return c.inclusive?p<=0:p<0})(s.startAt,Vu(s),a)||s.endAt&&!(function(c,d,m){const p=fb(c,d,m);return c.inclusive?p>=0:p>0})(s.endAt,Vu(s),a))})(t,e)}function sP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XA(t){return(e,n)=>{let s=!1;for(const a of Vu(t)){const l=rP(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function rP(t,e,n){const s=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Jo(m,p):be(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Fr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return OA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=new mt(_e.comparator);function ks(){return aP}const WA=new mt(_e.comparator);function xu(...t){let e=WA;for(const n of t)e=e.insert(n.key,n);return e}function ZA(t){let e=WA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function xa(){return Ou()}function JA(){return Ou()}function Ou(){return new Fa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const oP=new mt(_e.comparator),lP=new Bt(_e.comparator);function Be(...t){let e=lP;for(const n of t)e=e.add(n);return e}const uP=new Bt(je);function cP(){return uP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function e1(t){return{integerValue:""+t}}function hP(t,e){return LO(e)?e1(e):Oy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function fP(t,e,n){return t instanceof Lf?(function(a,l){const c={fields:{[LA]:{stringValue:kA},[jA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Iy(l)&&(l=ud(l)),l&&(c.fields[UA]=l),{mapValue:c}})(n,e):t instanceof Xu?n1(t,e):t instanceof Wu?i1(t,e):(function(a,l){const c=t1(a,l),d=gb(c)+gb(a.Ae);return Eg(c)&&Eg(a.Ae)?e1(d):Oy(a.serializer,d)})(t,e)}function dP(t,e,n){return t instanceof Xu?n1(t,e):t instanceof Wu?i1(t,e):n}function t1(t,e){return t instanceof Uf?(function(s){return Eg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Lf extends dd{}class Xu extends dd{constructor(e){super(),this.elements=e}}function n1(t,e){const n=s1(e);for(const s of t.elements)n.some((a=>es(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Wu extends dd{constructor(e){super(),this.elements=e}}function i1(t,e){let n=s1(e);for(const s of t.elements)n=n.filter((a=>!es(a,s)));return{arrayValue:{values:n}}}class Uf extends dd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gb(t){return St(t.integerValue||t.doubleValue)}function s1(t){return Dy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mP(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Xu&&a instanceof Xu||s instanceof Wu&&a instanceof Wu?Zo(s.elements,a.elements,es):s instanceof Uf&&a instanceof Uf?es(s.Ae,a.Ae):s instanceof Lf&&a instanceof Lf})(t.transform,e.transform)}class pP{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class md{}function r1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Py(t.key,Jn.none()):new fc(t.key,t.data,Jn.none());{const n=t.data,s=bn.empty();let a=new Bt(en.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Hr(t.key,s,new Vn(a.toArray()),Jn.none())}}function gP(t,e,n){t instanceof fc?(function(a,l,c){const d=a.value.clone(),m=vb(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Hr?(function(a,l,c){if(!gf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=vb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(a1(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Pu(t,e,n,s){return t instanceof fc?(function(l,c,d,m){if(!gf(l.precondition,c))return d;const p=l.value.clone(),y=_b(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Hr?(function(l,c,d,m){if(!gf(l.precondition,c))return d;const p=_b(l.fieldTransforms,m,c),y=c.data;return y.setAll(a1(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,d){return gf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function yP(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=t1(s.transform,a||null);l!=null&&(n===null&&(n=bn.empty()),n.set(s.field,l))}return n||null}function yb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Zo(s,a,((l,c)=>mP(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fc extends md{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Hr extends md{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function a1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function vb(t,e,n){const s=new Map;$e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,dP(c,d,n[a]))}return s}function _b(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,fP(l,c,e))}return s}class Py extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vP extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&gP(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Pu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Pu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=JA();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=r1(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,((n,s)=>yb(n,s)))&&Zo(this.baseMutations,e.baseMutations,((n,s)=>yb(n,s)))}}class ky{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return oP})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new ky(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Fe;function bP(t){switch(t){case se.OK:return be(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function o1(t){if(t===void 0)return Ps("GRPC error has no .code"),se.UNKNOWN;switch(t){case Vt.OK:return se.OK;case Vt.CANCELLED:return se.CANCELLED;case Vt.UNKNOWN:return se.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return se.INTERNAL;case Vt.UNAVAILABLE:return se.UNAVAILABLE;case Vt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Vt.NOT_FOUND:return se.NOT_FOUND;case Vt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Vt.ABORTED:return se.ABORTED;case Vt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Vt.DATA_LOSS:return se.DATA_LOSS;default:return be(39323,{code:t})}}(Fe=Vt||(Vt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new Dr([4294967295,4294967295],0);function Tb(t){const e=SP().encode(t),n=new SA;return n.update(e),new Uint8Array(n.digest())}function Eb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Dr([n,s],0),new Dr([a,l],0)]}class Ly{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ru(`Invalid padding: ${n}`);if(s<0)throw new Ru(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Dr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Dr.fromNumber(s)));return a.compare(wP)===1&&(a=new Dr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Tb(e),[s,a]=Eb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ly(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=Tb(e),[s,a]=Eb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new pd(Ae.min(),a,new mt(je),ks(),Be())}}class dc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new dc(s,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class l1{constructor(e,n){this.targetId=e,this.Ce=n}}class u1{constructor(e,n,s=tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class bb{constructor(){this.ve=0,this.Fe=Sb(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:be(38017,{changeType:l})}})),new dc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Sb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AP{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=ef(),this.He=ef(),this.Ye=new mt(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Sg(l))if(s===0){const c=new _e(l.path);this.et(n,c,an.newNoDocument(c,Ae.min()))}else $e(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Pr(s).toUint8Array()}catch(m){if(m instanceof PA)return Wo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Ly(c,a,l)}catch(m){return Wo(m instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Sg(d.target)){const m=new _e(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,an.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Be();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new pd(e,n,this.Ye,this.je,s);return this.je=ks(),this.Je=ef(),this.He=ef(),this.Ye=new mt(je),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new bb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ef(){return new mt(_e.comparator)}function Sb(){return new mt(_e.comparator)}const xP={asc:"ASCENDING",desc:"DESCENDING"},RP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CP={and:"AND",or:"OR"};class IP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ag(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function jf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DP(t,e){return jf(t,e.toTimestamp())}function Qi(t){return $e(!!t,49232),Ae.fromTimestamp((function(n){const s=Or(n);return new ot(s.seconds,s.nanos)})(t))}function Uy(t,e){return xg(t,e).canonicalString()}function xg(t,e){const n=(function(a){return new at(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function h1(t){const e=at.fromString(t);return $e(g1(e),10190,{key:e.toString()}),e}function Rg(t,e){return Uy(t.databaseId,e.path)}function Fp(t,e){const n=h1(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(d1(n))}function f1(t,e){return Uy(t.databaseId,e)}function NP(t){const e=h1(t);return e.length===4?at.emptyPath():d1(e)}function Cg(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function d1(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wb(t,e,n){return{name:Rg(t,e),fields:n.value.mapValue.fields}}function MP(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?($e(y===void 0||typeof y=="string",58123),tn.fromBase64String(y||"")):($e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?se.UNKNOWN:o1(p.code);return new ge(y,p.message||"")})(c);n=new u1(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Fp(t,s.document.name),l=Qi(s.document.updateTime),c=s.document.createTime?Qi(s.document.createTime):Ae.min(),d=new bn({mapValue:{fields:s.document.fields}}),m=an.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new yf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Fp(t,s.document),l=s.readTime?Qi(s.readTime):Ae.min(),c=an.newNoDocument(a,l),d=s.removedTargetIds||[];n=new yf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Fp(t,s.document),l=s.removedTargetIds||[];n=new yf([],l,a,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new EP(a,l),d=s.targetId;n=new l1(d,c)}}return n}function VP(t,e){let n;if(e instanceof fc)n={update:wb(t,e.key,e.value)};else if(e instanceof Py)n={delete:Rg(t,e.key)};else if(e instanceof Hr)n={update:wb(t,e.key,e.data),updateMask:FP(e.fieldMask)};else{if(!(e instanceof vP))return be(16599,{Vt:e.type});n={verify:Rg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Lf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw be(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:DP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(t,e.precondition)),n}function OP(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Qi(a.updateTime):Qi(l);return c.isEqual(Ae.min())&&(c=Qi(l)),new pP(c,a.transformResults||[])})(n,e)))):[]}function PP(t,e){return{documents:[f1(t,e.path)]}}function kP(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=f1(t,a);const l=(function(p){if(p.length!==0)return p1(ts.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:ko(b.field),direction:jP(b.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Ag(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function LP(t){let e=NP(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){$e(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const b=m1(_);return b instanceof ts&&GA(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((b=>(function(M){return new kf(Lo(M.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let b;return b=typeof _=="object"?_.value:_,ld(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(_){const b=!!_.before,R=_.values||[];return new Pf(R,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const b=!_.before,R=_.values||[];return new Pf(R,b)})(n.endAt)),tP(e,a,c,l,d,"F",m,p)}function UP(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function m1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Lo(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(n.unaryFilter.field);return jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(n.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(n.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return jt.create(Lo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ts.create(n.compositeFilter.filters.map((s=>m1(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(t):be(30097,{filter:t})}function jP(t){return xP[t]}function BP(t){return RP[t]}function zP(t){return CP[t]}function ko(t){return{fieldPath:t.canonicalString()}}function Lo(t){return en.fromServerFormat(t.fieldPath)}function p1(t){return t instanceof jt?(function(n){if(n.op==="=="){if(hb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(cb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(cb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:BP(n.op),value:n.value}}})(t):t instanceof ts?(function(n){const s=n.getFilters().map((a=>p1(a)));return s.length===1?s[0]:{compositeFilter:{op:zP(n.op),filters:s}}})(t):be(54877,{filter:t})}function FP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function g1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,s,a,l=Ae.min(),c=Ae.min(),d=tn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.yt=e}}function qP(t){const e=LP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.Cn=new KP}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Vr.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class KP{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Bt(at.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Bt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y1=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(y1,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="LruGarbageCollector",YP=1048576;function Rb([t,e],[n,s]){const a=je(t,n);return a===0?je(e,s):a}class $P{constructor(e){this.Ir=e,this.buffer=new Bt(Rb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Rb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QP{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(xb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hl(n)?me(xb,"Ignoring IndexedDB error during garbage collection: ",n):await cl(n)}await this.Vr(3e5)}))}}class XP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(od.ce);const s=new $P(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Ab)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ab):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(p=Date.now(),Oo()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function WP(t,e){return new XP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.changes=new Fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Pu(s.mutation,a,Vn.empty(),ot.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const a=xa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=xu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=xa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,a){let l=ks();const c=Ou(),d=(function(){return Ou()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Hr)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Pu(y.mutation,p,y.mutation.getFieldMask(),ot.now())):c.set(p.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new JP(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=Ou();let a=new mt(((c,d)=>c-d)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||Vn.empty();y=d.applyToLocalView(p,y),s.set(m,y);const _=(a.get(d.batchId)||Be()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=JA();y.forEach((b=>{if(!l.has(b)){const R=r1(n.get(b),s.get(b));R!==null&&_.set(b,R),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ie.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ie.resolve(xa());let d=Ku,m=l;return c.next((p=>ie.forEach(p,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Be()))).next((y=>({batchId:d,changes:ZA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let a=xu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=xu();return this.indexManager.getCollectionParents(e,l).next((d=>ie.forEach(d,(m=>{const p=(function(_,b){return new cd(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,an.newInvalidDocument(y)))}));let d=xu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Pu(y.mutation,p,Vn.empty(),ot.now()),fd(n,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Qi(a.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:qP(a.bundledQuery),readTime:Qi(a.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.overlays=new mt(_e.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=xa();return ie.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const a=xa(),l=n.length+1,c=new _e(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new mt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=xa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=xa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return ie.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new TP(n,s));let l=this.qr.get(n);l===void 0&&(l=Be(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.Qr=new Bt(qt.$r),this.Ur=new Bt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new at([])),s=new qt(n,e),a=new qt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new at([])),s=new qt(n,e),a=new qt(n,e+1);let l=Be();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(qt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _P(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new qt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Cy:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),a=new qt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bt(je);return n.forEach((a=>{const l=new qt(a,0),c=new qt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const c=new qt(new _e(l),0);let d=new Bt(je);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),c),ie.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(a=>{const l=new qt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),a=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.ri=e,this.docs=(function(){return new mt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let s=ks();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():an.newInvalidDocument(a))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=ks();const c=n.path,d=new _e(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||VO(MO(y),s)<=0||(a.has(y.key)||fd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,s,a){be(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new ak(this)}getSize(e){return ie.resolve(this.size)}}class ak extends ZP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.persistence=e,this.si=new Fa((n=>Ny(n)),My),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new jy,this.targetCount=0,this.ai=tl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new tl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.ui={},this.overlays={},this.ci=new od(0),this.li=!1,this.li=!0,this.hi=new ik,this.referenceDelegate=e(this),this.Pi=new ok(this),this.indexManager=new GP,this.remoteDocumentCache=(function(a){return new rk(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new HP(n),this.Ii=new tk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new sk(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new lk(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class lk extends PO{constructor(e){super(),this.currentSequenceNumber=e}}class By{constructor(e){this.persistence=e,this.Ri=new jy,this.Vi=null}static mi(e){return new By(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const a=_e.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bf{constructor(e,n){this.persistence=e,this.pi=new Fa((s=>UO(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=WP(this,n)}static mi(e,n){return new Bf(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ie.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,l.removeEntry(c,Ae.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mf(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ie.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Be(),a=Be();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new zy(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zD()?8:kO(ln())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new uk;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Oo()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Oo()<=Ue.DEBUG&&me("QueryEngine","Query:",Po(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Oo()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(n))):ie.resolve())}ys(e,n){if(pb(n))return ie.resolve(null);let s=$i(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=wg(n,null,"F"),s=$i(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Be(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,d);return this.Cs(n,p,c,m.readTime)?this.ys(e,wg(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return pb(n)||a.isEqual(Ae.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?ie.resolve(null):(Oo()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Po(n)),this.vs(e,c,n,NO(a,Ku)).next((d=>d)))}))}Ds(e,n){let s=new Bt(XA(e));return n.forEach(((a,l)=>{fd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Oo()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Po(n)),this.ps.getDocumentsMatchingQuery(e,n,Vr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="LocalStore",hk=3e8;class fk{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new mt(je),this.xs=new Fa((l=>Ny(l)),My),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ek(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function dk(t,e,n,s){return new fk(t,e,n,s)}async function _1(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Be();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function mk(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const _=p.batch,b=_.keys();let R=ie.resolve();return b.forEach((M=>{R=R.next((()=>y.getEntry(m,M))).next((z=>{const P=p.docVersions.get(M);$e(P!==null,48541),z.version.compareTo(P)<0&&(_.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),y.addEntry(z)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Be();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function T1(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function pk(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((y,_)=>{const b=a.get(_);if(!b)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let R=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(tn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(_,R),(function(z,P,F){return z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=hk?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(b,R,y)&&d.push(n.Pi.updateTargetData(l,R))}));let m=ks(),p=Be();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(gk(l,c,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(Ae.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return ie.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function gk(t,e,n){let s=Be(),a=Be();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=ks();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):me(Fy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function yk(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Cy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function vk(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ie.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new xr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ig(t,e,n){const s=Re(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!hl(c))throw c;me(Fy,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Cb(t,e,n){const s=Re(t);let a=Ae.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=Re(m),b=_.xs.get(y);return b!==void 0?ie.resolve(_.Ms.get(b)):_.Pi.getTargetData(p,y)})(s,c,$i(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ae.min(),n?l:Be()))).next((d=>(_k(s,sP(e),d),{documents:d,Qs:l})))))}function _k(t,e,n){let s=t.Os.get(e)||Ae.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class Ib{constructor(){this.activeTargetIds=cP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tk{constructor(){this.Mo=new Ib,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ib,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="ConnectivityMonitor";class Nb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(Db,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(Db,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf=null;function Dg(){return tf===null?tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():tf++,"0x"+tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="RestConnection",bk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Vf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=Dg(),d=this.zo(e,n.toUriEncodedString());me(Hp,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),y=ja(p);return this.Jo(e,d,m,s,y).then((_=>(me(Hp,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw Wo(Hp,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=bk[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class Ak extends Sk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=Dg();return new Promise(((d,m)=>{const p=new wA;p.setWithCredentials(!0),p.listenOnce(AA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case df.NO_ERROR:const _=p.getResponseJson();me(sn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case df.TIMEOUT:me(sn,`RPC '${e}' ${c} timed out`),m(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const b=p.getStatus();if(me(sn,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R?.error;if(M&&M.status&&M.message){const z=(function(F){const G=F.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(G)>=0?G:se.UNKNOWN})(M.status);m(new ge(z,M.message))}else m(new ge(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ge(se.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(sn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);me(sn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Dg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=CA(),d=RA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");me(sn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let b=!1,R=!1;const M=new wk({Yo:P=>{R?me(sn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(b||(me(sn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),me(sn,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Zo:()=>_.close()}),z=(P,F,G)=>{P.listen(F,(Y=>{try{G(Y)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return z(_,Au.EventType.OPEN,(()=>{R||(me(sn,`RPC '${e}' stream ${a} transport opened.`),M.o_())})),z(_,Au.EventType.CLOSE,(()=>{R||(R=!0,me(sn,`RPC '${e}' stream ${a} transport closed`),M.a_(),this.E_(_))})),z(_,Au.EventType.ERROR,(P=>{R||(R=!0,Wo(sn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),M.a_(new ge(se.UNAVAILABLE,"The operation could not be completed")))})),z(_,Au.EventType.MESSAGE,(P=>{if(!R){const F=P.data[0];$e(!!F,16349);const G=F,Y=G?.error||G[0]?.error;if(Y){me(sn,`RPC '${e}' stream ${a} received error:`,Y);const oe=Y.status;let ae=(function(x){const C=Vt[x];if(C!==void 0)return o1(C)})(oe),ce=Y.message;ae===void 0&&(ae=se.INTERNAL,ce="Unknown error status: "+oe+" with message "+Y.message),R=!0,M.a_(new ge(ae,ce)),_.close()}else me(sn,`RPC '${e}' stream ${a} received:`,F),M.u_(F)}})),z(d,xA.STAT_EVENT,(P=>{P.stat===vg.PROXY?me(sn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===vg.NOPROXY&&me(sn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){return new IP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="PersistentStream";class b1{constructor(e,n,s,a,l,c,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new E1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Ps(n.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ge(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(Mb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(Mb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xk extends b1{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MP(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Qi(c.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Cg(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Sg(m)?{documents:PP(l,m)}:{query:kP(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=c1(l,c.resumeToken);const p=Ag(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ae.min())>0){d.readTime=jf(l,c.snapshotVersion.toTimestamp());const p=Ag(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const s=UP(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Cg(this.serializer),n.removeTarget=e,this.q_(n)}}class Rk extends b1{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OP(e.writeResults,e.commitTime),s=Qi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Cg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>VP(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{}class Ik extends Ck{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,xg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(se.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,xg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Dk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="RemoteStore";class Nk{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ha(this)&&(me(La,"Restarting streams for network reachability change."),await(async function(m){const p=Re(m);p.Ea.add(4),await mc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await yd(p)})(this))}))})),this.Ra=new Dk(s,a)}}async function yd(t){if(Ha(t))for(const e of t.da)await e(!0)}async function mc(t){for(const e of t.da)await e(!1)}function S1(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ky(n)?Gy(n):fl(n).O_()&&qy(n,e))}function Hy(t,e){const n=Re(t),s=fl(n);n.Ia.delete(e),s.O_()&&w1(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ha(n)&&n.Ra.set("Unknown"))}function qy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).Y_(e)}function w1(t,e){t.Va.Ue(e),fl(t).Z_(e)}function Gy(t){t.Va=new AP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.Ra.ua()}function Ky(t){return Ha(t)&&!fl(t).x_()&&t.Ia.size>0}function Ha(t){return Re(t).Ea.size===0}function A1(t){t.Va=void 0}async function Mk(t){t.Ra.set("Online")}async function Vk(t){t.Ia.forEach(((e,n)=>{qy(t,e)}))}async function Ok(t,e){A1(t),Ky(t)?(t.Ra.ha(e),Gy(t)):t.Ra.set("Unknown")}async function Pk(t,e,n){if(t.Ra.set("Online"),e instanceof u1&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){me(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zf(t,s)}else if(e instanceof yf?t.Va.Ze(e):e instanceof l1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await T1(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),w1(l,m);const _=new xr(y.target,m,p,y.sequenceNumber);qy(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){me(La,"Failed to raise snapshot:",s),await zf(t,s)}}async function zf(t,e,n){if(!hl(e))throw e;t.Ea.add(1),await mc(t),t.Ra.set("Offline"),n||(n=()=>T1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(La,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await yd(t)}))}function x1(t,e){return e().catch((n=>zf(t,n,e)))}async function vd(t){const e=Re(t),n=Lr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cy;for(;kk(e);)try{const a=await yk(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,Lk(e,a)}catch(a){await zf(e,a)}R1(e)&&C1(e)}function kk(t){return Ha(t)&&t.Ta.length<10}function Lk(t,e){t.Ta.push(e);const n=Lr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function R1(t){return Ha(t)&&!Lr(t).x_()&&t.Ta.length>0}function C1(t){Lr(t).start()}async function Uk(t){Lr(t).ra()}async function jk(t){const e=Lr(t);for(const n of t.Ta)e.ea(n.mutations)}async function Bk(t,e,n){const s=t.Ta.shift(),a=ky.from(s,e,n);await x1(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await vd(t)}async function zk(t,e){e&&Lr(t).X_&&await(async function(s,a){if((function(c){return bP(c)&&c!==se.ABORTED})(a.code)){const l=s.Ta.shift();Lr(s).B_(),await x1(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await vd(s)}})(t,e),R1(t)&&C1(t)}async function Vb(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),me(La,"RemoteStore received new credentials");const s=Ha(n);n.Ea.add(3),await mc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yd(n)}async function Fk(t,e){const n=Re(t);e?(n.Ea.delete(2),await yd(n)):e||(n.Ea.add(2),await mc(n),n.Ra.set("Unknown"))}function fl(t){return t.ma||(t.ma=(function(n,s,a){const l=Re(n);return l.sa(),new xk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Mk.bind(null,t),t_:Vk.bind(null,t),r_:Ok.bind(null,t),H_:Pk.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Ky(t)?Gy(t):t.Ra.set("Unknown")):(await t.ma.stop(),A1(t))}))),t.ma}function Lr(t){return t.fa||(t.fa=(function(n,s,a){const l=Re(n);return l.sa(),new Rk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Uk.bind(null,t),r_:zk.bind(null,t),ta:jk.bind(null,t),na:Bk.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await vd(t)):(await t.fa.stop(),t.Ta.length>0&&(me(La,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new Yy(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $y(t,e){if(Ps("AsyncQueue",`${e}: ${t}`),hl(t))return new ge(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=xu(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.ga=new mt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class nl{constructor(e,n,s,a,l,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new nl(e,n,Yo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qk{constructor(){this.queries=Pb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=Pb(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new ge(se.ABORTED,"Firestore shutting down"))}}function Pb(){return new Fa((t=>QA(t)),hd)}async function I1(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new Hk,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=$y(c,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Qy(n)}async function D1(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Gk(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&Qy(n)}function Kk(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function Qy(t){t.Ca.forEach((e=>{e.next()}))}var Ng,kb;(kb=Ng||(Ng={})).Ma="default",kb.Cache="cache";class N1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new nl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.key=e}}class V1{constructor(e){this.key=e}}class Yk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=XA(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Ob,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const b=a.get(y),R=fd(this.query,_)?_:null,M=!!b&&this.mutatedKeys.has(b.key),z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let P=!1;b&&R?b.data.isEqual(R.data)?M!==z&&(s.track({type:3,doc:R}),P=!0):this.su(b,R)||(s.track({type:2,doc:R}),P=!0,(m&&this.eu(R,m)>0||p&&this.eu(R,p)<0)&&(d=!0)):!b&&R?(s.track({type:0,doc:R}),P=!0):b&&!R&&(s.track({type:1,doc:b}),P=!0,(m||p)&&(d=!0)),P&&(R?(c=c.add(R),l=z?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,_)=>(function(R,M){const z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:P})}};return z(R)-z(M)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new nl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ob,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new V1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new M1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xy="SyncEngine";class $k{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Qk{constructor(e){this.key=e,this.hu=!1}}class Xk{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Fa((d=>QA(d)),hd),this.Iu=new Map,this.Eu=new Set,this.du=new mt(_e.comparator),this.Au=new Map,this.Ru=new jy,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Wk(t,e,n=!0){const s=j1(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await O1(s,e,n,!0),a}async function Zk(t,e){const n=j1(t);await O1(n,e,!0,!1)}async function O1(t,e,n,s){const a=await vk(t.localStore,$i(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await Jk(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&S1(t.remoteStore,a),d}async function Jk(t,e,n,s,a){t.pu=(_,b,R)=>(async function(z,P,F,G){let Y=P.view.ru(F);Y.Cs&&(Y=await Cb(z.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,Y))));const oe=G&&G.targetChanges.get(P.targetId),ae=G&&G.targetMismatches.get(P.targetId)!=null,ce=P.view.applyChanges(Y,z.isPrimaryClient,oe,ae);return Ub(z,P.targetId,ce.au),ce.snapshot})(t,_,b,R);const l=await Cb(t.localStore,e,!0),c=new Yk(e,l.Qs),d=c.ru(l.documents),m=dc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,m);Ub(t,n,p.au);const y=new $k(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function e4(t,e,n){const s=Re(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!hd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ig(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Hy(s.remoteStore,a.targetId),Mg(s,a.targetId)})).catch(cl)):(Mg(s,a.targetId),await Ig(s.localStore,a.targetId,!0))}async function t4(t,e){const n=Re(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hy(n.remoteStore,s.targetId))}async function n4(t,e,n){const s=u4(t);try{const a=await(function(c,d){const m=Re(c),p=ot.now(),y=d.reduce(((R,M)=>R.add(M.key)),Be());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let M=ks(),z=Be();return m.Ns.getEntries(R,y).next((P=>{M=P,M.forEach(((F,G)=>{G.isValidDocument()||(z=z.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,M))).next((P=>{_=P;const F=[];for(const G of d){const Y=yP(G,_.get(G.key).overlayedDocument);Y!=null&&F.push(new Hr(G.key,Y,FA(Y.value.mapValue),Jn.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,F,d)})).next((P=>{b=P;const F=P.applyToLocalDocumentSet(_,z);return m.documentOverlayCache.saveOverlays(R,P.batchId,F)}))})).then((()=>({batchId:b.batchId,changes:ZA(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new mt(je)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await pc(s,a.changes),await vd(s.remoteStore)}catch(a){const l=$y(a,"Failed to persist write");n.reject(l)}}async function P1(t,e){const n=Re(t);try{const s=await pk(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&($e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?$e(c.hu,14607):a.removedDocuments.size>0&&($e(c.hu,42227),c.hu=!1))})),await pc(n,s,e)}catch(s){await cl(s)}}function Lb(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Re(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(d)&&(p=!0)})),p&&Qy(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function i4(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new mt(_e.comparator);c=c.insert(l,an.newNoDocument(l,Ae.min()));const d=Be().add(l),m=new pd(Ae.min(),new Map,new mt(je),c,d);await P1(s,m),s.du=s.du.remove(l),s.Au.delete(e),Wy(s)}else await Ig(s.localStore,e,!1).then((()=>Mg(s,e,n))).catch(cl)}async function s4(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await mk(n.localStore,e);L1(n,s,null),k1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pc(n,a)}catch(a){await cl(a)}}async function r4(t,e,n){const s=Re(t);try{const a=await(function(c,d){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((_=>($e(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);L1(s,e,n),k1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pc(s,a)}catch(a){await cl(a)}}function k1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function L1(t,e,n){const s=Re(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Mg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||U1(t,s)}))}function U1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Hy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Wy(t))}function Ub(t,e,n){for(const s of n)s instanceof M1?(t.Ru.addReference(s.key,e),a4(t,s)):s instanceof V1?(me(Xy,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||U1(t,s.key)):be(19791,{wu:s})}function a4(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(me(Xy,"New document in limbo: "+n),t.Eu.add(s),Wy(t))}function Wy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(at.fromString(e)),s=t.fu.next();t.Au.set(s,new Qk(n)),t.du=t.du.insert(n,s),S1(t.remoteStore,new xr($i(Vy(n.path)),s,"TargetPurposeLimboResolution",od.ce))}}async function pc(t,e,n){const s=Re(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=zy.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const y=Re(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ie.forEach(p,(b=>ie.forEach(b.Es,(R=>y.persistence.referenceDelegate.addReference(_,b.targetId,R))).next((()=>ie.forEach(b.ds,(R=>y.persistence.referenceDelegate.removeReference(_,b.targetId,R)))))))))}catch(_){if(!hl(_))throw _;me(Fy,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const R=y.Ms.get(b),M=R.snapshotVersion,z=R.withLastLimboFreeSnapshotVersion(M);y.Ms=y.Ms.insert(b,z)}}})(s.localStore,l))}async function o4(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){me(Xy,"User change. New user:",e.toKey());const s=await _1(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ge(se.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pc(n,s.Ls)}}function l4(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let a=Be();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function j1(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i4.bind(null,e),e.Pu.H_=Gk.bind(null,e.eventManager),e.Pu.yu=Kk.bind(null,e.eventManager),e}function u4(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r4.bind(null,e),e}class Ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dk(this.persistence,new ck,e.initialUser,this.serializer)}Cu(e){return new v1(By.mi,this.serializer)}Du(e){return new Tk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ff.provider={build:()=>new Ff};class c4 extends Ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Bf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new QP(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new v1((s=>Bf.mi(s,n)),this.serializer)}}class Vg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Lb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=o4.bind(null,this.syncEngine),await Fk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qk})()}createDatastore(e){const n=gd(e.databaseInfo.databaseId),s=(function(l){return new Ak(l)})(e.databaseInfo);return(function(l,c,d,m){return new Ik(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,d){return new Nk(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>Lb(this.syncEngine,n,0)),(function(){return Nb.v()?new Nb:new Ek})())}createSyncEngine(e,n){return(function(a,l,c,d,m,p,y){const _=new Xk(a,l,c,d,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);me(La,"RemoteStore shutting down."),s.Ea.add(5),await mc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vg.provider={build:()=>new Vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="FirestoreClient";class h4{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=rn.UNAUTHENTICATED,this.clientId=xy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{me(Ur,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(me(Ur,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=$y(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Gp(t,e){t.asyncQueue.verifyOperationInProgress(),me(Ur,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await _1(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function jb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await f4(t);me(Ur,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Vb(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>Vb(e.remoteStore,a))),t._onlineComponents=e}async function f4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Ur,"Using user provided OfflineComponentProvider");try{await Gp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Wo("Error using user provided cache. Falling back to memory cache: "+n),await Gp(t,new Ff)}}else me(Ur,"Using default OfflineComponentProvider"),await Gp(t,new c4(void 0));return t._offlineComponents}async function z1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Ur,"Using user provided OnlineComponentProvider"),await jb(t,t._uninitializedComponentsProvider._online)):(me(Ur,"Using default OnlineComponentProvider"),await jb(t,new Vg))),t._onlineComponents}function d4(t){return z1(t).then((e=>e.syncEngine))}async function F1(t){const e=await z1(t),n=e.eventManager;return n.onListen=Wk.bind(null,e.syncEngine),n.onUnlisten=e4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Zk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t4.bind(null,e.syncEngine),n}function m4(t,e,n={}){const s=new Ns;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new B1({next:b=>{y.Nu(),c.enqueueAndForget((()=>D1(l,_)));const R=b.docs.has(d);!R&&b.fromCache?p.reject(new ge(se.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&m&&m.source==="server"?p.reject(new ge(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new N1(Vy(d.path),y,{includeMetadataChanges:!0,qa:!0});return I1(l,_)})(await F1(t),t.asyncQueue,e,n,s))),s.promise}function p4(t,e,n={}){const s=new Ns;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new B1({next:b=>{y.Nu(),c.enqueueAndForget((()=>D1(l,_))),b.fromCache&&m.source==="server"?p.reject(new ge(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new N1(d,y,{includeMetadataChanges:!0,qa:!0});return I1(l,_)})(await F1(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firestore.googleapis.com",zb=!0;class Fb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=q1,this.ssl=zb}else this.host=e.host,this.ssl=e.ssl??zb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YP)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new TO;switch(s.type){case"firstParty":return new wO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Bb.get(n);s&&(me("ComponentProvider","Removing Datastore"),Bb.delete(n),s.terminate())})(this),Promise.resolve()}}function g4(t,e,n,s={}){t=Ei(t,_d);const a=ja(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(fy(`https://${d}`),dy("Firestore",!0)),l.host!==q1&&l.host!==d&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Va(m,c)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=rn.MOCK_USER;else{p=Lw(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new rn(_)}t._authCredentials=new EO(new DA(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Td(this.firestore,e,this._query)}}class kt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(hc(n,kt._jsonSchema))return new kt(e,s||null,new _e(at.fromString(n.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Pt("string",kt._jsonSchemaVersion),referencePath:Pt("string")};class Nr extends Td{constructor(e,n,s){super(e,n,Vy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new _e(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function ku(t,e,...n){if(t=Gt(t),NA("collection","path",e),t instanceof _d){const s=at.fromString(e,...n);return nb(s),new Nr(t,null,s)}{if(!(t instanceof kt||t instanceof Nr))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return nb(s),new Nr(t.firestore,null,s)}}function yi(t,e,...n){if(t=Gt(t),arguments.length===1&&(e=xy.newId()),NA("doc","path",e),t instanceof _d){const s=at.fromString(e,...n);return tb(s),new kt(t,null,new _e(s))}{if(!(t instanceof kt||t instanceof Nr))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return tb(s),new kt(t.firestore,t instanceof Nr?t.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="AsyncQueue";class qb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new E1(this,"async_queue_retry"),this._c=()=>{const s=qp();s&&me(Hb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;me(Hb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",Gb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Yy.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:Gb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Gb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class qa extends _d{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new qb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qb(e),this._firestoreClient=void 0,await e}}}function y4(t,e){const n=typeof t=="object"?t:gy(),s=typeof t=="string"?t:Vf,a=nd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=Ow("firestore");l&&g4(a,...l)}return a}function Zy(t){if(t._terminated)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||v4(t),t._firestoreClient}function v4(t){const e=t._freezeSettings(),n=(function(a,l,c,d){return new zO(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,H1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new h4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(tn.fromBase64String(e))}catch(n){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hc(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Pt("string",Wn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(hc(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Pt("string",Xi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hc(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wi(e.vectorValues);throw new ge(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:Pt("string",Wi._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=/^__.*__$/;class T4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new fc(e,this.data,n,this.fieldTransforms)}}class G1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function K1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:t})}}class ev{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ev({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(K1(this.Ac)&&_4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class E4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gd(e)}Cc(e,n,s,a=!1){return new ev({Ac:e,methodName:n,Dc:s,path:en.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tv(t){const e=t._freezeSettings(),n=gd(t._databaseId);return new E4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Y1(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);nv("Data must be an object, but it was:",c,s);const d=$1(s,c);let m,p;if(l.merge)m=new Vn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=Og(e,_,n);if(!c.contains(b))throw new ge(se.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);X1(y,b)||y.push(b)}m=new Vn(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new T4(new bn(d),m,p)}class bd extends Jy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}function b4(t,e,n,s){const a=t.Cc(1,e,n);nv("Data must be an object, but it was:",a,s);const l=[],c=bn.empty();Fr(s,((m,p)=>{const y=iv(e,m,n);p=Gt(p);const _=a.yc(y);if(p instanceof bd)l.push(y);else{const b=Sd(p,_);b!=null&&(l.push(y),c.set(y,b))}}));const d=new Vn(l);return new G1(c,d,a.fieldTransforms)}function S4(t,e,n,s,a,l){const c=t.Cc(1,e,n),d=[Og(e,s,n)],m=[a];if(l.length%2!=0)throw new ge(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(Og(e,l[b])),m.push(l[b+1]);const p=[],y=bn.empty();for(let b=d.length-1;b>=0;--b)if(!X1(p,d[b])){const R=d[b];let M=m[b];M=Gt(M);const z=c.yc(R);if(M instanceof bd)p.push(R);else{const P=Sd(M,z);P!=null&&(p.push(R),y.set(R,P))}}const _=new Vn(p);return new G1(y,_,c.fieldTransforms)}function Sd(t,e){if(Q1(t=Gt(t)))return nv("Unsupported field value:",e,t),$1(t,e);if(t instanceof Jy)return(function(s,a){if(!K1(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=Sd(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=Gt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hP(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ot.fromDate(s);return{timestampValue:jf(a.serializer,l)}}if(s instanceof ot){const l=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jf(a.serializer,l)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wn)return{bytesValue:c1(a.serializer,s._byteString)};if(s instanceof kt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Uy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Wi)return(function(c,d){return{mapValue:{fields:{[BA]:{stringValue:zA},[Of]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Oy(d.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Ry(s)}`)})(t,e)}function $1(t,e){const n={};return OA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fr(t,((s,a)=>{const l=Sd(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function Q1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof Xi||t instanceof Wn||t instanceof kt||t instanceof Jy||t instanceof Wi)}function nv(t,e,n){if(!Q1(n)||!MA(n)){const s=Ry(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Og(t,e,n){if((e=Gt(e))instanceof Ed)return e._internalPath;if(typeof e=="string")return iv(t,e);throw Hf("Field path arguments must be of type string or ",t,!1,void 0,n)}const w4=new RegExp("[~\\*/\\[\\]]");function iv(t,e,n){if(e.search(w4)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ed(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hf(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ge(se.INVALID_ARGUMENT,d+t+m)}function X1(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Z1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class A4 extends W1{data(){return super.data()}}function Z1(t,e){return typeof e=="string"?iv(t,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R4{convertValue(e,n="none"){switch(kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Fr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Of].arrayValue?.values?.map((s=>St(s.doubleValue)));return new Wi(n)}convertGeoPoint(e){return new Xi(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ud(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){const n=Or(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);$e(g1(s),9688,{name:e});const a=new $u(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return a.isEqual(n)||Ps(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Cu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends W1{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Z1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Pt("string",Da._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class vf extends Da{data(e={}){return super.data(e)}}class $o{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Cu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new vf(this._firestore,this._userDataWriter,s.key,s,new Cu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Cu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Cu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:C4(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){t=Ei(t,kt);const e=Ei(t.firestore,qa);return m4(Zy(e),t._key).then((n=>I4(e,t,n)))}$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:Pt("string",$o._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class ex extends R4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function Pg(t){t=Ei(t,Td);const e=Ei(t.firestore,qa),n=Zy(e),s=new ex(e);return x4(t._query),p4(n,t._query).then((a=>new $o(e,s,t,a)))}function Kb(t,e,n){t=Ei(t,kt);const s=Ei(t.firestore,qa),a=J1(t.converter,e);return wd(s,[Y1(tv(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Jn.none())])}function tx(t,e,n,...s){t=Ei(t,kt);const a=Ei(t.firestore,qa),l=tv(a);let c;return c=typeof(e=Gt(e))=="string"||e instanceof Ed?S4(l,"updateDoc",t._key,e,n,s):b4(l,"updateDoc",t._key,e),wd(a,[c.toMutation(t._key,Jn.exists(!0))])}function nx(t){return wd(Ei(t.firestore,qa),[new Py(t._key,Jn.none())])}function ix(t,e){const n=Ei(t.firestore,qa),s=yi(t),a=J1(t.converter,e);return wd(n,[Y1(tv(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then((()=>s))}function wd(t,e){return(function(s,a){const l=new Ns;return s.asyncQueue.enqueueAndForget((async()=>n4(await d4(s),a,l))),l.promise})(Zy(t),e)}function I4(t,e,n){const s=n.docs.get(e._key),a=new ex(t);return new Da(t,a,e._key,s,new Cu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){ul=a})(Ba),Oa(new Mr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new qa(new bO(s.getProvider("auth-internal")),new AO(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Gi(WE,ZE,e),Gi(WE,ZE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="firebasestorage.googleapis.com",D4="storageBucket",N4=120*1e3,M4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends rs{constructor(e,n,s=0){super(Kp(e),`Firebase Storage: ${n} (${Kp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,as.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ns;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ns||(ns={}));function Kp(t){return"storage/"+t}function V4(){const t="An unknown error occurred, please check the error payload for server response.";return new as(ns.UNKNOWN,t)}function O4(){return new as(ns.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P4(){return new as(ns.CANCELED,"User canceled the upload/download.")}function k4(t){return new as(ns.INVALID_URL,"Invalid URL '"+t+"'.")}function L4(t){return new as(ns.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Yb(t){return new as(ns.INVALID_ARGUMENT,t)}function rx(){return new as(ns.APP_DELETED,"The Firebase app was deleted.")}function U4(t){return new as(ns.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=_i.makeFromUrl(e,n)}catch{return new _i(e,"")}if(s.path==="")return s;throw L4(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(oe){oe.path_=decodeURIComponent(oe.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${y}/b/${a}/o${b}`,"i"),M={bucket:1,path:3},z=n===sx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",F=new RegExp(`^https?://${z}/${a}/${P}`,"i"),Y=[{regex:d,indices:m,postModify:l},{regex:R,indices:M,postModify:p},{regex:F,indices:{bucket:1,path:2},postModify:p}];for(let oe=0;oe<Y.length;oe++){const ae=Y[oe],ce=ae.regex.exec(e);if(ce){const I=ce[ae.indices.bucket];let x=ce[ae.indices.path];x||(x=""),s=new _i(I,x),ae.postModify(s);break}}if(s==null)throw k4(e);return s}}class j4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t,e,n){let s=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let p=!1;function y(...P){p||(p=!0,e.apply(null,P))}function _(P){a=setTimeout(()=>{a=null,t(R,m())},P)}function b(){l&&clearTimeout(l)}function R(P,...F){if(p){b();return}if(P){b(),y.call(null,P,...F);return}if(m()||c){b(),y.call(null,P,...F);return}s<64&&(s*=2);let Y;d===1?(d=2,Y=0):Y=(s+Math.random())*1e3,_(Y)}let M=!1;function z(P){M||(M=!0,b(),!p&&(a!==null?(P||(d=2),clearTimeout(a),_(0)):P||(d=1)))}return _(0),l=setTimeout(()=>{c=!0,z(!0)},n),z}function z4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){return t!==void 0}function $b(t,e,n,s){if(s<e)throw Yb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Yb(`Invalid value for '${t}'. Expected ${n} or less.`)}function H4(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Gf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gf||(Gf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n,s,a,l,c,d,m,p,y,_,b=!0,R=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,z)=>{this.resolve_=M,this.reject_=z,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new nf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Gf.NO_ERROR,m=l.getStatus();if(!d||q4(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Gf.ABORT;s(!1,new nf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new nf(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());F4(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=V4();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?rx():P4();c(m)}else{const m=O4();c(m)}};this.canceled_?n(!1,new nf(!1,null,!0)):this.backoffId_=B4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&z4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function K4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Y4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Q4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function X4(t,e,n,s,a,l,c=!0,d=!1){const m=H4(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return $4(y,e),K4(y,n),Y4(y,l),Q4(y,s),new G4(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Z4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n){this._service=e,n instanceof _i?this._location=n:this._location=_i.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Kf(e,n)}get root(){const e=new _i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Z4(this._location.path)}get storage(){return this._service}get parent(){const e=W4(this._location.path);if(e===null)return null;const n=new _i(this._location.bucket,e);return new Kf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw U4(e)}}function Qb(t,e){const n=e?.[D4];return n==null?null:_i.makeFromBucketSpec(n,t)}function J4(t,e,n,s={}){t.host=`${e}:${n}`;const a=ja(e);a&&(fy(`https://${t.host}/b`),dy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:Lw(l,t.app.options.projectId))}class eL{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=sx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=N4,this._maxUploadRetryTime=M4,this._requests=new Set,a!=null?this._bucket=_i.makeFromBucketSpec(a,this._host):this._bucket=Qb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_i.makeFromBucketSpec(this._url,e):this._bucket=Qb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$b("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$b("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kf(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new j4(rx());{const c=X4(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const Xb="@firebase/storage",Wb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="storage";function tL(t=gy(),e){t=Gt(t);const s=nd(t,ax).getImmediate({identifier:e}),a=Ow("storage");return a&&nL(s,...a),s}function nL(t,e,n,s={}){J4(t,e,n,s)}function iL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new eL(n,s,a,e,Ba)}function sL(){Oa(new Mr(ax,iL,"PUBLIC").setMultipleInstances(!0)),Gi(Xb,Wb,""),Gi(Xb,Wb,"esm2020")}sL();const rL={apiKey:"AIzaSyBh_n_4YLe6w26_CbRR-1toZfv0nD3GlTU",authDomain:"church-website-25.firebaseapp.com",projectId:"church-website-25",storageBucket:"church-website-25.firebasestorage.app",messagingSenderId:"18049781291",appId:"1:18049781291:web:c93e8b2639b1fd9f0e246e"},sv=Bw(rL),kg=bA(sv),fn=y4(sv);tL(sv);const aL=async()=>{try{const t=yi(fn,"donationSettings","donationDetails"),e=await qf(t);return e.exists()?e.data():(console.log("No bank details found in Firestore!"),null)}catch(t){return console.error("Error fetching bank details:",t),null}},oL=async()=>{try{const t=yi(fn,"liveSettings","youtubeLink"),e=await qf(t);return e.exists()?e.data().url:null}catch(t){return console.error("Error fetching YouTube link:",t),null}},lL=async t=>{try{const e=ku(fn,"contactMessages");await ix(e,{...t,read:!1}),console.log("Contact message added successfully!")}catch(e){throw console.error("Error adding contact message:",e),e}},uL=async t=>{try{const e=yi(fn,"contactMessages",t);await tx(e,{read:!0}),console.log("Message marked as read!")}catch(e){throw console.error("Error marking message as read:",e),e}},cL=async t=>{try{const e=yi(fn,"contactMessages",t);await nx(e),console.log("Message deleted successfully!")}catch(e){throw console.error("Error deleting message:",e),e}},ox=({isOpen:t,onClose:e})=>{const[n,s]=k.useState({amount:"",email:"",description:""}),[a,l]=k.useState(null),[c,d]=k.useState(!0),[m,p]=k.useState(null);k.useEffect(()=>{(async()=>{const M=await aL();l(M),d(!1)})()},[]);const y=R=>{const{name:M,value:z}=R.target;s({...n,[M]:z})},_=R=>{if(R.preventDefault(),!n.amount||!n.email||!n.description){alert("Please fill in all fields before proceeding.");return}alert("Thank you for your donation!")},b=R=>{navigator.clipboard.writeText(R),p(R),setTimeout(()=>p(null),2e3)};return t?S.jsx("div",{className:"fixed inset-0 bg-black/60 flex justify-center items-center z-50 p-4",children:S.jsx("div",{className:"bg-white rounded-2xl shadow-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:S.jsxs("div",{className:"grid md:grid-cols-2",children:[S.jsxs("div",{className:"p-6 sm:p-8 md:p-10",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-green-800",children:"Make a Donation"}),S.jsx("button",{onClick:e,className:"text-gray-500 hover:text-red-600",children:S.jsx(Iw,{size:22})})]}),S.jsxs("form",{className:"space-y-4",onSubmit:_,children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Enter Amount"}),S.jsx("input",{type:"number",name:"amount",placeholder:"₦ Amount",required:!0,value:n.amount,onChange:y,className:"w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent transition"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Email Address"}),S.jsx("input",{type:"email",name:"email",placeholder:"you@example.com",required:!0,value:n.email,onChange:y,className:"w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent transition"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Description"}),S.jsxs("div",{className:"relative",children:[S.jsxs("select",{name:"description",required:!0,value:n.description,onChange:y,className:"w-full appearance-none px-4 py-2 rounded-md border border-gray-300 bg-white text-gray-700 focus:outline-none focus:border-green-600 focus:ring-1 focus:ring-green-600 transition cursor-pointer",children:[S.jsx("option",{value:"",children:"Select Donation Type"}),S.jsx("option",{value:"building",children:"🏗️ Building Project"}),S.jsx("option",{value:"mission",children:"🌍 Mission Offerings"}),S.jsx("option",{value:"tithe",children:"💰 Tithe, Offerings & Seeds"}),S.jsx("option",{value:"care",children:"🤝 Care Ministry"})]}),S.jsx("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-700 pointer-events-none",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),S.jsxs("div",{className:"flex flex-wrap gap-4 mt-6",children:[S.jsx("button",{type:"submit",className:"flex-1 px-6 py-2 rounded-full bg-green-700 text-white hover:bg-green-800 transition",children:"Pay Now"}),S.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-2 rounded-full border border-red-400 text-red-500 hover:bg-red-50 transition",children:"Close"})]})]})]}),S.jsxs("div",{className:"bg-green-50 p-6 sm:p-8 md:p-10 border-t md:border-t-0 md:border-l border-green-100 text-sm",children:[S.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"Bank Transfer Details"}),c?S.jsx("p",{className:"text-gray-500",children:"Loading bank details..."}):a?S.jsx("ul",{className:"space-y-4 text-gray-800",children:Object.entries(a).map(([R,M])=>S.jsxs("li",{children:[S.jsx("strong",{className:"capitalize",children:R==="tithe"?"Tithe, Offerings & Seeds":R==="mission"?"Mission Offerings":R==="building"?"Building Project":R==="care"?"Care Ministry":R}),S.jsx("br",{}),"Account Name: ",M?.accountName||"N/A"," ",S.jsx("br",{}),"Account Number:"," ",S.jsxs("span",{className:"inline-flex items-center gap-2",children:[M?.accountNumber||"N/A",M?.accountNumber&&S.jsx("button",{onClick:()=>b(M.accountNumber),type:"button",className:"text-green-700 hover:text-green-900 transition",children:S.jsx(aD,{size:16})}),m===M?.accountNumber&&S.jsx("span",{className:"text-xs text-green-600",children:"Copied!"})]}),S.jsx("br",{}),"Bank: ",M?.bank||"N/A"]},R))}):S.jsx("p",{className:"text-red-500",children:"Failed to load bank details."}),S.jsxs("p",{className:"text-xs text-gray-600 mt-6 leading-relaxed",children:["Kindly email the Finance Ministry (finance@church.org) with details of any transfer/deposit made. ",S.jsx("br",{}),"May God bless you as you give."]})]})]})})}):null},hL=()=>{const[t,e]=k.useState(!1),[n,s]=k.useState(!1),[a,l]=k.useState("home"),c=ss(),d=js();k.useEffect(()=>{d.pathname.includes("resources")?l("resources"):l("home")},[d.pathname]);const m=()=>{window.scrollTo({top:0,behavior:"smooth"}),l("home"),e(!1)},p=b=>{l(b),e(!1)},y=()=>{c("/resources"),window.scrollTo({top:0,behavior:"smooth"}),l("resources"),e(!1)},_=b=>`relative text-left text-green-800 hover:text-green-600 transition pb-1 inline-block w-fit ${a===b?"after:content-[''] after:absolute after:left-0 after:right-0 after:mx-auto after:bottom-0 after:h-[2px] after:bg-green-700 after:rounded-full after:w-11 sm:after:w-2/3 md:after:w-3/4":""}`;return S.jsxs(S.Fragment,{children:[S.jsxs("nav",{className:"fixed top-0 left-0 w-full bg-white/95 backdrop-blur-md shadow-md z-50",children:[S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"flex justify-between items-center h-16",children:[S.jsx(hy,{to:"/church-website/",onClick:m,className:"text-2xl font-semibold italic text-green-700",children:"Logo"}),S.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[S.jsx("button",{onClick:m,className:_("home"),children:"Home"}),S.jsx("a",{href:"#about",onClick:()=>p("about"),className:_("about"),children:"About"}),S.jsx("a",{href:"#programs",onClick:()=>p("programs"),className:_("programs"),children:"Programs"}),S.jsx("a",{href:"#departments",onClick:()=>p("departments"),className:_("departments"),children:"Departments"}),S.jsx("a",{href:"#contact",onClick:()=>p("contact"),className:_("contact"),children:"Contact Us"}),S.jsx("button",{onClick:y,className:_("resources"),children:"Resources"}),S.jsx("button",{onClick:()=>s(!0),className:"px-4 py-2 rounded-md bg-green-700 text-white hover:bg-green-800 transition",children:"Donate"})]}),S.jsx("div",{className:"md:hidden",children:S.jsx("button",{onClick:()=>e(!t),className:"text-green-700",children:t?S.jsx(Iw,{size:26}):S.jsx(gD,{size:26})})})]})}),S.jsx("div",{className:`md:hidden bg-white overflow-hidden transition-all duration-300 ease-in-out border-t border-green-100 ${t?"max-h-[600px] opacity-100":"max-h-0 opacity-0"}`,children:S.jsxs("div",{className:"flex flex-col px-6 py-4 space-y-4 text-left",children:[S.jsx("button",{onClick:m,className:_("home"),children:"Home"}),S.jsx("a",{href:"#about",onClick:()=>p("about"),className:_("about"),children:"About"}),S.jsx("a",{href:"#programs",onClick:()=>p("programs"),className:_("programs"),children:"Programs"}),S.jsx("a",{href:"#departments",onClick:()=>p("departments"),className:_("departments"),children:"Departments"}),S.jsx("a",{href:"#contact",onClick:()=>p("contact"),className:_("contact"),children:"Contact Us"}),S.jsx("button",{onClick:y,className:_("resources"),children:"Resources"}),S.jsx("button",{onClick:()=>{s(!0),e(!1)},className:"w-full px-4 py-2 rounded-md bg-green-700 text-white text-center font-medium hover:bg-green-800 transition mt-2",children:"Donate"})]})})]}),S.jsx(ox,{isOpen:n,onClose:()=>s(!1)})]})};var Vo={},Zb;function fL(){if(Zb)return Vo;Zb=1,Object.defineProperty(Vo,"__esModule",{value:!0});var t=dw(),e=Zf(),n=function(){return n=Object.assign||function(m){for(var p,y=1,_=arguments.length;y<_;y++)for(var b in p=arguments[y])Object.prototype.hasOwnProperty.call(p,b)&&(m[b]=p[b]);return m},n.apply(this,arguments)};function s(m,p){var y,_;switch(p.type){case"TYPE":return n(n({},m),{speed:p.speed,text:(y=p.payload)===null||y===void 0?void 0:y.substring(0,m.text.length+1)});case"DELAY":return n(n({},m),{speed:p.payload});case"DELETE":return n(n({},m),{speed:p.speed,text:(_=p.payload)===null||_===void 0?void 0:_.substring(0,m.text.length-1)});case"COUNT":return n(n({},m),{count:m.count+1});default:return m}}var a=function(m){var p=m.words,y=p===void 0?["Hello World!","This is","a simple Typewriter"]:p,_=m.loop,b=_===void 0?1:_,R=m.typeSpeed,M=R===void 0?80:R,z=m.deleteSpeed,P=z===void 0?50:z,F=m.delaySpeed,G=F===void 0?1500:F,Y=m.onLoopDone,oe=m.onType,ae=m.onDelete,ce=m.onDelay,I=e.useReducer(s,{speed:M,text:"",count:0}),x=I[0],C=x.speed,O=x.text,V=x.count,j=I[1],D=e.useRef(0),Pe=e.useRef(!1),He=e.useRef(!1),W=e.useRef(!1),re=e.useRef(!1),fe=e.useCallback((function(){var Se=V%y.length,Ie=y[Se];He.current?(j({type:"DELETE",payload:Ie,speed:P}),O===""&&(He.current=!1,j({type:"COUNT"}))):(j({type:"TYPE",payload:Ie,speed:M}),W.current=!0,O===Ie&&(j({type:"DELAY",payload:G}),W.current=!1,re.current=!0,setTimeout((function(){re.current=!1,He.current=!0}),G),b>0&&(D.current+=1,D.current/y.length===b&&(re.current=!1,Pe.current=!0)))),W.current&&oe&&oe(D.current),He.current&&ae&&ae(),re.current&&ce&&ce()}),[V,G,P,b,M,y,O,oe,ae,ce]);return e.useEffect((function(){var Se=setTimeout(fe,C);return Pe.current&&clearTimeout(Se),function(){return clearTimeout(Se)}}),[fe,C]),e.useEffect((function(){Y&&Pe.current&&Y()}),[Y]),[O,{isType:W.current,isDelay:re.current,isDelete:He.current,isDone:Pe.current}]},l="styles-module_blinkingCursor__yugAC",c="styles-module_blinking__9VXRT";(function(m,p){p===void 0&&(p={});var y=p.insertAt;if(typeof document<"u"){var _=document.head||document.getElementsByTagName("head")[0],b=document.createElement("style");b.type="text/css",y==="top"&&_.firstChild?_.insertBefore(b,_.firstChild):_.appendChild(b),b.styleSheet?b.styleSheet.cssText=m:b.appendChild(document.createTextNode(m))}})(".styles-module_blinkingCursor__yugAC{color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}.styles-module_blinking__9VXRT{animation-duration:.8s;animation-iteration-count:infinite;animation-name:styles-module_blink__rqfaf}@keyframes styles-module_blink__rqfaf{0%{opacity:1}to{opacity:0}}");var d=e.memo((function(m){var p=m.cursorBlinking,y=p===void 0||p,_=m.cursorStyle,b=_===void 0?"|":_,R=m.cursorColor,M=R===void 0?"inherit":R;return t.jsx("span",n({style:{color:M},className:"".concat(l," ").concat(y?c:"")},{children:b}))}));return Vo.Cursor=d,Vo.Typewriter=function(m){var p=m.words,y=p===void 0?["Hello World!","This is","a simple Typewriter"]:p,_=m.loop,b=_===void 0?1:_,R=m.typeSpeed,M=R===void 0?80:R,z=m.deleteSpeed,P=z===void 0?50:z,F=m.delaySpeed,G=F===void 0?1500:F,Y=m.cursor,oe=Y!==void 0&&Y,ae=m.cursorStyle,ce=ae===void 0?"|":ae,I=m.cursorColor,x=I===void 0?"inherit":I,C=m.cursorBlinking,O=C===void 0||C,V=m.onLoopDone,j=m.onType,D=m.onDelay,Pe=m.onDelete,He=a({words:y,loop:b,typeSpeed:M,deleteSpeed:P,delaySpeed:G,onLoopDone:V,onType:j,onDelay:D,onDelete:Pe})[0];return t.jsxs(t.Fragment,{children:[t.jsx("span",{children:He}),oe&&t.jsx(d,{cursorStyle:ce,cursorColor:x,cursorBlinking:O})]})},Vo.useTypewriter=a,Vo}var dL=fL();const Jb=["/church-website/heroimages/hero1.jpg","/church-website/heroimages/hero2.jpg","/church-website/heroimages/hero3.jpg","/church-website/heroimages/hero4.jpg","/church-website/heroimages/hero5.jpg"],mL=()=>{const[t,e]=k.useState(0),n=ss();k.useEffect(()=>{const a=setInterval(()=>{e(l=>(l+1)%Jb.length)},7e3);return()=>clearInterval(a)},[]);const s=()=>{const a=document.getElementById("contact");a?a.scrollIntoView({behavior:"smooth"}):(n("/church-website/"),setTimeout(()=>{document.getElementById("contact")?.scrollIntoView({behavior:"smooth"})},500))};return S.jsxs("section",{className:"relative h-screen w-full overflow-hidden",children:[Jb.map((a,l)=>S.jsx("div",{className:`absolute inset-0 bg-cover bg-center transition-opacity duration-[2000ms] ease-in-out ${l===t?"opacity-100 scale-110":"opacity-0 scale-100"}`,style:{backgroundImage:`url(${a})`,transition:"opacity 2s ease-in-out, transform 10s ease-in-out"}},l)),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-green-900/40 via-black/50 to-black/70"}),S.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full text-center text-white px-4",children:[S.jsx("h1",{className:"text-4xl md:text-6xl font-semibold mb-6 leading-tight",children:S.jsx(dL.Typewriter,{words:["Faith that moves mountains","Faith that transforms lives","Faith that brings hope","Faith that inspires change","Faith that unites hearts"],loop:!0,cursor:!0,cursorStyle:"_",typeSpeed:70,deleteSpeed:50,delaySpeed:1500})}),S.jsx("p",{className:"max-w-2xl mx-auto mb-8 text-sm md:text-lg text-green-50",children:"We are a community of believers dedicated to sharing hope and love. Our mission is to serve God and our neighbors with compassion and purpose."}),S.jsxs("div",{className:"flex space-x-4",children:[S.jsx("button",{onClick:s,className:"bg-white text-green-800 px-6 py-2 rounded-full font-medium hover:bg-green-100 border border-green-200 transition",children:"Join us"}),S.jsx("button",{onClick:()=>n("/live"),className:"bg-green-700 text-white px-6 py-2 rounded-full font-medium hover:bg-green-800 transition",children:"Watch live"})]})]}),S.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1/3 bg-gradient-to-t from-green-900/70 to-transparent"})]})},lx=k.createContext({});function pL(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const rv=typeof window<"u",gL=rv?k.useLayoutEffect:k.useEffect,av=k.createContext(null);function ov(t,e){t.indexOf(e)===-1&&t.push(e)}function lv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ls=(t,e,n)=>n>e?e:n<t?t:n;let uv=()=>{};const Us={},ux=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function cx(t){return typeof t=="object"&&t!==null}const hx=t=>/^0[^.\s]+$/u.test(t);function cv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ei=t=>t,yL=(t,e)=>n=>e(t(n)),gc=(...t)=>t.reduce(yL),Zu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class hv{constructor(){this.subscriptions=[]}add(e){return ov(this.subscriptions,e),()=>lv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zi=t=>t*1e3,Zn=t=>t/1e3;function fx(t,e){return e?t*(1e3/e):0}const dx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,vL=1e-7,_L=12;function TL(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=dx(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>vL&&++d<_L);return c}function yc(t,e,n,s){if(t===e&&n===s)return ei;const a=l=>TL(l,0,1,t,n);return l=>l===0||l===1?l:dx(a(l),e,s)}const mx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,px=t=>e=>1-t(1-e),gx=yc(.33,1.53,.69,.99),fv=px(gx),yx=mx(fv),vx=t=>(t*=2)<1?.5*fv(t):.5*(2-Math.pow(2,-10*(t-1))),dv=t=>1-Math.sin(Math.acos(t)),_x=px(dv),Tx=mx(dv),EL=yc(.42,0,1,1),bL=yc(0,0,.58,1),Ex=yc(.42,0,.58,1),SL=t=>Array.isArray(t)&&typeof t[0]!="number",bx=t=>Array.isArray(t)&&typeof t[0]=="number",wL={linear:ei,easeIn:EL,easeInOut:Ex,easeOut:bL,circIn:dv,circInOut:Tx,circOut:_x,backIn:fv,backInOut:yx,backOut:gx,anticipate:vx},AL=t=>typeof t=="string",eS=t=>{if(bx(t)){uv(t.length===4);const[e,n,s,a]=t;return yc(e,n,s,a)}else if(AL(t))return wL[t];return t},sf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xL(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,_=!1,b=!1)=>{const M=b&&a?n:s;return _&&c.add(y),M.has(y)||M.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const RL=40;function Sx(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=sf.reduce((Y,oe)=>(Y[oe]=xL(l),Y),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:b,render:R,postRender:M}=c,z=()=>{const Y=Us.useManualTiming?a.timestamp:performance.now();n=!1,Us.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Y-a.timestamp,RL),1)),a.timestamp=Y,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),_.process(a),b.process(a),R.process(a),M.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(z))},P=()=>{n=!0,s=!0,a.isProcessing||t(z)};return{schedule:sf.reduce((Y,oe)=>{const ae=c[oe];return Y[oe]=(ce,I=!1,x=!1)=>(n||P(),ae.schedule(ce,I,x)),Y},{}),cancel:Y=>{for(let oe=0;oe<sf.length;oe++)c[sf[oe]].cancel(Y)},state:a,steps:c}}const{schedule:ct,cancel:jr,state:Zt,steps:Yp}=Sx(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0);let _f;function CL(){_f=void 0}const Sn={now:()=>(_f===void 0&&Sn.set(Zt.isProcessing||Us.useManualTiming?Zt.timestamp:performance.now()),_f),set:t=>{_f=t,queueMicrotask(CL)}},wx=t=>e=>typeof e=="string"&&e.startsWith(t),mv=wx("--"),IL=wx("var(--"),pv=t=>IL(t)?DL.test(t.split("/*")[0].trim()):!1,DL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ju={...dl,transform:t=>Ls(0,1,t)},rf={...dl,default:1},Lu=t=>Math.round(t*1e5)/1e5,gv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NL(t){return t==null}const ML=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yv=(t,e)=>n=>!!(typeof n=="string"&&ML.test(n)&&n.startsWith(t)||e&&!NL(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ax=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(gv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},VL=t=>Ls(0,255,t),$p={...dl,transform:t=>Math.round(VL(t))},Ra={test:yv("rgb","red"),parse:Ax("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+$p.transform(t)+", "+$p.transform(e)+", "+$p.transform(n)+", "+Lu(Ju.transform(s))+")"};function OL(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Lg={test:yv("#"),parse:OL,transform:Ra.transform},vc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Er=vc("deg"),Ji=vc("%"),we=vc("px"),PL=vc("vh"),kL=vc("vw"),tS={...Ji,parse:t=>Ji.parse(t)/100,transform:t=>Ji.transform(t*100)},jo={test:yv("hsl","hue"),parse:Ax("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ji.transform(Lu(e))+", "+Ji.transform(Lu(n))+", "+Lu(Ju.transform(s))+")"},Ot={test:t=>Ra.test(t)||Lg.test(t)||jo.test(t),parse:t=>Ra.test(t)?Ra.parse(t):jo.test(t)?jo.parse(t):Lg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ra.transform(t):jo.transform(t),getAnimatableNone:t=>{const e=Ot.parse(t);return e.alpha=0,Ot.transform(e)}},LL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UL(t){return isNaN(t)&&typeof t=="string"&&(t.match(gv)?.length||0)+(t.match(LL)?.length||0)>0}const xx="number",Rx="color",jL="var",BL="var(",nS="${}",zL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ec(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(zL,m=>(Ot.test(m)?(s.color.push(l),a.push(Rx),n.push(Ot.parse(m))):m.startsWith(BL)?(s.var.push(l),a.push(jL),n.push(m)):(s.number.push(l),a.push(xx),n.push(parseFloat(m))),++l,nS)).split(nS);return{values:n,split:d,indexes:s,types:a}}function Cx(t){return ec(t).values}function Ix(t){const{split:e,types:n}=ec(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===xx?l+=Lu(a[c]):d===Rx?l+=Ot.transform(a[c]):l+=a[c]}return l}}const FL=t=>typeof t=="number"?0:Ot.test(t)?Ot.getAnimatableNone(t):t;function HL(t){const e=Cx(t);return Ix(t)(e.map(FL))}const Br={test:UL,parse:Cx,createTransformer:Ix,getAnimatableNone:HL};function Qp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function qL({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=Qp(m,d,t+1/3),l=Qp(m,d,t),c=Qp(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Yf(t,e){return n=>n>0?e:t}const dt=(t,e,n)=>t+(e-t)*n,Xp=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},GL=[Lg,Ra,jo],KL=t=>GL.find(e=>e.test(t));function iS(t){const e=KL(t);if(!e)return!1;let n=e.parse(t);return e===jo&&(n=qL(n)),n}const sS=(t,e)=>{const n=iS(t),s=iS(e);if(!n||!s)return Yf(t,e);const a={...n};return l=>(a.red=Xp(n.red,s.red,l),a.green=Xp(n.green,s.green,l),a.blue=Xp(n.blue,s.blue,l),a.alpha=dt(n.alpha,s.alpha,l),Ra.transform(a))},Ug=new Set(["none","hidden"]);function YL(t,e){return Ug.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $L(t,e){return n=>dt(t,e,n)}function vv(t){return typeof t=="number"?$L:typeof t=="string"?pv(t)?Yf:Ot.test(t)?sS:WL:Array.isArray(t)?Dx:typeof t=="object"?Ot.test(t)?sS:QL:Yf}function Dx(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>vv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function QL(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=vv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function XL(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const WL=(t,e)=>{const n=Br.createTransformer(e),s=ec(t),a=ec(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Ug.has(t)&&!a.values.length||Ug.has(e)&&!s.values.length?YL(t,e):gc(Dx(XL(s,a),a.values),n):Yf(t,e)};function Nx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):vv(t)(t,e)}const ZL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ct.update(e,n),stop:()=>jr(e),now:()=>Zt.isProcessing?Zt.timestamp:Sn.now()}},Mx=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},$f=2e4;function _v(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<$f;)e+=n,s=t.next(e);return e>=$f?1/0:e}function JL(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(_v(s),$f);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Zn(a)}}const e6=5;function Vx(t,e,n){const s=Math.max(e-e6,0);return fx(n-t(s),e-s)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wp=.001;function t6({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:s=yt.mass}){let a,l,c=1-e;c=Ls(yt.minDamping,yt.maxDamping,c),t=Ls(yt.minDuration,yt.maxDuration,Zn(t)),c<1?(a=p=>{const y=p*c,_=y*t,b=y-n,R=jg(p,c),M=Math.exp(-_);return Wp-b/R*M},l=p=>{const _=p*c*t,b=_*n+n,R=Math.pow(c,2)*Math.pow(p,2)*t,M=Math.exp(-_),z=jg(Math.pow(p,2),c);return(-a(p)+Wp>0?-1:1)*((b-R)*M)/z}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-Wp+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const d=5/t,m=i6(a,l,d);if(t=Zi(t),isNaN(m))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const n6=12;function i6(t,e,n){let s=n;for(let a=1;a<n6;a++)s=s-t(s)/e(s);return s}function jg(t,e){return t*Math.sqrt(1-e*e)}const s6=["duration","bounce"],r6=["stiffness","damping","mass"];function rS(t,e){return e.some(n=>t[n]!==void 0)}function a6(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!rS(t,r6)&&rS(t,s6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ls(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:yt.mass,stiffness:a,damping:l}}else{const n=t6(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function Qf(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:R}=a6({...n,velocity:-Zn(n.velocity||0)}),M=b||0,z=p/(2*Math.sqrt(m*y)),P=c-l,F=Zn(Math.sqrt(m/y)),G=Math.abs(P)<5;s||(s=G?yt.restSpeed.granular:yt.restSpeed.default),a||(a=G?yt.restDelta.granular:yt.restDelta.default);let Y;if(z<1){const ae=jg(F,z);Y=ce=>{const I=Math.exp(-z*F*ce);return c-I*((M+z*F*P)/ae*Math.sin(ae*ce)+P*Math.cos(ae*ce))}}else if(z===1)Y=ae=>c-Math.exp(-F*ae)*(P+(M+F*P)*ae);else{const ae=F*Math.sqrt(z*z-1);Y=ce=>{const I=Math.exp(-z*F*ce),x=Math.min(ae*ce,300);return c-I*((M+z*F*P)*Math.sinh(x)+ae*P*Math.cosh(x))/ae}}const oe={calculatedDuration:R&&_||null,next:ae=>{const ce=Y(ae);if(R)d.done=ae>=_;else{let I=ae===0?M:0;z<1&&(I=ae===0?Zi(M):Vx(Y,ae,ce));const x=Math.abs(I)<=s,C=Math.abs(c-ce)<=a;d.done=x&&C}return d.value=d.done?c:ce,d},toString:()=>{const ae=Math.min(_v(oe),$f),ce=Mx(I=>oe.next(ae*I).value,ae,30);return ae+"ms "+ce},toTransition:()=>{}};return oe}Qf.applyToOptions=t=>{const e=JL(t,100,Qf);return t.ease=e.ease,t.duration=Zi(e.duration),t.type="keyframes",t};function Bg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const _=t[0],b={done:!1,value:_},R=x=>d!==void 0&&x<d||m!==void 0&&x>m,M=x=>d===void 0?m:m===void 0||Math.abs(d-x)<Math.abs(m-x)?d:m;let z=n*e;const P=_+z,F=c===void 0?P:c(P);F!==P&&(z=F-_);const G=x=>-z*Math.exp(-x/s),Y=x=>F+G(x),oe=x=>{const C=G(x),O=Y(x);b.done=Math.abs(C)<=p,b.value=b.done?F:O};let ae,ce;const I=x=>{R(b.value)&&(ae=x,ce=Qf({keyframes:[b.value,M(b.value)],velocity:Vx(Y,x,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:x=>{let C=!1;return!ce&&ae===void 0&&(C=!0,oe(x),I(x)),ae!==void 0&&x>=ae?ce.next(x-ae):(!C&&oe(x),b)}}}function o6(t,e,n){const s=[],a=n||Us.mix||Nx,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||ei:e;d=gc(m,d)}s.push(d)}return s}function l6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(uv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=o6(e,s,a),m=d.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const b=Zu(t[_],t[_+1],y);return d[_](b)};return n?y=>p(Ls(t[0],t[l-1],y)):p}function u6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Zu(0,e,s);t.push(dt(n,1,a))}}function c6(t){const e=[0];return u6(e,t.length-1),e}function h6(t,e){return t.map(n=>n*e)}function f6(t,e){return t.map(()=>e||Ex).splice(0,t.length-1)}function Uu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=SL(s)?s.map(eS):eS(s),l={done:!1,value:e[0]},c=h6(n&&n.length===e.length?n:c6(e),t),d=l6(c,e,{ease:Array.isArray(a)?a:f6(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const d6=t=>t!==null;function Tv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(d6),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const m6={decay:Bg,inertia:Bg,tween:Uu,keyframes:Uu,spring:Qf};function Ox(t){typeof t.type=="string"&&(t.type=m6[t.type])}class Ev{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const p6=t=>t/100;class bv extends Ev{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Sn.now()&&this.tick(Sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ox(e);const{type:n=Uu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const m=n||Uu;m!==Uu&&typeof d[0]!="number"&&(this.mixKeyframes=gc(p6,Nx(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=_v(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:R,type:M,onUpdate:z,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,oe=s;if(_){const x=Math.min(this.currentTime,a)/d;let C=Math.floor(x),O=x%1;!O&&x>=1&&(O=1),O===1&&C--,C=Math.min(C,_+1),!!(C%2)&&(b==="reverse"?(O=1-O,R&&(O-=R/d)):b==="mirror"&&(oe=c)),Y=Ls(0,1,O)*d}const ae=G?{done:!1,value:y[0]}:oe.next(Y);l&&(ae.value=l(ae.value));let{done:ce}=ae;!G&&m!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return I&&M!==Bg&&(ae.value=Tv(y,this.options,P,this.speed)),z&&z(ae.value),I&&this.finish(),ae}then(e,n){return this.finished.then(e,n)}get duration(){return Zn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zn(e)}get time(){return Zn(this.currentTime)}set time(e){e=Zi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Sn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ZL,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function g6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ca=t=>t*180/Math.PI,zg=t=>{const e=Ca(Math.atan2(t[1],t[0]));return Fg(e)},y6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zg,rotateZ:zg,skewX:t=>Ca(Math.atan(t[1])),skewY:t=>Ca(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Fg=t=>(t=t%360,t<0&&(t+=360),t),aS=zg,oS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),v6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oS,scaleY:lS,scale:t=>(oS(t)+lS(t))/2,rotateX:t=>Fg(Ca(Math.atan2(t[6],t[5]))),rotateY:t=>Fg(Ca(Math.atan2(-t[2],t[0]))),rotateZ:aS,rotate:aS,skewX:t=>Ca(Math.atan(t[4])),skewY:t=>Ca(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Hg(t){return t.includes("scale")?1:0}function qg(t,e){if(!t||t==="none")return Hg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=v6,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=y6,a=d}if(!a)return Hg(e);const l=s[e],c=a[1].split(",").map(T6);return typeof l=="function"?l(c):c[l]}const _6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return qg(n,e)};function T6(t){return parseFloat(t.trim())}const ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pl=new Set(ml),uS=t=>t===dl||t===we,E6=new Set(["x","y","z"]),b6=ml.filter(t=>!E6.has(t));function S6(t){const e=[];return b6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Na={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>qg(e,"x"),y:(t,{transform:e})=>qg(e,"y")};Na.translateX=Na.x;Na.translateY=Na.y;const Ma=new Set;let Gg=!1,Kg=!1,Yg=!1;function Px(){if(Kg){const t=Array.from(Ma).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=S6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Kg=!1,Gg=!1,Ma.forEach(t=>t.complete(Yg)),Ma.clear()}function kx(){Ma.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Kg=!0)})}function w6(){Yg=!0,kx(),Px(),Yg=!1}class Sv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ma.add(this),Gg||(Gg=!0,ct.read(kx),ct.resolveKeyframes(Px))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}g6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ma.delete(this)}cancel(){this.state==="scheduled"&&(Ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const A6=t=>t.startsWith("--");function x6(t,e,n){A6(e)?t.style.setProperty(e,n):t.style[e]=n}const R6=cv(()=>window.ScrollTimeline!==void 0),C6={};function I6(t,e){const n=cv(t);return()=>C6[e]??n()}const Lx=I6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Iu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,cS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Iu([0,.65,.55,1]),circOut:Iu([.55,0,1,.45]),backIn:Iu([.31,.01,.66,-.59]),backOut:Iu([.33,1.53,.69,.99])};function Ux(t,e){if(t)return typeof t=="function"?Lx()?Mx(t,e):"ease-out":bx(t)?Iu(t):Array.isArray(t)?t.map(n=>Ux(n,e)||cS.easeOut):cS[t]}function D6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const _=Ux(d,a);Array.isArray(_)&&(y.easing=_);const b={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(y,b)}function jx(t){return typeof t=="function"&&"applyToOptions"in t}function N6({type:t,...e}){return jx(t)&&Lx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class M6 extends Ev{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,uv(typeof e.type!="string");const p=N6(e);this.animation=D6(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Tv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):x6(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Zn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zn(e)}get time(){return Zn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&R6()?(this.animation.timeline=e,ei):n(this)}}const Bx={anticipate:vx,backInOut:yx,circInOut:Tx};function V6(t){return t in Bx}function O6(t){typeof t.ease=="string"&&V6(t.ease)&&(t.ease=Bx[t.ease])}const hS=10;class P6 extends M6{constructor(e){O6(e),Ox(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new bv({...c,autoplay:!1}),m=Zi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-hS).value,d.sample(m).value,hS),d.stop()}}const fS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Br.test(t)||t==="0")&&!t.startsWith("url("));function k6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function L6(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=fS(a,e),d=fS(l,e);return!c||!d?!1:k6(t)||(n==="spring"||jx(n))&&s}function $g(t){t.duration=0,t.type="keyframes"}const U6=new Set(["opacity","clipPath","filter","transform"]),j6=cv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function B6(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return j6()&&n&&U6.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const z6=40;class F6 extends Ev{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Sn.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},R=y?.KeyframeResolver||Sv;this.keyframeResolver=new R(d,(M,z,P)=>this.onKeyframesResolved(M,z,b,!P),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Sn.now(),L6(e,l,c,d)||((Us.instantAnimations||!m)&&y?.(Tv(e,s,n)),e[0]=e[e.length-1],$g(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>z6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!p&&B6(b)?new P6({...b,element:b.motionValue.owner.current}):new bv(b);R.finished.then(()=>this.notifyFinished()).catch(ei),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),w6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const H6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function q6(t){const e=H6.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function zx(t,e,n=1){const[s,a]=q6(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return ux(c)?parseFloat(c):c}return pv(a)?zx(a,e,n+1):a}function wv(t,e){return t?.[e]??t?.default??t}const Fx=new Set(["width","height","top","left","right","bottom",...ml]),G6={test:t=>t==="auto",parse:t=>t},Hx=t=>e=>e.test(t),qx=[dl,we,Ji,Er,kL,PL,G6],dS=t=>qx.find(Hx(t));function K6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||hx(t):!0}const Y6=new Set(["brightness","contrast","saturate","opacity"]);function $6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(gv)||[];if(!s)return t;const a=n.replace(s,"");let l=Y6.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const Q6=/\b([a-z-]*)\(.*?\)/gu,Qg={...Br,getAnimatableNone:t=>{const e=t.match(Q6);return e?e.map($6).join(" "):t}},mS={...dl,transform:Math.round},X6={rotate:Er,rotateX:Er,rotateY:Er,rotateZ:Er,scale:rf,scaleX:rf,scaleY:rf,scaleZ:rf,skew:Er,skewX:Er,skewY:Er,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Ju,originX:tS,originY:tS,originZ:we},Av={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...X6,zIndex:mS,fillOpacity:Ju,strokeOpacity:Ju,numOctaves:mS},W6={...Av,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:Qg,WebkitFilter:Qg},Gx=t=>W6[t];function Kx(t,e){let n=Gx(t);return n!==Qg&&(n=Br),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Z6=new Set(["auto","none","0"]);function J6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!Z6.has(l)&&ec(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=Kx(n,a)}class e3 extends Sv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),pv(p))){const y=zx(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Fx.has(s)||e.length!==2)return;const[a,l]=e,c=dS(a),d=dS(l);if(c!==d)if(uS(c)&&uS(d))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Na[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||K6(e[a]))&&s.push(a);s.length&&J6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Na[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Na[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function t3(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const Yx=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function n3(t){return cx(t)&&"offsetHeight"in t}const pS=30,i3=t=>!isNaN(parseFloat(t));class s3{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Sn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Sn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=i3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hv);const s=this.events[e].add(n);return e==="change"?()=>{s(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pS);return fx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function il(t,e){return new s3(t,e)}const{schedule:xv}=Sx(queueMicrotask,!1),gi={x:!1,y:!1};function $x(){return gi.x||gi.y}function r3(t){return t==="x"||t==="y"?gi[t]?null:(gi[t]=!0,()=>{gi[t]=!1}):gi.x||gi.y?null:(gi.x=gi.y=!0,()=>{gi.x=gi.y=!1})}function Qx(t,e){const n=t3(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function gS(t){return!(t.pointerType==="touch"||$x())}function a3(t,e,n={}){const[s,a,l]=Qx(t,n),c=d=>{if(!gS(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const y=_=>{gS(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const Xx=(t,e)=>e?t===e?!0:Xx(t,e.parentElement):!1,Rv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,o3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function l3(t){return o3.has(t.tagName)||t.tabIndex!==-1}const Tf=new WeakSet;function yS(t){return e=>{e.key==="Enter"&&t(e)}}function Zp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const u3=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=yS(()=>{if(Tf.has(n))return;Zp(n,"down");const a=yS(()=>{Zp(n,"up")}),l=()=>Zp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function vS(t){return Rv(t)&&!$x()}function c3(t,e,n={}){const[s,a,l]=Qx(t,n),c=d=>{const m=d.currentTarget;if(!vS(d))return;Tf.add(m);const p=e(m,d),y=(R,M)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),Tf.has(m)&&Tf.delete(m),vS(R)&&typeof p=="function"&&p(R,{success:M})},_=R=>{y(R,m===window||m===document||n.useGlobalTarget||Xx(m,R.target))},b=R=>{y(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),n3(d)&&(d.addEventListener("focus",p=>u3(p,a)),!l3(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Wx(t){return cx(t)&&"ownerSVGElement"in t}function h3(t){return Wx(t)&&t.tagName==="svg"}const on=t=>!!(t&&t.getVelocity),f3=[...qx,Ot,Br],d3=t=>f3.find(Hx(t)),Zx=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function m3(t=!0){const e=k.useContext(av);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=k.useId();k.useEffect(()=>{if(t)return a(l)},[t]);const c=k.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Jx=k.createContext({strict:!1}),_S={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sl={};for(const t in _S)sl[t]={isEnabled:e=>_S[t].some(n=>!!e[n])};function p3(t){for(const e in t)sl[e]={...sl[e],...t[e]}}const g3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||g3.has(t)}let eR=t=>!Xf(t);function y3(t){typeof t=="function"&&(eR=e=>e.startsWith("on")?!Xf(e):t(e))}try{y3(require("@emotion/is-prop-valid").default)}catch{}function v3(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(eR(a)||n===!0&&Xf(a)||!e&&!Xf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Ad=k.createContext({});function xd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function tc(t){return typeof t=="string"||Array.isArray(t)}const Cv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Iv=["initial",...Cv];function Rd(t){return xd(t.animate)||Iv.some(e=>tc(t[e]))}function tR(t){return!!(Rd(t)||t.variants)}function _3(t,e){if(Rd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||tc(n)?n:void 0,animate:tc(s)?s:void 0}}return t.inherit!==!1?e:{}}function T3(t){const{initial:e,animate:n}=_3(t,k.useContext(Ad));return k.useMemo(()=>({initial:e,animate:n}),[TS(e),TS(n)])}function TS(t){return Array.isArray(t)?t.join(" "):t}const nc={};function E3(t){for(const e in t)nc[e]=t[e],mv(e)&&(nc[e].isCSSVariable=!0)}function nR(t,{layout:e,layoutId:n}){return pl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nc[t]||t==="opacity")}const b3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},S3=ml.length;function w3(t,e,n){let s="",a=!0;for(let l=0;l<S3;l++){const c=ml[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=Yx(d,Av[c]);if(!m){a=!1;const y=b3[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Dv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const p=e[m];if(pl.has(m)){c=!0;continue}else if(mv(m)){a[m]=p;continue}else{const y=Yx(p,Av[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=w3(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const Nv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iR(t,e,n){for(const s in e)!on(e[s])&&!nR(s,n)&&(t[s]=e[s])}function A3({transformTemplate:t},e){return k.useMemo(()=>{const n=Nv();return Dv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function x3(t,e){const n=t.style||{},s={};return iR(s,n,t),Object.assign(s,A3(t,e)),s}function R3(t,e){const n={},s=x3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const C3={offset:"stroke-dashoffset",array:"stroke-dasharray"},I3={offset:"strokeDashoffset",array:"strokeDasharray"};function D3(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?C3:I3;t[l.offset]=we.transform(-s);const c=we.transform(e),d=we.transform(n);t[l.array]=`${c} ${d}`}function sR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if(Dv(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:b}=t;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&D3(_,a,l,c,!1)}const rR=()=>({...Nv(),attrs:{}}),aR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function N3(t,e,n,s){const a=k.useMemo(()=>{const l=rR();return sR(l,e,aR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};iR(l,t.style,t),a.style={...l,...a.style}}return a}const M3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mv(t){return typeof t!="string"||t.includes("-")?!1:!!(M3.indexOf(t)>-1||/[A-Z]/u.test(t))}function V3(t,e,n,{latestValues:s},a,l=!1){const d=(Mv(t)?N3:R3)(e,s,a,t),m=v3(e,typeof t=="string",l),p=t!==k.Fragment?{...m,...d,ref:n}:{},{children:y}=e,_=k.useMemo(()=>on(y)?y.get():y,[y]);return k.createElement(t,{...p,children:_})}function ES(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Vv(t,e,n,s){if(typeof e=="function"){const[a,l]=ES(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=ES(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Ef(t){return on(t)?t.get():t}function O3({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:P3(n,s,a,t),renderState:e()}}function P3(t,e,n,s){const a={},l=s(t,{});for(const b in l)a[b]=Ef(l[b]);let{initial:c,animate:d}=t;const m=Rd(t),p=tR(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!xd(_)){const b=Array.isArray(_)?_:[_];for(let R=0;R<b.length;R++){const M=Vv(t,b[R]);if(M){const{transitionEnd:z,transition:P,...F}=M;for(const G in F){let Y=F[G];if(Array.isArray(Y)){const oe=y?Y.length-1:0;Y=Y[oe]}Y!==null&&(a[G]=Y)}for(const G in z)a[G]=z[G]}}}return a}const oR=t=>(e,n)=>{const s=k.useContext(Ad),a=k.useContext(av),l=()=>O3(t,e,s,a);return n?l():pL(l)};function Ov(t,e,n){const{style:s}=t,a={};for(const l in s)(on(s[l])||e.style&&on(e.style[l])||nR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const k3=oR({scrapeMotionValuesFromProps:Ov,createRenderState:Nv});function lR(t,e,n){const s=Ov(t,e,n);for(const a in t)if(on(t[a])||on(e[a])){const l=ml.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const L3=oR({scrapeMotionValuesFromProps:lR,createRenderState:rR}),U3=Symbol.for("motionComponentSymbol");function Bo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function j3(t,e,n){return k.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Bo(n)&&(n.current=s))},[e])}const Pv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),B3="framerAppearId",uR="data-"+Pv(B3),cR=k.createContext({});function z3(t,e,n,s,a){const{visualElement:l}=k.useContext(Ad),c=k.useContext(Jx),d=k.useContext(av),m=k.useContext(Zx).reducedMotion,p=k.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=k.useContext(cR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&F3(p.current,n,a,_);const b=k.useRef(!1);k.useInsertionEffect(()=>{y&&b.current&&y.update(n,d)});const R=n[uR],M=k.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return gL(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),M.current&&y.animationState&&y.animationState.animateChanges())}),k.useEffect(()=>{y&&(!M.current&&y.animationState&&y.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),M.current=!1),y.enteringChildren=void 0)}),y}function F3(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:hR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Bo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function hR(t){if(t)return t.options.allowProjection!==!1?t.projection:hR(t.parent)}function Jp(t,{forwardMotionProps:e=!1}={},n,s){n&&p3(n);const a=Mv(t)?L3:k3;function l(d,m){let p;const y={...k.useContext(Zx),...d,layoutId:H3(d)},{isStatic:_}=y,b=T3(d),R=a(d,_);if(!_&&rv){q3();const M=G3(y);p=M.MeasureLayout,b.visualElement=z3(t,R,y,s,M.ProjectionNode)}return S.jsxs(Ad.Provider,{value:b,children:[p&&b.visualElement?S.jsx(p,{visualElement:b.visualElement,...y}):null,V3(t,d,j3(R,b.visualElement,m),R,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=k.forwardRef(l);return c[U3]=t,c}function H3({layoutId:t}){const e=k.useContext(lx).id;return e&&t!==void 0?e+"-"+t:t}function q3(t,e){k.useContext(Jx).strict}function G3(t){const{drag:e,layout:n}=sl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function K3(t,e){if(typeof Proxy>"u")return Jp;const n=new Map,s=(l,c)=>Jp(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Jp(c,void 0,t,e)),n.get(c))})}function fR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Y3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function eg(t){return t===void 0||t===1}function Xg({scale:t,scaleX:e,scaleY:n}){return!eg(t)||!eg(e)||!eg(n)}function Aa(t){return Xg(t)||dR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dR(t){return bS(t.x)||bS(t.y)}function bS(t){return t&&t!=="0%"}function Wf(t,e,n){const s=t-n,a=e*s;return n+a}function SS(t,e,n,s,a){return a!==void 0&&(t=Wf(t,a,s)),Wf(t,n,s)+e}function Wg(t,e=0,n=1,s,a){t.min=SS(t.min,e,n,s,a),t.max=SS(t.max,e,n,s,a)}function mR(t,{x:e,y:n}){Wg(t.x,e.translate,e.scale,e.originPoint),Wg(t.y,n.translate,n.scale,n.originPoint)}const wS=.999999999999,AS=1.0000000000001;function Q3(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Fo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,mR(t,c)),s&&Aa(l.latestValues)&&Fo(t,l.latestValues))}e.x<AS&&e.x>wS&&(e.x=1),e.y<AS&&e.y>wS&&(e.y=1)}function zo(t,e){t.min=t.min+e,t.max=t.max+e}function xS(t,e,n,s,a=.5){const l=dt(t.min,t.max,a);Wg(t,e,n,l,s)}function Fo(t,e){xS(t.x,e.x,e.scaleX,e.scale,e.originX),xS(t.y,e.y,e.scaleY,e.scale,e.originY)}function pR(t,e){return fR($3(t.getBoundingClientRect(),e))}function X3(t,e,n){const s=pR(t,n),{scroll:a}=e;return a&&(zo(s.x,a.offset.x),zo(s.y,a.offset.y)),s}const RS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:RS(),y:RS()}),CS=()=>({min:0,max:0}),bt=()=>({x:CS(),y:CS()}),Zg={current:null},gR={current:!1};function W3(){if(gR.current=!0,!!rv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zg.current=t.matches;t.addEventListener("change",e),e()}else Zg.current=!1}const Z3=new WeakMap;function J3(t,e,n){for(const s in e){const a=e[s],l=n[s];if(on(a))t.addValue(s,a);else if(on(l))t.addValue(s,il(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,il(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const IS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eU{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Sn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ct.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Rd(n),this.isVariantNode=tR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const R=_[b];m[b]!==void 0&&on(R)&&R.set(m[b])}}mount(e){this.current=e,Z3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),gR.current||W3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jr(this.notifyUpdate),jr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=pl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ct.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sl){const n=sl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<IS.length;s++){const a=IS[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=J3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=il(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(ux(s)||hx(s))?s=parseFloat(s):!d3(s)&&Br.test(n)&&(s=Kx(e,n)),this.setBaseTarget(e,on(s)?s.get():s)),on(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Vv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!on(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){xv.render(this.render)}}class yR extends eU{constructor(){super(...arguments),this.KeyframeResolver=e3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;on(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function vR(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function tU(t){return window.getComputedStyle(t)}class nU extends yR{constructor(){super(...arguments),this.type="html",this.renderInstance=vR}readValueFromInstance(e,n){if(pl.has(n))return this.projection?.isProjecting?Hg(n):_6(e,n);{const s=tU(e),a=(mv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pR(e,n)}build(e,n,s){Dv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Ov(e,n,s)}}const _R=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iU(t,e,n,s){vR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(_R.has(a)?a:Pv(a),e.attrs[a])}class sU extends yR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pl.has(n)){const s=Gx(n);return s&&s.default||0}return n=_R.has(n)?n:Pv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return lR(e,n,s)}build(e,n,s){sR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){iU(e,n,s,a)}mount(e){this.isSVGTag=aR(e.tagName),super.mount(e)}}const rU=(t,e)=>Mv(t)?new sU(e):new nU(e,{allowProjection:t!==k.Fragment});function Qo(t,e,n){const s=t.getProps();return Vv(s,e,n!==void 0?n:s.custom,t)}const Jg=t=>Array.isArray(t);function aU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,il(n))}function oU(t){return Jg(t)?t[t.length-1]||0:t}function lU(t,e){const n=Qo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=oU(l[c]);aU(t,c,d)}}function uU(t){return!!(on(t)&&t.add)}function ey(t,e){const n=t.getValue("willChange");if(uU(n))return n.add(e);if(!n&&Us.WillChange){const s=new Us.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function TR(t){return t.props[uR]}const cU=t=>t!==null;function hU(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(cU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const fU={type:"spring",stiffness:500,damping:25,restSpeed:10},dU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mU={type:"keyframes",duration:.8},pU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gU=(t,{keyframes:e})=>e.length>2?mU:pl.has(t)?t.startsWith("scale")?dU(e[1]):fU:pU;function yU({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const kv=(t,e,n,s={},a,l)=>c=>{const d=wv(s,t)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Zi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};yU(d)||Object.assign(y,gU(t,y)),y.duration&&(y.duration=Zi(y.duration)),y.repeatDelay&&(y.repeatDelay=Zi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&($g(y),y.delay===0&&(_=!0)),(Us.instantAnimations||Us.skipAnimations)&&(_=!0,$g(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&e.get()!==void 0){const b=hU(y.keyframes,d);if(b!==void 0){ct.update(()=>{y.onUpdate(b),y.onComplete()});return}}return d.isSync?new bv(y):new F6(y)};function vU({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function ER(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const _=t.getValue(y,t.latestValues[y]??null),b=d[y];if(b===void 0||p&&vU(p,y))continue;const R={delay:n,...wv(l||{},y)},M=_.get();if(M!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===M&&!R.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const F=TR(t);if(F){const G=window.MotionHandoffAnimation(F,y,ct);G!==null&&(R.startTime=G,z=!0)}}ey(t,y),_.start(kv(y,_,b,t.shouldReduceMotion&&Fx.has(y)?{type:!1}:R,t,z));const P=_.animation;P&&m.push(P)}return c&&Promise.all(m).then(()=>{ct.update(()=>{c&&lU(t,c)})}),m}function bR(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function ty(t,e,n={}){const s=Qo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(ER(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return _U(t,e,m,p,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function _U(t,e,n=0,s=0,a=0,l=1,c){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(ty(m,e,{...c,delay:n+(typeof s=="function"?0:s)+bR(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function TU(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>ty(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=ty(t,e,n);else{const a=typeof e=="function"?Qo(t,e,n.custom):e;s=Promise.all(ER(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function SR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const EU=Iv.length;function wR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<EU;n++){const s=Iv[n],a=t.props[s];(tc(a)||a===!1)&&(e[s]=a)}return e}const bU=[...Cv].reverse(),SU=Cv.length;function wU(t){return e=>Promise.all(e.map(({animation:n,options:s})=>TU(t,n,s)))}function AU(t){let e=wU(t),n=DS(),s=!0;const a=m=>(p,y)=>{const _=Qo(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:R,...M}=_;p={...p,...M,...R}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=wR(t.parent)||{},_=[],b=new Set;let R={},M=1/0;for(let P=0;P<SU;P++){const F=bU[P],G=n[F],Y=p[F]!==void 0?p[F]:y[F],oe=tc(Y),ae=F===m?G.isActive:null;ae===!1&&(M=P);let ce=Y===y[F]&&Y!==p[F]&&oe;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),G.protectedKeys={...R},!G.isActive&&ae===null||!Y&&!G.prevProp||xd(Y)||typeof Y=="boolean")continue;const I=xU(G.prevProp,Y);let x=I||F===m&&G.isActive&&!ce&&oe||P>M&&oe,C=!1;const O=Array.isArray(Y)?Y:[Y];let V=O.reduce(a(F),{});ae===!1&&(V={});const{prevResolvedValues:j={}}=G,D={...j,...V},Pe=re=>{x=!0,b.has(re)&&(C=!0,b.delete(re)),G.needsAnimating[re]=!0;const fe=t.getValue(re);fe&&(fe.liveStyle=!1)};for(const re in D){const fe=V[re],Se=j[re];if(R.hasOwnProperty(re))continue;let Ie=!1;Jg(fe)&&Jg(Se)?Ie=!SR(fe,Se):Ie=fe!==Se,Ie?fe!=null?Pe(re):b.add(re):fe!==void 0&&b.has(re)?Pe(re):G.protectedKeys[re]=!0}G.prevProp=Y,G.prevResolvedValues=V,G.isActive&&(R={...R,...V}),s&&t.blockInitialAnimation&&(x=!1);const He=ce&&I;x&&(!He||C)&&_.push(...O.map(re=>{const fe={type:F};if(typeof re=="string"&&s&&!He&&t.manuallyAnimateOnMount&&t.parent){const{parent:Se}=t,Ie=Qo(Se,re);if(Se.enteringChildren&&Ie){const{delayChildren:U}=Ie.transition||{};fe.delay=bR(Se.enteringChildren,t,U)}}return{animation:re,options:fe}}))}if(b.size){const P={};if(typeof p.initial!="boolean"){const F=Qo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(P.transition=F.transition)}b.forEach(F=>{const G=t.getBaseTarget(F),Y=t.getValue(F);Y&&(Y.liveStyle=!0),P[F]=G??null}),_.push({animation:P})}let z=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(z=!1),s=!1,z?e(_):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=DS()}}}function xU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SR(e,t):!1}function ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DS(){return{animate:ba(!0),whileInView:ba(),whileHover:ba(),whileTap:ba(),whileDrag:ba(),whileFocus:ba(),exit:ba()}}class qr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class RU extends qr{constructor(e){super(e),e.animationState||(e.animationState=AU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let CU=0;class IU extends qr{constructor(){super(...arguments),this.id=CU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const DU={animation:{Feature:RU},exit:{Feature:IU}};function ic(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function _c(t){return{point:{x:t.pageX,y:t.pageY}}}const NU=t=>e=>Rv(e)&&t(e,_c(e));function ju(t,e,n,s){return ic(t,e,NU(n),s)}const AR=1e-4,MU=1-AR,VU=1+AR,xR=.01,OU=0-xR,PU=0+xR;function dn(t){return t.max-t.min}function kU(t,e,n){return Math.abs(t-e)<=n}function NS(t,e,n,s=.5){t.origin=s,t.originPoint=dt(e.min,e.max,t.origin),t.scale=dn(n)/dn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=MU&&t.scale<=VU||isNaN(t.scale))&&(t.scale=1),(t.translate>=OU&&t.translate<=PU||isNaN(t.translate))&&(t.translate=0)}function Bu(t,e,n,s){NS(t.x,e.x,n.x,s?s.originX:void 0),NS(t.y,e.y,n.y,s?s.originY:void 0)}function MS(t,e,n){t.min=n.min+e.min,t.max=t.min+dn(e)}function LU(t,e,n){MS(t.x,e.x,n.x),MS(t.y,e.y,n.y)}function VS(t,e,n){t.min=e.min-n.min,t.max=t.min+dn(e)}function zu(t,e,n){VS(t.x,e.x,n.x),VS(t.y,e.y,n.y)}function Qn(t){return[t("x"),t("y")]}const RR=({current:t})=>t?t.ownerDocument.defaultView:null,OS=(t,e)=>Math.abs(t-e);function UU(t,e){const n=OS(t.x,e.x),s=OS(t.y,e.y);return Math.sqrt(n**2+s**2)}class CR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=ng(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,M=UU(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!M)return;const{point:z}=b,{timestamp:P}=Zt;this.history.push({...z,timestamp:P});const{onStart:F,onMove:G}=this.handlers;R||(F&&F(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,b)},this.handlePointerMove=(b,R)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=tg(R,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(b,R)=>{this.end();const{onEnd:M,onSessionEnd:z,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=ng(b.type==="pointercancel"?this.lastMoveEventInfo:tg(R,this.transformPagePoint),this.history);this.startEvent&&M&&M(b,F),z&&z(b,F)},!Rv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=_c(e),m=tg(d,this.transformPagePoint),{point:p}=m,{timestamp:y}=Zt;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,ng(m,this.history)),this.removeListeners=gc(ju(this.contextWindow,"pointermove",this.handlePointerMove),ju(this.contextWindow,"pointerup",this.handlePointerUp),ju(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),jr(this.updatePoint)}}function tg(t,e){return e?{point:e(t.point)}:t}function PS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ng({point:t},e){return{point:t,delta:PS(t,IR(e)),offset:PS(t,jU(e)),velocity:BU(e,.1)}}function jU(t){return t[0]}function IR(t){return t[t.length-1]}function BU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=IR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Zi(e)));)n--;if(!s)return{x:0,y:0};const l=Zn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function zU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?dt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?dt(n,t,s.max):Math.min(t,n)),t}function kS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function FU(t,{top:e,left:n,bottom:s,right:a}){return{x:kS(t.x,n,a),y:kS(t.y,e,s)}}function LS(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function HU(t,e){return{x:LS(t.x,e.x),y:LS(t.y,e.y)}}function qU(t,e){let n=.5;const s=dn(t),a=dn(e);return a>s?n=Zu(e.min,e.max-s,t.min):s>a&&(n=Zu(t.min,t.max-a,e.min)),Ls(0,1,n)}function GU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ny=.35;function KU(t=ny){return t===!1?t=0:t===!0&&(t=ny),{x:US(t,"left","right"),y:US(t,"top","bottom")}}function US(t,e,n){return{min:jS(t,e),max:jS(t,n)}}function jS(t,e){return typeof t=="number"?t:t[e]||0}const YU=new WeakMap;class $U{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_c(_).point)},c=(_,b)=>{const{drag:R,dragPropagation:M,onDragStart:z}=this.getProps();if(R&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=r3(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(F=>{let G=this.getAxisMotionValue(F).get()||0;if(Ji.test(G)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const oe=Y.layout.layoutBox[F];oe&&(G=dn(oe)*(parseFloat(G)/100))}}this.originPoint[F]=G}),z&&ct.postRender(()=>z(_,b)),ey(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},d=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:R,dragDirectionLock:M,onDirectionLock:z,onDrag:P}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:F}=b;if(M&&this.currentDirection===null){this.currentDirection=QU(F),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",b.point,F),this.updateAxis("y",b.point,F),this.visualElement.render(),P&&P(_,b)},m=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Qn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new CR(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:RR(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ct.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!af(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=zU(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Bo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=FU(s.layoutBox,e):this.constraints=!1,this.elastic=KU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=GU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=X3(s,a.root,this.visualElement.getTransformPagePoint());let c=HU(a.layout.layoutBox,l);if(n){const d=n(Y3(c));this.hasMutatedConstraints=!!d,d&&(c=fR(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Qn(y=>{if(!af(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,R=a?40:1e7,M={type:"inertia",velocity:s?e[y]:0,bounceStiffness:b,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,M)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ey(this.visualElement,e),s.start(kv(e,s,0,n,this.visualElement,!1))}stopAnimation(){Qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Qn(n=>{const{drag:s}=this.getProps();if(!af(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-dt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Bo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Qn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=qU({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qn(c=>{if(!af(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(dt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;YU.set(this.visualElement,this);const e=this.visualElement.current,n=ju(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Bo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ct.read(s);const c=ic(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Qn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=ny,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function af(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function QU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XU extends qr{constructor(e){super(e),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new $U(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const BS=t=>(e,n)=>{t&&ct.postRender(()=>t(e,n))};class WU extends qr{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(e){this.session=new CR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:BS(e),onStart:BS(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ct.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=ju(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=zS(t,e.target.x),s=zS(t,e.target.y);return`${n}% ${s}%`}},ZU={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Br.parse(t);if(a.length>5)return s;const l=Br.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const p=dt(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let ig=!1;class JU extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;E3(ej),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),ig&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,ig=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ct.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;ig=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DR(t){const[e,n]=m3(),s=k.useContext(lx);return S.jsx(JU,{...t,layoutGroup:s,switchLayoutGroup:k.useContext(cR),isPresent:e,safeToRemove:n})}const ej={borderRadius:{...bu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bu,borderTopRightRadius:bu,borderBottomLeftRadius:bu,borderBottomRightRadius:bu,boxShadow:ZU};function tj(t,e,n){const s=on(t)?t:il(t);return s.start(kv("",s,e,n)),s.animation}const nj=(t,e)=>t.depth-e.depth;class ij{constructor(){this.children=[],this.isDirty=!1}add(e){ov(this.children,e),this.isDirty=!0}remove(e){lv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nj),this.isDirty=!1,this.children.forEach(e)}}function sj(t,e){const n=Sn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(jr(s),t(l-e))};return ct.setup(s,!0),()=>jr(s)}const NR=["TopLeft","TopRight","BottomLeft","BottomRight"],rj=NR.length,FS=t=>typeof t=="string"?parseFloat(t):t,HS=t=>typeof t=="number"||we.test(t);function aj(t,e,n,s,a,l){a?(t.opacity=dt(0,n.opacity??1,oj(s)),t.opacityExit=dt(e.opacity??1,0,lj(s))):l&&(t.opacity=dt(e.opacity??1,n.opacity??1,s));for(let c=0;c<rj;c++){const d=`border${NR[c]}Radius`;let m=qS(e,d),p=qS(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||HS(m)===HS(p)?(t[d]=Math.max(dt(FS(m),FS(p),s),0),(Ji.test(p)||Ji.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,s))}function qS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oj=MR(0,.5,_x),lj=MR(.5,.95,ei);function MR(t,e,n){return s=>s<t?0:s>e?1:n(Zu(t,e,s))}function GS(t,e){t.min=e.min,t.max=e.max}function $n(t,e){GS(t.x,e.x),GS(t.y,e.y)}function KS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function YS(t,e,n,s,a){return t-=e,t=Wf(t,1/n,s),a!==void 0&&(t=Wf(t,1/a,s)),t}function uj(t,e=0,n=1,s=.5,a,l=t,c=t){if(Ji.test(e)&&(e=parseFloat(e),e=dt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=dt(l.min,l.max,s);t===l&&(d-=e),t.min=YS(t.min,e,n,d,a),t.max=YS(t.max,e,n,d,a)}function $S(t,e,[n,s,a],l,c){uj(t,e[n],e[s],e[a],e.scale,l,c)}const cj=["x","scaleX","originX"],hj=["y","scaleY","originY"];function QS(t,e,n,s){$S(t.x,e,cj,n?n.x:void 0,s?s.x:void 0),$S(t.y,e,hj,n?n.y:void 0,s?s.y:void 0)}function XS(t){return t.translate===0&&t.scale===1}function VR(t){return XS(t.x)&&XS(t.y)}function WS(t,e){return t.min===e.min&&t.max===e.max}function fj(t,e){return WS(t.x,e.x)&&WS(t.y,e.y)}function ZS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OR(t,e){return ZS(t.x,e.x)&&ZS(t.y,e.y)}function JS(t){return dn(t.x)/dn(t.y)}function ew(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class dj{constructor(){this.members=[]}add(e){ov(this.members,e),e.scheduleRender()}remove(e){if(lv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mj(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:R,skewY:M}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),b&&(s+=`rotateY(${b}deg) `),R&&(s+=`skewX(${R}deg) `),M&&(s+=`skewY(${M}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const sg=["","X","Y","Z"],pj=1e3;let gj=0;function rg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function PR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=TR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ct,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&PR(s)}function kR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=gj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_j),this.nodes.forEach(Sj),this.nodes.forEach(wj),this.nodes.forEach(Tj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new ij)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new hv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Wx(c)&&!h3(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let y,_=0;const b=()=>this.root.updateBlockedByResize=!1;ct.read(()=>{_=window.innerWidth}),t(c,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,y&&y(),y=sj(b,250),bf.hasAnimatedSinceResize&&(bf.hasAnimatedSinceResize=!1,this.nodes.forEach(iw)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||Ij,{onLayoutAnimationStart:z,onLayoutAnimationComplete:P}=p.getProps(),F=!this.targetLayout||!OR(this.targetLayout,R),G=!_&&b;if(this.options.layoutRoot||this.resumeFrom||G||_&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...wv(M,"layout"),onPlay:z,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,G)}else _||iw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Aj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bj),this.nodes.forEach(yj),this.nodes.forEach(vj)):this.nodes.forEach(nw),this.clearAllSnapshots();const d=Sn.now();Zt.delta=Ls(0,1e3/60,d-Zt.timestamp),Zt.timestamp=d,Zt.isProcessing=!0,Yp.update.process(Zt),Yp.preRender.process(Zt),Yp.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ej),this.sharedNodes.forEach(xj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!VR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Aa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),Dj(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return bt();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Nj))){const{scroll:p}=this.root;p&&(zo(d.x,p.offset.x),zo(d.y,p.offset.y))}return d}removeElementScroll(c){const d=bt();if($n(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&$n(d,c),zo(d.x,y.offset.x),zo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=bt();$n(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Fo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Aa(y.latestValues)&&Fo(m,y.latestValues)}return Aa(this.latestValues)&&Fo(m,this.latestValues),m}removeTransform(c){const d=bt();$n(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Aa(p.latestValues))continue;Xg(p.latestValues)&&p.updateSnapshot();const y=bt(),_=p.measurePageBox();$n(y,_),QS(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Aa(this.latestValues)&&QS(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Zt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),zu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),mR(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),zu(this.relativeTargetOrigin,this.target,b.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Xg(this.parent.latestValues)||dR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;$n(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;Q3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=bt());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KS(this.prevProjectionDelta.x,this.projectionDelta.x),KS(this.prevProjectionDelta.y,this.projectionDelta.y)),Bu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!ew(this.projectionDelta.x,this.prevProjectionDelta.x)||!ew(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=bt(),R=m?m.source:void 0,M=this.layout?this.layout.source:void 0,z=R!==M,P=this.getStack(),F=!P||P.members.length<=1,G=!!(z&&!F&&this.options.crossfade===!0&&!this.path.some(Cj));this.animationProgress=0;let Y;this.mixTargetDelta=oe=>{const ae=oe/1e3;sw(_.x,c.x,ae),sw(_.y,c.y,ae),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Rj(this.relativeTarget,this.relativeTargetOrigin,b,ae),Y&&fj(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=bt()),$n(Y,this.relativeTarget)),z&&(this.animationValues=y,aj(y,p,this.latestValues,ae,G,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{bf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=il(0)),this.currentAnimation=tj(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&LR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||bt();const _=dn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=dn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}$n(d,m),Fo(d,y),Bu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new dj),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&rg("z",c,p,this.animationValues);for(let y=0;y<sg.length;y++)rg(`rotate${sg[y]}`,c,p,this.animationValues),rg(`skew${sg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ef(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ef(d?.pointerEvents)||""),this.hasProjected&&!Aa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=mj(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:b,y:R}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${R.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in nc){if(y[M]===void 0)continue;const{correct:z,applyTo:P,isCSSVariable:F}=nc[M],G=_==="none"?y[M]:z(y[M],p);if(P){const Y=P.length;for(let oe=0;oe<Y;oe++)c[P[oe]]=G}else F?this.options.visualElement.renderState.vars[M]=G:c[M]=G}this.options.layoutId&&(c.pointerEvents=p===this?Ef(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(tw),this.root.sharedNodes.clear()}}}function yj(t){t.updateLayout()}function vj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Qn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],b=dn(_);_.min=n[y].min,_.max=_.min+b}):LR(a,e.layoutBox,n)&&Qn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],b=dn(n[y]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const c=Ho();Bu(c,n,e.layoutBox);const d=Ho();l?Bu(d,t.applyTransform(s,!0),e.measuredBox):Bu(d,n,e.layoutBox);const m=!VR(c);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const R=bt();zu(R,e.layoutBox,_.layoutBox);const M=bt();zu(M,n,b.layoutBox),OR(R,M)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=R,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function _j(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Tj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ej(t){t.clearSnapshot()}function tw(t){t.clearMeasurements()}function nw(t){t.isLayoutDirty=!1}function bj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function iw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Sj(t){t.resolveTargetDelta()}function wj(t){t.calcProjection()}function Aj(t){t.resetSkewAndRotation()}function xj(t){t.removeLeadSnapshot()}function sw(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rw(t,e,n,s){t.min=dt(e.min,n.min,s),t.max=dt(e.max,n.max,s)}function Rj(t,e,n,s){rw(t.x,e.x,n.x,s),rw(t.y,e.y,n.y,s)}function Cj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ij={duration:.45,ease:[.4,0,.1,1]},aw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ow=aw("applewebkit/")&&!aw("chrome/")?Math.round:ei;function lw(t){t.min=ow(t.min),t.max=ow(t.max)}function Dj(t){lw(t.x),lw(t.y)}function LR(t,e,n){return t==="position"||t==="preserve-aspect"&&!kU(JS(e),JS(n),.2)}function Nj(t){return t!==t.root&&t.scroll?.wasRoot}const Mj=kR({attachResizeListener:(t,e)=>ic(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ag={current:void 0},UR=kR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ag.current){const t=new Mj({});t.mount(window),t.setOptions({layoutScroll:!0}),ag.current=t}return ag.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Vj={pan:{Feature:WU},drag:{Feature:XU,ProjectionNode:UR,MeasureLayout:DR}};function uw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ct.postRender(()=>l(e,_c(e)))}class Oj extends qr{mount(){const{current:e}=this.node;e&&(this.unmount=a3(e,(n,s)=>(uw(this.node,s,"Start"),a=>uw(this.node,a,"End"))))}unmount(){}}class Pj extends qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gc(ic(this.node.current,"focus",()=>this.onFocus()),ic(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cw(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ct.postRender(()=>l(e,_c(e)))}class kj extends qr{mount(){const{current:e}=this.node;e&&(this.unmount=c3(e,(n,s)=>(cw(this.node,s,"Start"),(a,{success:l})=>cw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iy=new WeakMap,og=new WeakMap,Lj=t=>{const e=iy.get(t.target);e&&e(t)},Uj=t=>{t.forEach(Lj)};function jj({root:t,...e}){const n=t||document;og.has(n)||og.set(n,{});const s=og.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(Uj,{root:t,...e})),s[a]}function Bj(t,e,n){const s=jj(e);return iy.set(t,n),s.observe(t),()=>{iy.delete(t),s.unobserve(t)}}const zj={some:0,all:1};class Fj extends qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:zj[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(m)};return Bj(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Hj(e,n))&&this.startObserver()}unmount(){}}function Hj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const qj={inView:{Feature:Fj},tap:{Feature:kj},focus:{Feature:Pj},hover:{Feature:Oj}},Gj={layout:{ProjectionNode:UR,MeasureLayout:DR}},Kj={...DU,...qj,...Vj,...Gj},Ia=K3(Kj,rU),Yj=()=>S.jsxs("section",{className:"bg-gradient-to-b from-white to-green-50 py-16 px-6 md:px-20",children:[S.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[S.jsx("p",{className:"text-sm mb-2 text-green-700 uppercase tracking-wide",children:"Our Story"}),S.jsx("h2",{className:"text-3xl md:text-4xl mb-4 font-serif text-green-900",children:"A Church Built on Faith and Community"}),S.jsx("div",{className:"w-20 h-1 bg-green-600 mx-auto mb-6 rounded-full"}),S.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"Founded in 1985, we have been serving our community for decades. Our core beliefs center on love, grace, and transformative faith. We continue to grow together in spirit, purpose, and unity."})]}),S.jsx(Ia.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"mt-12 flex justify-center",children:S.jsx("img",{src:"/church-website/about/about-image.jpg",alt:"About our church",className:"rounded-2xl shadow-[0_8px_30px_rgba(0,128,0,0.15)] w-full max-w-4xl"})})]}),hw=t=>{const e=Date.parse(t)-Date.now();if(e<=0)return null;const n=Math.floor(e/1e3%60),s=Math.floor(e/1e3/60%60),a=Math.floor(e/(1e3*60*60)%24),l=Math.floor(e/(1e3*60*60*24));return{total:e,days:l,hours:a,minutes:s,seconds:n}},$j=({date:t})=>{const[e,n]=k.useState(hw(t));if(k.useEffect(()=>{const s=setInterval(()=>{n(hw(t))},1e3);return()=>clearInterval(s)},[t]),!e){const s=Date.parse(t),a=Date.now();return S.jsx("span",{className:"text-sm text-green-700 font-medium",children:a-s<36e5?"Happening now":"Event ended"})}return S.jsxs("div",{className:"text-sm text-green-800 bg-green-50 px-3 py-1 rounded-full mt-2 md:mt-0",children:[e.days>0&&S.jsxs("span",{children:[e.days,"d "]}),e.hours>0&&S.jsxs("span",{children:[e.hours,"h "]}),e.minutes>0&&S.jsxs("span",{children:[e.minutes,"m "]}),S.jsxs("span",{children:[e.seconds,"s"]})]})},Qj=()=>{const[t,e]=k.useState("weekly"),[n,s]=k.useState([]),[a,l]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const y=(await Pg(ku(fn,"programs"))).docs.map(_=>({id:_.id,..._.data()}));s(y)}catch(p){console.error("Error fetching programs:",p)}finally{l(!1)}})()},[]);const c=t==="all"?n:n.filter(m=>m.category===t),d=[{name:"Weekly Programs",value:"weekly"},{name:"Monthly Programs",value:"monthly"},{name:"Yearly Programs",value:"yearly"},{name:"View All",value:"all"}];return S.jsxs("section",{className:"bg-gradient-to-b from-white to-green-50 px-6 py-16 max-w-5xl mx-auto border-t border-green-200",children:[S.jsxs(Ia.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[S.jsx("p",{className:"uppercase text-green-700 text-sm tracking-wide",children:"Upcoming"}),S.jsx("h2",{className:"text-3xl md:text-4xl font-semibold mt-2 mb-4 text-green-900",children:"Church Programs"}),S.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:"Stay connected and be part of our weekly, monthly, and yearly church programs designed for spiritual growth and fellowship."}),S.jsx("div",{className:"flex flex-wrap justify-center gap-3 mt-8",children:d.map((m,p)=>S.jsx("button",{onClick:()=>e(m.value),className:`px-4 py-2 border text-sm rounded-full font-medium transition ${t===m.value?"bg-green-600 text-white border-green-600 shadow-md":"border-green-300 text-green-800 hover:bg-green-100"}`,children:m.name},p))})]}),a?S.jsx("p",{className:"text-center text-gray-600 mt-8",children:"Loading programs..."}):c.length===0?S.jsx("p",{className:"text-center text-gray-600 mt-8",children:"No programs available for this category yet."}):S.jsx("div",{className:"space-y-6",children:c.map((m,p)=>S.jsxs(Ia.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:p*.1},className:"flex flex-col md:flex-row items-center justify-between bg-white border border-green-100 rounded-xl p-5 shadow-sm hover:shadow-md transition",children:[S.jsxs("div",{className:"flex items-center gap-6",children:[S.jsx("div",{className:"text-center border border-green-200 rounded-md px-3 py-2 bg-green-50",children:S.jsx("p",{className:"text-sm font-semibold text-green-700",children:m.day})}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-green-900",children:m.title}),S.jsx("p",{className:"text-green-700 text-sm",children:m.location}),S.jsx("p",{className:"text-gray-700 text-sm mt-2 max-w-lg",children:m.description})]})]}),S.jsx($j,{date:m.date})]},m.id))})]})},Xj=[{name:"Choir Department",image:"https://images.unsplash.com/photo-1581090700227-1e37b190418e?auto=format&fit=crop&w=800&q=60",description:"Leads worship and creates a powerful atmosphere of praise through music."},{name:"Ushering Department",image:"https://images.unsplash.com/photo-1568605114967-8130f3a36994?auto=format&fit=crop&w=800&q=60",description:"Welcomes members warmly and ensures order during services."},{name:"Prayer Department",image:"https://images.unsplash.com/photo-1543269865-cbf427effbad?auto=format&fit=crop&w=800&q=60",description:"Intercedes for the church, congregation, and community needs."},{name:"Media Department",image:"https://images.unsplash.com/photo-1526662092594-e98c1e356d6a?auto=format&fit=crop&w=800&q=60",description:"Handles visuals, sound, and recordings to enhance the worship experience."},{name:"Evangelism Department",image:"https://images.unsplash.com/photo-1551434678-e076c223a692?auto=format&fit=crop&w=800&q=60",description:"Spreads the gospel and reaches out to communities with compassion."}],Wj=()=>{const t=k.useRef(null),e=ss(),n=()=>{t.current&&t.current.scrollBy({left:-300,behavior:"smooth"})},s=()=>{t.current&&t.current.scrollBy({left:300,behavior:"smooth"})},a=()=>{e("/departments"),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)};return S.jsx("section",{className:"py-16 bg-[#f9fff9] relative",children:S.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[S.jsx("h2",{className:"text-3xl font-semibold text-center mb-10 text-green-800",children:"Our Departments"}),S.jsxs("div",{className:"relative",children:[S.jsx("button",{onClick:n,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-green-600 text-white p-3 rounded-full shadow-md opacity-60 hover:opacity-100 transition-opacity duration-300 z-10","aria-label":"Scroll left",children:S.jsx(nD,{size:24})}),S.jsx("div",{ref:t,className:"flex gap-6 overflow-x-auto scroll-smooth px-3",children:Xj.map((l,c)=>S.jsxs("div",{className:"w-[250px] flex-none bg-white rounded-xl shadow-md overflow-hidden border border-green-100 hover:border-green-500 transform hover:scale-105 transition-all duration-300",children:[S.jsx("img",{src:l.image,alt:l.name,className:"w-full h-40 object-cover"}),S.jsxs("div",{className:"p-4 text-center",children:[S.jsx("h3",{className:"text-lg font-semibold text-green-700",children:l.name}),S.jsx("p",{className:"text-gray-600 text-sm leading-snug mt-2 break-words text-center",children:l.description})]})]},c))}),S.jsx("button",{onClick:s,className:"absolute right-0 top-1/2 -translate-y-1/2 bg-green-600 text-white p-3 rounded-full shadow-md opacity-60 hover:opacity-100 transition-opacity duration-300 z-10","aria-label":"Scroll right",children:S.jsx(sD,{size:24})})]}),S.jsx("div",{className:"text-center mt-8",children:S.jsx("button",{onClick:a,className:"px-6 py-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition",children:"View More"})})]})})},Zj=()=>{const t=[{icon:S.jsx(lD,{size:20}),color:"bg-blue-600 hover:bg-blue-700",link:"#"},{icon:S.jsx(cD,{size:20}),color:"bg-pink-600 hover:bg-pink-700",link:"#"},{icon:S.jsx(bD,{size:20}),color:"bg-sky-500 hover:bg-sky-600",link:"#"},{icon:S.jsx(vD,{size:20}),color:"bg-green-500 hover:bg-green-600",link:"https://wa.me/2340000000000"}];return S.jsx("section",{className:"py-20 bg-gradient-to-b from-white to-[#f3fff5] overflow-hidden",children:S.jsxs(Ia.div,{className:"max-w-6xl mx-auto px-6 flex flex-col md:flex-row items-center gap-10",initial:{opacity:0,y:60},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:1,ease:"easeOut"},children:[S.jsxs(Ia.div,{className:"flex-shrink-0 relative group",whileHover:{scale:1.05},transition:{type:"spring",stiffness:120},children:[S.jsx("img",{src:"/church-website/pastorimage/pastor.jpg",alt:"Pastor John Doe",className:"w-72 h-72 object-cover rounded-2xl shadow-xl border-4 border-green-100"}),S.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-t from-green-700/20 via-green-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),S.jsxs("div",{className:"text-center md:text-left max-w-xl",children:[S.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-3",children:"Meet Our Pastor"}),S.jsx("h3",{className:"text-xl font-semibold text-green-600 mb-4",children:"Pastor John Doe"}),S.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"Pastor John Doe is a dynamic leader with a passion for teaching the Word of God and guiding people to live purpose-driven lives. Under his leadership, our church has grown spiritually and continues to impact the community through love, service, and faith."}),S.jsx(Ia.div,{className:"flex justify-center md:justify-start space-x-4",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},children:t.map((e,n)=>S.jsx(Ia.a,{href:e.link,target:"_blank",rel:"noopener noreferrer",variants:{hidden:{scale:0},visible:{scale:1}},className:`p-3 ${e.color} rounded-full text-white transition-transform transform hover:scale-110 shadow-md`,children:e.icon},n))})]})]})})},Jj=()=>{const[t,e]=k.useState({fullName:"",email:"",message:""}),[n,s]=k.useState(!1),a=c=>{e({...t,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault(),s(!0);try{await lL(t),alert("Message sent successfully!"),e({fullName:"",email:"",message:""})}catch(d){console.error(d),alert("Failed to send message.")}finally{s(!1)}};return S.jsxs("section",{id:"contact",className:"pt-20 bg-gradient-to-b from-white to-[#f3fff5] border-t border-green-100",children:[S.jsxs("div",{className:"max-w-6xl mx-auto px-6 md:px-12 grid md:grid-cols-2 gap-12 items-start",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-3",children:"Get in Touch"}),S.jsx("p",{className:"text-gray-600 mb-8",children:"Have a question or want to connect? Fill out the form below and we’ll get back to you soon."}),S.jsxs("form",{className:"space-y-4",onSubmit:l,children:[S.jsx("input",{type:"text",name:"fullName",placeholder:"Full Name",required:!0,value:t.fullName,onChange:a,className:"w-full px-4 py-3 rounded-lg bg-white border border-green-200 focus:outline-none focus:ring-2 focus:ring-green-500 transition"}),S.jsx("input",{type:"email",name:"email",placeholder:"Email Address",required:!0,value:t.email,onChange:a,className:"w-full px-4 py-3 rounded-lg bg-white border border-green-200 focus:outline-none focus:ring-2 focus:ring-green-500 transition"}),S.jsx("textarea",{name:"message",placeholder:"Type your message...",rows:"4",required:!0,value:t.message,onChange:a,className:"w-full px-4 py-3 rounded-lg bg-white border border-green-200 focus:outline-none focus:ring-2 focus:ring-green-500 transition"}),S.jsx("button",{type:"submit",className:"px-8 py-3 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium shadow-md transition",disabled:n,children:n?"Sending...":"Send Message"})]})]}),S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"p-3 rounded-full bg-green-100",children:S.jsx(fD,{className:"w-5 h-5 text-green-600"})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),S.jsx("p",{className:"text-green-800 font-medium",children:"info@church.com"})]})]}),S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"p-3 rounded-full bg-green-100",children:S.jsx(TD,{className:"w-5 h-5 text-green-600"})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),S.jsx("p",{className:"text-green-800 font-medium",children:"+234 800 000 0000"})]})]}),S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"p-3 rounded-full bg-green-100",children:S.jsx(mD,{className:"w-5 h-5 text-green-600"})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),S.jsx("p",{className:"text-green-800 font-medium",children:"123 Church Avenue, Ogbomoso, Nigeria."})]})]})]})]}),S.jsxs("footer",{className:"py-6 bg-green-700 text-white text-center text-sm mt-8",children:["© ",new Date().getFullYear()," Church Name. All rights reserved. | Built with ❤️ by"," ",S.jsx("a",{href:"https://elijah.is-a.dev",target:"_blank",rel:"noopener noreferrer",className:"text-white font-medium text-decoration: underline hover:text-green-900 transition",children:"Ejay"})]})]})},e5=()=>{const[t,e]=k.useState(!1),[n,s]=k.useState(null),a=ss(),l=d=>{if(!d)return null;try{const m=[/youtube\.com\/watch\?v=([\w-]+)/,/youtu\.be\/([\w-]+)/,/youtube\.com\/embed\/([\w-]+)/,/youtube\.com\/live\/([\w-]+)/];for(const p of m){const y=d.match(p);if(y&&y[1])return`https://www.youtube.com/embed/${y[1]}?autoplay=1&mute=1&rel=0&modestbranding=1`}return null}catch(m){return console.error("Invalid YouTube URL:",m),null}};k.useEffect(()=>{(async()=>{try{const m=await oL(),p=l(m)||"https://www.youtube.com/embed/live_stream?channel=YOUR_DEFAULT_CHANNEL_ID&autoplay=1&mute=1&rel=0&modestbranding=1";s(p)}catch(m){console.error("Error loading YouTube link:",m),s("https://www.youtube.com/embed/live_stream?channel=YOUR_DEFAULT_CHANNEL_ID&autoplay=1&mute=1&rel=0&modestbranding=1")}})()},[]);const c=()=>{window.location.pathname!=="/church-website/"?a("/church-website/"):window.scrollTo({top:0,behavior:"smooth"})};return S.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[S.jsx("header",{className:"fixed top-0 left-0 w-full bg-white shadow-md z-50",children:S.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center h-16 px-6",children:[S.jsx("div",{onClick:c,className:"text-2xl font-semibold italic text-green-700 cursor-pointer",children:"Logo"}),S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("button",{onClick:c,className:"text-green-800 hover:text-green-600 transition",children:"Home"}),S.jsx("button",{onClick:()=>e(!0),className:"px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition",children:"Donate"})]})]})}),S.jsxs("main",{className:"flex-grow flex flex-col justify-center items-center px-4 pt-28 pb-12 bg-gradient-to-b from-green-50 to-white",children:[S.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-green-800 mb-6 text-center",children:"Watch Our Live Sunday Service"}),S.jsx("p",{className:"text-gray-600 text-center mb-8 max-w-2xl",children:"Join us every Sunday for our live worship experience. Stay connected and be blessed."}),S.jsx("div",{className:"w-full max-w-4xl aspect-video rounded-xl overflow-hidden shadow-lg border border-green-100",children:n?S.jsx("iframe",{className:"w-full h-full",src:n,title:"Church Live Stream",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):S.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Loading live stream..."})})]}),S.jsxs("footer",{className:"py-6 bg-green-700 text-white text-center text-sm mt-8",children:["© ",new Date().getFullYear()," Church Name. All rights reserved. | Built with ❤️ by"," ",S.jsx("a",{href:"https://elijah.is-a.dev",target:"_blank",rel:"noopener noreferrer",className:"text-white font-medium underline hover:text-green-900 transition",children:"Ejay"})]}),S.jsx(ox,{isOpen:t,onClose:()=>e(!1)})]})},t5=[{title:"Royal Media",desc:"We keep records of sermons and events in Church..."},{title:"Royal Ambassador (RA)",desc:"Group of males aged 9–24 who respond to the Lord’s command..."},{title:"Girls Auxiliary (GA)",desc:"Helps girls grow in their spiritual development..."},{title:"Interpreters Unit",desc:"Handles interpretation of sermons and church materials..."},{title:"Teenagers Section",desc:"Guides teens in academics, faith, and leadership..."},{title:"Children Section",desc:"Caters for over 200 children under trained teachers..."},{title:"Freshers’ Unit",desc:"Welcomes new students into the church family..."},{title:"Visitation Unit",desc:"Visits and encourages the sick, aged, and needy..."},{title:"Cleaning Unit",desc:"Responsible for cleaning the church every Saturday..."},{title:"Ushering Department",desc:"Ensures order and hospitality during worship services..."},{title:"Prayer Unit",desc:"Intercedes for members, church leaders, and community..."},{title:"Press and Publicity",desc:"Handles announcements, design, and church publications..."},{title:"Decorating Unit",desc:"Beautifies the church using creativity and decor..."},{title:"Lydia Auxiliary",desc:"Supports young women in ministry and personal growth..."},{title:"Pulpit Ministry",desc:"Trains members to preach and teach effectively..."},{title:"Library Unit",desc:"Provides educational resources and promotes reading..."},{title:"Sunday School",desc:"Teaches the Word of God and biblical understanding..."},{title:"Reading Club",desc:"Encourages spiritual and leadership growth through reading..."},{title:"Choir Unit",desc:"Leads worship and trains members in musical excellence..."},{title:"Youth Department",desc:"Organizes productive programs for youths..."},{title:"Mission & Evangelism",desc:"Spreads the gospel and organizes outreach programs..."},{title:"Education Department",desc:"Oversees Bible teaching and discipleship training..."},{title:"Men Missionary Union",desc:"Equips men for godly living and leadership..."},{title:"Women Missionary Union",desc:"Promotes Christian missions and women’s discipleship..."}],n5=()=>{const t=ss(),e=()=>{t("/church-website/"),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)};return S.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white flex flex-col",children:[S.jsx("header",{className:"bg-white shadow-md py-4 sticky top-0 z-40",children:S.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex justify-between items-center",children:[S.jsx("button",{onClick:e,className:"text-2xl font-semibold italic text-green-700 focus:outline-none",children:"Logo"}),S.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition",children:"Back Home"})]})}),S.jsxs("main",{className:"flex-grow max-w-6xl mx-auto px-4 py-12",children:[S.jsx("h1",{className:"text-4xl font-bold text-center text-green-800 mb-10",children:"Units in Church"}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t5.map((n,s)=>S.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-green-100 hover:border-green-400 transition transform hover:scale-[1.02]",children:[S.jsx("h3",{className:"text-xl font-semibold text-green-700 mb-2",children:n.title}),S.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n.desc})]},s))}),S.jsxs("div",{className:"mt-16 text-center",children:[S.jsx("h2",{className:"text-2xl font-semibold text-green-800 mb-6",children:"How to Join"}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-5 gap-4 text-gray-700",children:[S.jsxs("div",{children:[S.jsx("p",{className:"font-bold text-green-700 mb-1",children:"STEP 1:"}),S.jsx("p",{children:"Must be Born Again"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"font-bold text-green-700 mb-1",children:"STEP 2:"}),S.jsx("p",{children:"Be a committed member of the Church"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"font-bold text-green-700 mb-1",children:"STEP 3:"}),S.jsx("p",{children:"Must desire to work with God in a department"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"font-bold text-green-700 mb-1",children:"STEP 4:"}),S.jsx("p",{children:"Enroll for BBG Discipleship Programme"})]}),S.jsxs("div",{children:[S.jsx("p",{className:"font-bold text-green-700 mb-1",children:"STEP 5:"}),S.jsx("p",{children:"Contact the leaders in chosen department"})]})]})]})]}),S.jsxs("footer",{className:"py-6 bg-green-700 text-white text-center text-sm mt-8",children:["© ",new Date().getFullYear()," Church Name. All rights reserved. | Built with ❤️ by"," ",S.jsx("a",{href:"https://elijah.is-a.dev",target:"_blank",rel:"noopener noreferrer",className:"text-white font-medium text-decoration: underline hover:text-green-900 transition",children:"Ejay"})]})]})},i5=()=>{const t=ss(),e=()=>{t("/church-website/"),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)};return S.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white flex flex-col",children:[S.jsx("header",{className:"bg-white shadow-md py-4 sticky top-0 z-40",children:S.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex justify-between items-center",children:[S.jsx("button",{onClick:e,className:"text-2xl font-semibold italic text-green-700 focus:outline-none",children:"Logo"}),S.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition",children:"Back Home"})]})}),S.jsxs("section",{className:"relative h-64 md:h-80 bg-green-900 text-white flex items-center justify-center",children:[S.jsx("div",{className:"absolute inset-0",children:S.jsx("img",{src:"/church-website/heroimages/hero3.jpg",alt:"Resources Banner",className:"w-full h-full object-cover opacity-60"})}),S.jsxs("div",{className:"relative z-10 text-center px-4",children:[S.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:"Resources"}),S.jsx("p",{className:"text-green-100 max-w-2xl mx-auto text-sm md:text-base",children:"Explore sermons, articles, and ebooks to grow in faith and understanding."})]})]}),S.jsxs("main",{className:"flex-grow max-w-6xl mx-auto px-4 py-12",children:[S.jsxs("section",{id:"sermon",className:"mb-20",children:[S.jsx("h2",{className:"text-3xl font-semibold text-green-800 mb-4 border-l-4 border-green-600 pl-3",children:"Sermons"}),S.jsx("p",{className:"text-gray-700 mb-6 max-w-2xl",children:"Listen to inspiring sermons from our pastors and guest ministers that strengthen your faith and deepen your walk with God."}),S.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border border-green-100 text-center text-gray-600",children:"Sermon videos or audio links will appear here."})]}),S.jsxs("section",{id:"articles",className:"mb-20",children:[S.jsx("h2",{className:"text-3xl font-semibold text-green-800 mb-4 border-l-4 border-green-600 pl-3",children:"Articles"}),S.jsx("p",{className:"text-gray-700 mb-6 max-w-2xl",children:"Read uplifting articles that encourage growth, reflection, and a deeper understanding of God’s word."}),S.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border border-green-100 text-center text-gray-600",children:"Articles will be listed here."})]}),S.jsxs("section",{id:"ebooks",className:"mb-20",children:[S.jsx("h2",{className:"text-3xl font-semibold text-green-800 mb-4 border-l-4 border-green-600 pl-3",children:"Ebooks"}),S.jsx("p",{className:"text-gray-700 mb-6 max-w-2xl",children:"Download free ebooks and study materials to help you grow spiritually and gain deeper insight into the Word of God."}),S.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border border-green-100 text-center text-gray-600",children:"Ebooks will be available for download here."})]})]}),S.jsxs("footer",{className:"py-6 bg-green-700 text-white text-center text-sm mt-8",children:["© ",new Date().getFullYear()," Church Name. All rights reserved. | Built with ❤️ by"," ",S.jsx("a",{href:"https://elijah.is-a.dev",target:"_blank",rel:"noopener noreferrer",className:"text-white font-medium text-decoration: underline hover:text-green-900 transition",children:"Ejay"})]})]})},s5=()=>{const[t,e]=k.useState(""),[n,s]=k.useState(""),[a,l]=k.useState(""),c=ss(),d=async m=>{m.preventDefault(),l("");try{await sV(kg,t,n),c("/admin-dashboard")}catch(p){l("Invalid email or password"),console.error(p)}};return S.jsx("div",{className:"flex justify-center items-center min-h-screen bg-green-50",children:S.jsxs("form",{onSubmit:d,className:"bg-white shadow-lg rounded-xl p-8 w-full max-w-sm border border-green-100",children:[S.jsx("h2",{className:"text-2xl font-semibold text-green-800 text-center mb-6",children:"Admin Login"}),a&&S.jsx("p",{className:"text-red-600 text-sm text-center mb-4",children:a}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),S.jsx("input",{type:"email",value:t,onChange:m=>e(m.target.value),required:!0,className:"w-full border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),S.jsx("input",{type:"password",value:n,onChange:m=>s(m.target.value),required:!0,className:"w-full border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),S.jsx("button",{type:"submit",className:"w-full bg-green-700 hover:bg-green-800 text-white font-medium py-2 rounded-md transition",children:"Login"})]})})},jR=k.createContext(),r5=()=>k.useContext(jR),a5=({children:t})=>{const[e,n]=k.useState(null),[s,a]=k.useState(!0),l=ss();k.useEffect(()=>oV(kg,m=>{n(m),a(!1)}),[]);const c=async()=>{await lV(kg),n(null),l("/admin-login")};return S.jsx(jR.Provider,{value:{currentUser:e,logout:c},children:!s&&t})},o5=()=>{const[t,e]=k.useState({building:{accountName:"",accountNumber:"",bank:""},mission:{accountName:"",accountNumber:"",bank:""},tithe:{accountName:"",accountNumber:"",bank:""},care:{accountName:"",accountNumber:"",bank:""}}),[n,s]=k.useState([]),[a,l]=k.useState({category:"weekly",date:"",day:"",title:"",location:"",description:""}),[c,d]=k.useState(""),[m,p]=k.useState(null),[y,_]=k.useState([]),[b,R]=k.useState(!0),[M,z]=k.useState(!1),[P,F]=k.useState(!1),[G,Y]=k.useState(!1),[oe,ae]=k.useState(!1),[ce,I]=k.useState(!1),[x,C]=k.useState(!1),[O,V]=k.useState(!1),[j,D]=k.useState(!1),{logout:Pe}=r5();k.useEffect(()=>{(async()=>{try{const le=yi(fn,"donationSettings","donationDetails"),de=await qf(le);de.exists()&&e(de.data());const Ce=ku(fn,"programs"),it=(await Pg(Ce)).docs.map(ii=>({id:ii.id,...ii.data()}));s(it);const os=yi(fn,"liveSettings","youtubeLink"),ls=await qf(os);ls.exists()&&d(ls.data().url||"");const Bs=ku(fn,"contactMessages"),On=(await Pg(Bs)).docs.map(ii=>({id:ii.id,...ii.data()}));_(On)}catch(le){console.error("Error fetching data:",le)}finally{R(!1)}})()},[]);const He=(J,le,de)=>{const Ce=J.target.value;e(ft=>({...ft,[le]:{...ft[le],[de]:Ce}}))},W=async J=>{J.preventDefault(),z(!0);try{await Kb(yi(fn,"donationSettings","donationDetails"),t),alert("Bank details updated successfully!")}catch(le){console.error(le),alert("Failed to update bank details")}finally{z(!1)}},re=async J=>{J.preventDefault(),ae(!0);try{await Kb(yi(fn,"liveSettings","youtubeLink"),{url:c}),alert("YouTube link updated successfully!")}catch(le){console.error(le),alert("Failed to update YouTube link")}finally{ae(!1)}},fe=J=>{const{name:le,value:de}=J.target;l(Ce=>({...Ce,[le]:de}))},Se=async J=>{J.preventDefault(),F(!0);try{const le=await ix(ku(fn,"programs"),a);s(de=>[...de,{id:le.id,...a}]),alert("Program added successfully!"),l({category:"weekly",date:"",day:"",title:"",location:"",description:""})}catch(le){console.error(le)}finally{F(!1)}},Ie=J=>{p(J.id),l(J),window.scrollTo({top:0,behavior:"smooth"})},U=async J=>{if(J.preventDefault(),!!m){Y(!0);try{const le=yi(fn,"programs",m);await tx(le,a),s(de=>de.map(Ce=>Ce.id===m?{id:m,...a}:Ce)),alert("Program updated successfully!"),p(null),l({category:"weekly",date:"",day:"",title:"",location:"",description:""})}catch(le){console.error(le)}finally{Y(!1)}}},te=async J=>{if(window.confirm("Delete this program?"))try{await nx(yi(fn,"programs",J)),s(le=>le.filter(de=>de.id!==J))}catch(le){console.error(le)}};if(b)return S.jsx("div",{className:"min-h-screen flex items-center justify-center text-green-700",children:"Loading dashboard..."});const he={weekly:n.filter(J=>J.category==="weekly"),monthly:n.filter(J=>J.category==="monthly"),yearly:n.filter(J=>J.category==="yearly")};return S.jsx("div",{className:"min-h-screen bg-white flex flex-col items-center py-10 px-4",children:S.jsxs("div",{className:"w-full max-w-6xl bg-green-50 shadow-lg rounded-2xl p-6 sm:p-10 border border-green-100",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[S.jsx("h1",{className:"text-2xl font-semibold text-green-800",children:"Admin Dashboard 🛠️"}),S.jsx("button",{onClick:Pe,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition",children:"Logout"})]}),S.jsxs("div",{className:"mb-8",children:[S.jsxs("button",{onClick:()=>I(J=>!J),className:"w-full flex justify-between items-center bg-green-700 text-white px-5 py-3 rounded-md",children:[S.jsx("span",{className:"text-lg font-semibold",children:"Donation Bank Details"}),S.jsx("span",{children:ce?"−":"+"})]}),ce&&S.jsxs("form",{onSubmit:W,className:"space-y-8 bg-white border border-green-100 rounded-lg shadow p-6 mt-4",children:[Object.keys(t).map(J=>S.jsxs("div",{className:"p-5 border border-green-100 rounded-lg",children:[S.jsx("h3",{className:"text-lg font-semibold text-green-700 mb-4 capitalize",children:J==="tithe"?"Tithe, Offerings & Seeds":J==="mission"?"Mission Offerings":J==="building"?"Building Project":"Care Ministry"}),S.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:["accountName","accountNumber","bank"].map(le=>S.jsx("input",{type:"text",placeholder:le.replace("account","Account "),value:t[J][le],onChange:de=>He(de,J,le),className:"border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none"},le))})]},J)),S.jsx("div",{className:"flex justify-center",children:S.jsx("button",{type:"submit",disabled:M,className:`px-8 py-3 rounded-full text-white transition ${M?"bg-green-400 cursor-not-allowed":"bg-green-700 hover:bg-green-800"}`,children:M?"Saving...":"Save Bank Details"})})]})]}),S.jsxs("div",{className:"mb-8",children:[S.jsxs("button",{onClick:()=>V(J=>!J),className:"w-full flex justify-between items-center bg-green-700 text-white px-5 py-3 rounded-md",children:[S.jsx("span",{className:"text-lg font-semibold",children:"YouTube Live Link"}),S.jsx("span",{children:O?"−":"+"})]}),O&&S.jsxs("form",{onSubmit:re,className:"bg-white border border-green-100 rounded-lg shadow p-6 mt-4",children:[S.jsx("input",{type:"text",placeholder:"Enter YouTube live embed link",value:c,onChange:J=>d(J.target.value),className:"w-full border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none mb-4"}),S.jsx("div",{className:"flex justify-center",children:S.jsx("button",{type:"submit",disabled:oe,className:`px-8 py-3 rounded-full text-white transition ${oe?"bg-green-400 cursor-not-allowed":"bg-green-700 hover:bg-green-800"}`,children:oe?"Saving...":"Save YouTube Link"})})]})]}),S.jsxs("div",{className:"mb-8",children:[S.jsxs("button",{onClick:()=>C(J=>!J),className:"w-full flex justify-between items-center bg-green-700 text-white px-5 py-3 rounded-md",children:[S.jsx("span",{className:"text-lg font-semibold",children:"Programs"}),S.jsx("span",{children:x?"−":"+"})]}),x&&S.jsxs("div",{className:"mt-4 bg-white border border-green-100 rounded-lg shadow p-6",children:[S.jsxs("form",{onSubmit:m?U:Se,className:"space-y-6 mb-8",children:[S.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[S.jsxs("select",{name:"category",value:a.category,onChange:fe,className:"border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none",children:[S.jsx("option",{value:"weekly",children:"Weekly"}),S.jsx("option",{value:"monthly",children:"Monthly"}),S.jsx("option",{value:"yearly",children:"Yearly"})]}),S.jsx("input",{type:"datetime-local",name:"date",value:a.date,onChange:fe,className:"border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none"}),S.jsx("input",{type:"text",name:"day",placeholder:"e.g. Sun 9:00 AM",value:a.day,onChange:fe,className:"border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none"}),S.jsx("input",{type:"text",name:"title",placeholder:"Program Title",value:a.title,onChange:fe,className:"border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none"}),S.jsx("input",{type:"text",name:"location",placeholder:"Location",value:a.location,onChange:fe,className:"border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none"}),S.jsx("textarea",{name:"description",rows:"3",placeholder:"Brief description...",value:a.description,onChange:fe,className:"lg:col-span-3 border border-green-200 rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 outline-none resize-none"})]}),S.jsx("div",{className:"flex justify-center",children:S.jsx("button",{type:"submit",disabled:P||G,className:`px-8 py-3 rounded-full text-white transition ${P||G?"bg-green-400 cursor-not-allowed":"bg-green-700 hover:bg-green-800"}`,children:m?G?"Updating...":"Update Program":P?"Adding...":"Add Program"})})]}),Object.entries(he).map(([J,le])=>S.jsxs("div",{className:"mb-8",children:[S.jsxs("h3",{className:"text-lg font-semibold text-green-800 capitalize mb-3 border-b border-green-200 pb-1",children:[J," Programs"]}),le.length===0?S.jsxs("p",{className:"text-gray-500 italic text-sm",children:["No ",J," programs yet."]}):S.jsx("div",{className:"grid gap-4",children:le.map(de=>S.jsxs("div",{className:"bg-white border border-green-100 rounded-lg p-4 shadow-sm flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"font-semibold text-green-800",children:de.title}),S.jsx("p",{className:"text-sm text-gray-600",children:de.day}),S.jsx("p",{className:"text-sm text-gray-600",children:de.location}),S.jsx("p",{className:"text-sm text-gray-700 mt-1",children:de.description})]}),S.jsxs("div",{className:"flex gap-2 mt-3 sm:mt-0",children:[S.jsx("button",{onClick:()=>Ie(de),className:"px-3 py-1 rounded bg-green-600 text-white text-sm hover:bg-green-700",children:"Edit"}),S.jsx("button",{onClick:()=>te(de.id),className:"px-3 py-1 rounded bg-red-600 text-white text-sm hover:bg-red-700",children:"Delete"})]})]},de.id))})]},J))]})]}),S.jsxs("div",{className:"mb-8",children:[S.jsxs("button",{onClick:()=>D(J=>!J),className:"w-full flex justify-between items-center bg-green-700 text-white px-5 py-3 rounded-md",children:[S.jsx("span",{className:"text-lg font-semibold",children:"Contact Messages"}),S.jsx("span",{children:j?"−":"+"})]}),j&&S.jsx("div",{className:"mt-4 bg-white border border-green-100 rounded-lg shadow p-6",children:y.length===0?S.jsx("p",{className:"text-gray-500 italic text-sm",children:"No messages yet."}):S.jsx("div",{className:"space-y-4",children:y.map(J=>S.jsxs("div",{className:`border p-3 rounded-md shadow-sm flex justify-between items-start ${J.read?"bg-gray-50":"bg-green-50"}`,children:[S.jsxs("div",{children:[S.jsx("p",{className:"font-semibold text-green-800",children:J.fullName}),S.jsx("p",{className:"text-sm text-gray-600",children:J.email}),S.jsx("p",{className:"mt-1",children:J.message}),S.jsxs("p",{className:"text-xs mt-1 text-gray-500",children:["Status: ",J.read?"Read":"Unread"]})]}),S.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[!J.read&&S.jsx("button",{onClick:async()=>{await uL(J.id),_(le=>le.map(de=>de.id===J.id?{...de,read:!0}:de))},className:"px-3 py-1 rounded bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Mark as Read"}),S.jsx("button",{onClick:async()=>{window.confirm("Delete this message?")&&(await cL(J.id),_(le=>le.filter(de=>de.id!==J.id)))},className:"px-3 py-1 rounded bg-red-600 text-white text-sm hover:bg-red-700",children:"Delete"})]})]},J.id))})})]})]})})};function l5(){return S.jsxs("div",{className:"font-sans",children:[S.jsx(hL,{}),S.jsxs("main",{className:"pt-16",children:[S.jsx("section",{id:"home",children:S.jsx(mL,{})}),S.jsx("section",{id:"about",children:S.jsx(Yj,{})}),S.jsx("section",{id:"programs",children:S.jsx(Qj,{})}),S.jsx("section",{id:"departments",children:S.jsx(Wj,{})}),S.jsx("section",{id:"pastorsection",children:S.jsx(Zj,{})}),S.jsx("section",{id:"contact",children:S.jsx(Jj,{})})]})]})}const u5=({children:t})=>bA().currentUser?t:S.jsx(p2,{to:"/admin-login",replace:!0});xI.createRoot(document.getElementById("root")).render(S.jsx(vI.StrictMode,{children:S.jsx(B2,{children:S.jsx(a5,{children:S.jsxs(y2,{children:[S.jsx(Sa,{path:"/",element:S.jsx(l5,{})}),S.jsx(Sa,{path:"/live",element:S.jsx(e5,{})}),S.jsx(Sa,{path:"/departments",element:S.jsx(n5,{})}),S.jsx(Sa,{path:"/resources",element:S.jsx(i5,{})}),S.jsx(Sa,{path:"/admin-login",element:S.jsx(s5,{})}),S.jsx(Sa,{path:"/admin-dashboard",element:S.jsx(u5,{children:S.jsx(o5,{})})})]})})})}));
